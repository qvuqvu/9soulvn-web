{"ast":null,"code":"import _slicedToArray from\"C:/Users/qvuqv/OneDrive/Documents/UIT/ecom2/MERN-Ecommerce/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{Image}from'react-bootstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ImageMagnifier=function ImageMagnifier(_ref){var src=_ref.src,alt=_ref.alt,title=_ref.title,width=_ref.width,height=_ref.height,_ref$magnifierHeight=_ref.magnifierHeight,magnifierHeight=_ref$magnifierHeight===void 0?200:_ref$magnifierHeight,_ref$magnifieWidth=_ref.magnifieWidth,magnifieWidth=_ref$magnifieWidth===void 0?200:_ref$magnifieWidth,_ref$zoomLevel=_ref.zoomLevel,zoomLevel=_ref$zoomLevel===void 0?1.5:_ref$zoomLevel;var _useState=useState([0,0]),_useState2=_slicedToArray(_useState,2),_useState2$=_slicedToArray(_useState2[0],2),x=_useState2$[0],y=_useState2$[1],setXY=_useState2[1];var _useState3=useState([0,0]),_useState4=_slicedToArray(_useState3,2),_useState4$=_slicedToArray(_useState4[0],2),imgWidth=_useState4$[0],imgHeight=_useState4$[1],setSize=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showMagnifier=_useState6[0],setShowMagnifier=_useState6[1];return/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative',height:height,width:width},children:[/*#__PURE__*/_jsx(Image,{className:\"product-image\",src:src,style:{height:height,width:width},fluid:true,title:title,onMouseEnter:function onMouseEnter(e){// update image size and turn-on magnifier\nvar elem=e.currentTarget;var _elem$getBoundingClie=elem.getBoundingClientRect(),width=_elem$getBoundingClie.width,height=_elem$getBoundingClie.height;setSize([width,height]);setShowMagnifier(true);},onMouseMove:function onMouseMove(e){// update cursor position\nvar elem=e.currentTarget;var _elem$getBoundingClie2=elem.getBoundingClientRect(),top=_elem$getBoundingClie2.top,left=_elem$getBoundingClie2.left;// calculate cursor position on the image\nvar x=e.pageX-left-window.pageXOffset;var y=e.pageY-top-window.pageYOffset;setXY([x,y]);},onMouseLeave:function onMouseLeave(){// close magnifier\nsetShowMagnifier(false);},alt:alt}),/*#__PURE__*/_jsx(\"div\",{style:{display:showMagnifier?'':'none',// display: window.innerWidth <= 468 ? 'none' : '',\nposition:'absolute',// prevent maginier blocks the mousemove event of img\npointerEvents:'none',height:\"\".concat(magnifierHeight,\"px\"),width:\"\".concat(magnifieWidth,\"px\"),// move element center to cursor pos\ntop:\"\".concat(y-magnifierHeight/2.5,\"px\"),left:\"\".concat(x-magnifieWidth/2.5,\"px\"),opacity:'1',// reduce opacity so you can verify position\nborder:'1px solid lightgray',backgroundColor:'white',backgroundImage:\"url('\".concat(src,\"')\"),backgroundRepeat:'no-repeat',borderRadius:'50%',//calculate zoomed image size\nbackgroundSize:\"\".concat(imgWidth*zoomLevel,\"px \").concat(imgHeight*zoomLevel,\"px\"),//calculete position of zoomed image.\nbackgroundPositionX:\"\".concat(-x*zoomLevel+magnifieWidth/2,\"px\"),backgroundPositionY:\"\".concat(-y*zoomLevel+magnifierHeight/2,\"px\")}})]});};export default ImageMagnifier;","map":{"version":3,"names":["React","useState","Image","ImageMagnifier","src","alt","title","width","height","magnifierHeight","magnifieWidth","zoomLevel","x","y","setXY","imgWidth","imgHeight","setSize","showMagnifier","setShowMagnifier","position","e","elem","currentTarget","getBoundingClientRect","top","left","pageX","window","pageXOffset","pageY","pageYOffset","display","pointerEvents","opacity","border","backgroundColor","backgroundImage","backgroundRepeat","borderRadius","backgroundSize","backgroundPositionX","backgroundPositionY"],"sources":["C:/Users/qvuqv/OneDrive/Documents/UIT/ecom2/MERN-Ecommerce/frontend/src/components/ImageMagnifier.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Image } from 'react-bootstrap';\r\n\r\nconst ImageMagnifier = ({\r\n\tsrc,\r\n\talt,\r\n\ttitle,\r\n\twidth,\r\n\theight,\r\n\tmagnifierHeight = 200,\r\n\tmagnifieWidth = 200,\r\n\tzoomLevel = 1.5,\r\n}) => {\r\n\tconst [[x, y], setXY] = useState([0, 0]);\r\n\tconst [[imgWidth, imgHeight], setSize] = useState([0, 0]);\r\n\tconst [showMagnifier, setShowMagnifier] = useState(false);\r\n\treturn (\r\n\t\t<div\r\n\t\t\tstyle={{\r\n\t\t\t\tposition: 'relative',\r\n\t\t\t\theight: height,\r\n\t\t\t\twidth: width,\r\n\t\t\t}}>\r\n\t\t\t<Image\r\n\t\t\t\tclassName='product-image'\r\n\t\t\t\tsrc={src}\r\n\t\t\t\tstyle={{ height: height, width: width }}\r\n\t\t\t\tfluid\r\n\t\t\t\ttitle={title}\r\n\t\t\t\tonMouseEnter={(e) => {\r\n\t\t\t\t\t// update image size and turn-on magnifier\r\n\t\t\t\t\tconst elem = e.currentTarget;\r\n\t\t\t\t\tconst { width, height } = elem.getBoundingClientRect();\r\n\t\t\t\t\tsetSize([width, height]);\r\n\t\t\t\t\tsetShowMagnifier(true);\r\n\t\t\t\t}}\r\n\t\t\t\tonMouseMove={(e) => {\r\n\t\t\t\t\t// update cursor position\r\n\t\t\t\t\tconst elem = e.currentTarget;\r\n\t\t\t\t\tconst { top, left } = elem.getBoundingClientRect();\r\n\r\n\t\t\t\t\t// calculate cursor position on the image\r\n\t\t\t\t\tconst x = e.pageX - left - window.pageXOffset;\r\n\t\t\t\t\tconst y = e.pageY - top - window.pageYOffset;\r\n\t\t\t\t\tsetXY([x, y]);\r\n\t\t\t\t}}\r\n\t\t\t\tonMouseLeave={() => {\r\n\t\t\t\t\t// close magnifier\r\n\t\t\t\t\tsetShowMagnifier(false);\r\n\t\t\t\t}}\r\n\t\t\t\talt={alt}\r\n\t\t\t/>\r\n\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tdisplay: showMagnifier ? '' : 'none',\r\n\t\t\t\t\t// display: window.innerWidth <= 468 ? 'none' : '',\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t// prevent maginier blocks the mousemove event of img\r\n\t\t\t\t\tpointerEvents: 'none',\r\n\t\t\t\t\theight: `${magnifierHeight}px`,\r\n\t\t\t\t\twidth: `${magnifieWidth}px`,\r\n\t\t\t\t\t// move element center to cursor pos\r\n\t\t\t\t\ttop: `${y - magnifierHeight / 2.5}px`,\r\n\t\t\t\t\tleft: `${x - magnifieWidth / 2.5}px`,\r\n\t\t\t\t\topacity: '1', // reduce opacity so you can verify position\r\n\t\t\t\t\tborder: '1px solid lightgray',\r\n\t\t\t\t\tbackgroundColor: 'white',\r\n\t\t\t\t\tbackgroundImage: `url('${src}')`,\r\n\t\t\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\t\t\tborderRadius: '50%',\r\n\r\n\t\t\t\t\t//calculate zoomed image size\r\n\t\t\t\t\tbackgroundSize: `${imgWidth * zoomLevel}px ${\r\n\t\t\t\t\t\timgHeight * zoomLevel\r\n\t\t\t\t\t}px`,\r\n\r\n\t\t\t\t\t//calculete position of zoomed image.\r\n\t\t\t\t\tbackgroundPositionX: `${\r\n\t\t\t\t\t\t-x * zoomLevel + magnifieWidth / 2\r\n\t\t\t\t\t}px`,\r\n\t\t\t\t\tbackgroundPositionY: `${\r\n\t\t\t\t\t\t-y * zoomLevel + magnifierHeight / 2\r\n\t\t\t\t\t}px`,\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ImageMagnifier;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}