{"ast":null,"code":"import _toConsumableArray from\"C:/Users/qvuqv/OneDrive/Documents/UIT/ecom2/MERN-Ecommerce/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"C:/Users/qvuqv/OneDrive/Documents/UIT/ecom2/MERN-Ecommerce/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{CART_ADD_ITEM,CART_REMOVE_ITEM,CART_SAVE_SHIPPING_ADDRESS,CART_SAVE_PAYMENT_METHOD,CART_RESET}from'../constants/cartConstants';export var cartReducer=function cartReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{cartItems:[],shippingAddress:{}};var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case CART_ADD_ITEM:var item=action.payload;// check if the item exists in the cart\nvar existingItem=state.cartItems.find(function(ele){return ele.product===item.product;});if(existingItem){return _objectSpread(_objectSpread({},state),{},{cartItems:state.cartItems.map(function(ele){return ele.product===existingItem.product?item:ele;})});}else{return _objectSpread(_objectSpread({},state),{},{cartItems:[].concat(_toConsumableArray(state.cartItems),[item])});}case CART_REMOVE_ITEM:return _objectSpread(_objectSpread({},state),{},{cartItems:state.cartItems.filter(function(ele){return ele.product!==action.payload;})});case CART_SAVE_SHIPPING_ADDRESS:return _objectSpread(_objectSpread({},state),{},{shippingAddress:action.payload});case CART_SAVE_PAYMENT_METHOD:return _objectSpread(_objectSpread({},state),{},{paymentMethod:action.payload});case CART_RESET:{return{cartItems:[],shippingAddress:action.payload};}default:return _objectSpread({},state);}};","map":{"version":3,"names":["CART_ADD_ITEM","CART_REMOVE_ITEM","CART_SAVE_SHIPPING_ADDRESS","CART_SAVE_PAYMENT_METHOD","CART_RESET","cartReducer","state","cartItems","shippingAddress","action","type","item","payload","existingItem","find","ele","product","map","filter","paymentMethod"],"sources":["C:/Users/qvuqv/OneDrive/Documents/UIT/ecom2/MERN-Ecommerce/frontend/src/reducers/cartReducers.js"],"sourcesContent":["import {\r\n\tCART_ADD_ITEM,\r\n\tCART_REMOVE_ITEM,\r\n\tCART_SAVE_SHIPPING_ADDRESS,\r\n\tCART_SAVE_PAYMENT_METHOD,\r\n\tCART_RESET,\r\n} from '../constants/cartConstants';\r\n\r\nexport const cartReducer = (\r\n\tstate = { cartItems: [], shippingAddress: {} },\r\n\taction\r\n) => {\r\n\tswitch (action.type) {\r\n\t\tcase CART_ADD_ITEM:\r\n\t\t\tconst item = action.payload;\r\n\r\n\t\t\t// check if the item exists in the cart\r\n\t\t\tconst existingItem = state.cartItems.find(\r\n\t\t\t\t(ele) => ele.product === item.product\r\n\t\t\t);\r\n\t\t\tif (existingItem) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tcartItems: state.cartItems.map((ele) =>\r\n\t\t\t\t\t\tele.product === existingItem.product ? item : ele\r\n\t\t\t\t\t),\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tcartItems: [...state.cartItems, item],\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\tcase CART_REMOVE_ITEM:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcartItems: state.cartItems.filter(\r\n\t\t\t\t\t(ele) => ele.product !== action.payload\r\n\t\t\t\t),\r\n\t\t\t};\r\n\t\tcase CART_SAVE_SHIPPING_ADDRESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tshippingAddress: action.payload,\r\n\t\t\t};\r\n\t\tcase CART_SAVE_PAYMENT_METHOD:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpaymentMethod: action.payload,\r\n\t\t\t};\r\n\t\tcase CART_RESET: {\r\n\t\t\treturn {\r\n\t\t\t\tcartItems: [],\r\n\t\t\t\tshippingAddress: action.payload,\r\n\t\t\t};\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n"],"mappings":"yTAAA,OACCA,aADD,CAECC,gBAFD,CAGCC,0BAHD,CAICC,wBAJD,CAKCC,UALD,KAMO,4BANP,CAQA,MAAO,IAAMC,YAAW,CAAG,QAAdA,YAAc,EAGtB,IAFJC,MAEI,2DAFI,CAAEC,SAAS,CAAE,EAAb,CAAiBC,eAAe,CAAE,EAAlC,CAEJ,IADJC,OACI,2CACJ,OAAQA,MAAM,CAACC,IAAf,EACC,IAAKV,cAAL,CACC,GAAMW,KAAI,CAAGF,MAAM,CAACG,OAApB,CAEA;AACA,GAAMC,aAAY,CAAGP,KAAK,CAACC,SAAN,CAAgBO,IAAhB,CACpB,SAACC,GAAD,QAASA,IAAG,CAACC,OAAJ,GAAgBL,IAAI,CAACK,OAA9B,EADoB,CAArB,CAGA,GAAIH,YAAJ,CAAkB,CACjB,sCACIP,KADJ,MAECC,SAAS,CAAED,KAAK,CAACC,SAAN,CAAgBU,GAAhB,CAAoB,SAACF,GAAD,QAC9BA,IAAG,CAACC,OAAJ,GAAgBH,YAAY,CAACG,OAA7B,CAAuCL,IAAvC,CAA8CI,GADhB,EAApB,CAFZ,GAMA,CAPD,IAOO,CACN,sCACIT,KADJ,MAECC,SAAS,8BAAMD,KAAK,CAACC,SAAZ,GAAuBI,IAAvB,EAFV,GAIA,CACF,IAAKV,iBAAL,CACC,sCACIK,KADJ,MAECC,SAAS,CAAED,KAAK,CAACC,SAAN,CAAgBW,MAAhB,CACV,SAACH,GAAD,QAASA,IAAG,CAACC,OAAJ,GAAgBP,MAAM,CAACG,OAAhC,EADU,CAFZ,GAMD,IAAKV,2BAAL,CACC,sCACII,KADJ,MAECE,eAAe,CAAEC,MAAM,CAACG,OAFzB,GAID,IAAKT,yBAAL,CACC,sCACIG,KADJ,MAECa,aAAa,CAAEV,MAAM,CAACG,OAFvB,GAID,IAAKR,WAAL,CAAiB,CAChB,MAAO,CACNG,SAAS,CAAE,EADL,CAENC,eAAe,CAAEC,MAAM,CAACG,OAFlB,CAAP,CAIA,CACD,QACC,wBAAYN,KAAZ,EA7CF,CA+CA,CAnDM"},"metadata":{},"sourceType":"module"}