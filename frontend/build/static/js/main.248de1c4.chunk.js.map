{"version":3,"sources":["constants/userConstants.js","constants/orderConstants.js","actions/userActions.js","components/SearchBox.js","components/Header.js","components/Footer.js","components/Rating.js","components/Product.js","components/Paginate.js","components/Message.js","constants/productConstants.js","actions/productActions.js","components/BasicSkeleton.js","components/SkeletonShimmer.js","components/Meta.js","components/ProductSkeleton.js","components/introduce.jsx","pages/HomePage.js","components/ImageMagnifier.js","components/Loader.js","actions/orderActions.js","utils/getDateString.js","pages/ProductPage.js","constants/cartConstants.js","actions/cartActions.js","pages/CartPage.js","components/FormContainer.js","assets/googleLogo.png","assets/twitterLogo.png","components/SocialLoginOptions.js","assets/githubLogo.png","assets/linkedinLogo.png","pages/LoginPage.js","pages/RegisterPage.js","pages/ProfilePage.js","pages/ConfirmPage.js","components/CheckoutStatus.js","pages/ShippingPage.js","pages/PaymentPage.js","pages/PlaceOrderPage.js","components/CheckoutForm.js","pages/OrderPage.js","pages/PasswordResetPage.js","pages/UserListPage.js","pages/UserEditPage.js","pages/ProductListPage.js","pages/ProductEditPage.js","pages/OrderListPage.js","assets/404Error.png","pages/ErrorPage.js","serviceWorkerRegistration.js","ServiceWorkerWrapper.js","App.js","store.js","reducers/productReducers.js","reducers/cartReducers.js","reducers/userReducers.js","reducers/orderReducers.js","index.js"],"names":["USER_LOGIN_REQUEST","USER_LOGIN_SUCCESS","USER_LOGIN_FAILURE","USER_LOGIN_REFRESH_REQUEST","USER_LOGIN_REFRESH_SUCCESS","USER_LOGIN_REFRESH_FAILURE","USER_LOGOUT","USER_REGISTER_REQUEST","USER_REGISTER_SUCCESS","USER_REGISTER_FAILURE","USER_RESET_PASSWORD_REQUEST","USER_RESET_PASSWORD_SUCCESS","USER_RESET_PASSWORD_FAILURE","USER_EMAIL_VERIFICATION_REQUEST","USER_EMAIL_VERIFICATION_SUCCESS","USER_EMAIL_VERIFICATION_FAILURE","USER_CONFIRM_REQUEST","USER_CONFIRM_SUCCESS","USER_CONFIRM_FAILURE","USER_DETAILS_REQUEST","USER_DETAILS_SUCCESS","USER_DETAILS_FAILURE","USER_DETAILS_RESET","USER_PROFILE_UPDATE_REQUEST","USER_PROFILE_UPDATE_SUCCESS","USER_PROFILE_UPDATE_FAILURE","USER_PROFILE_UPDATE_RESET","USER_LIST_REQUEST","USER_LIST_SUCCESS","USER_LIST_FAILURE","USER_LIST_RESET","USER_DELETE_REQUEST","USER_DELETE_SUCCESS","USER_DELETE_FAILURE","USER_UPDATE_REQUEST","USER_UPDATE_SUCCESS","USER_UPDATE_FAILURE","USER_UPDATE_RESET","ORDER_CREATE_REQUEST","ORDER_CREATE_SUCCESS","ORDER_CREATE_FAILURE","ORDER_CREATE_RESET","ORDER_DETAILS_REQUEST","ORDER_DETAILS_SUCCESS","ORDER_DETAILS_FAILURE","ORDER_PAY_REQUEST","ORDER_PAY_SUCCESS","ORDER_PAY_FAILURE","ORDER_PAY_RESET","ORDER_DELIVER_REQUEST","ORDER_DELIVER_SUCCESS","ORDER_DELIVER_FAILURE","ORDER_DELIVER_RESET","ORDER_USER_LIST_REQUEST","ORDER_USER_LIST_SUCCESS","ORDER_USER_LIST_FAILURE","ORDER_USER_LIST_RESET","ORDER_ALL_LIST_REQUEST","ORDER_ALL_LIST_SUCCESS","ORDER_ALL_LIST_FAILURE","refreshLogin","email","dispatch","getState","type","userInfo","userLogin","isSocialLogin","payload","config","headers","axios","post","token","refreshToken","data","success","updatedUser","accessToken","localStorage","setItem","JSON","stringify","removeItem","response","message","getUserDetails","id","Authorization","get","updateUserProfile","user","isSocial","put","SearchBox","history","useState","keyword","setKeyword","Form","onSubmit","e","preventDefault","trim","push","className","InputGroup","Control","style","border","borderRight","name","onChange","target","value","placeholder","Text","background","borderLeft","margin","outline","padding","color","Header","useDispatch","useSelector","state","cart","cartItems","show1","setShow1","show2","setShow2","count","setCount","useEffect","reduce","acc","item","qty","handleLogout","window","location","href","display","innerHeight","minWidth","height","zIndex","position","onClick","Navbar","bg","variant","expand","Container","to","Brand","src","alt","render","Nav","justifyContent","isAdmin","Link","fontSize","innerWidth","NavDropdown","title","show","Item","avatar","Footer","width","size","align","Rating","text","map","ele","idx","defaultProps","Product","product","Card","_id","Img","loading","image","Body","textDecoration","Title","as","rating","numReviews","price","toLocaleString","maximumFractionDigits","currency","Paginate","pages","page","forOrders","forUsers","Pagination","Array","keys","active","Number","Message","duration","children","dismissible","visible","setVisible","setTimeout","Alert","onClose","PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_LIST_FAILURE","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_FAILURE","PRODUCT_DELETE_REQUEST","PRODUCT_DELETE_SUCCESS","PRODUCT_DELETE_FAILURE","PRODUCT_CREATE_REQUEST","PRODUCT_CREATE_SUCCESS","PRODUCT_CREATE_FAILURE","PRODUCT_CREATE_RESET","PRODUCT_UPDATE_REQUEST","PRODUCT_UPDATE_SUCCESS","PRODUCT_UPDATE_FAILURE","PRODUCT_UPDATE_RESET","PRODUCT_CREATE_REVIEW_REQUEST","PRODUCT_CREATE_REVIEW_SUCCESS","PRODUCT_CREATE_REVIEW_FAILURE","PRODUCT_CREATE_REVIEW_RESET","PRODUCT_TOP_RATED_REQUEST","PRODUCT_TOP_RATED_SUCCESS","PRODUCT_TOP_RATED_FAILURE","listProducts","pageNumber","pageSize","listProductDetails","BasicSkeleton","classes","SkeletonShimmer","Meta","description","keywords","content","ProductSkeleton","Introduce","HomePage","match","params","promptVerfication","setPromptVerification","products","setProducts","productAvailable","setProductAvailable","productList","error","userInfoError","userDetails","parse","getItem","length","Row","Col","sm","md","lg","xl","ImageMagnifier","magnifierHeight","magnifieWidth","zoomLevel","x","y","setXY","imgWidth","imgHeight","setSize","showMagnifier","setShowMagnifier","Image","fluid","onMouseEnter","currentTarget","getBoundingClientRect","onMouseMove","top","left","pageX","pageXOffset","pageY","pageYOffset","onMouseLeave","pointerEvents","opacity","backgroundColor","backgroundImage","backgroundRepeat","borderRadius","backgroundSize","backgroundPositionX","backgroundPositionY","Loader","Spinner","animation","role","payOrder","orderID","paymentResult","listMyOrders","getDateString","date","showTime","options","year","month","day","timeStr","Date","toLocaleTimeString","timeStyle","hour12","timeZone","result","toLocaleDateString","ProductPage","quantity","setQuantity","setRating","review","setReview","allReviews","setAllReviews","hasOrderedItem","setHasOrderedItem","showReviewForm","setShowReviewForm","productDetails","userLoginError","productCreateReview","loadingCreateReview","successCreateReview","errorCreateReview","orders","orderListUser","alert","reviews","flag","obj","orderItems","toString","sortedArr","sort","a","b","createdAt","ListGroup","countInStock","Button","disabled","productID","createProductReview","Group","controlId","default","FloatingLabel","label","row","CART_ADD_ITEM","CART_REMOVE_ITEM","CART_RESET","CART_SAVE_SHIPPING_ADDRESS","CART_SAVE_PAYMENT_METHOD","addItem","console","savePaymentMethod","log","CartPage","totalItems","setTotalItems","search","split","handleRemoveFromCart","alignItems","rounded","ButtonGroup","FormContainer","xs","SocialLoginOptions","baseURL","process","fleFlow","objectFit","googleLogo","twitterLogo","LoginPage","authFailedMsg","setAuthFailedMsg","showRedirectMsg","setShowRedirectMsg","forgotPassword","setForgotPassword","showLoading","setShowLoading","emailSent","setEmailSent","setType","setEmail","password","setPassword","redirect","storedInfo","includes","queries","isSuccess","then","userData","isConfirmed","handleEmailSubmit","boxShadow","WebkitBoxShadow","MozBoxShadow","cursor","marginTop","loginUser","required","stopPropagation","marginLeft","RegisterPage","typePassword","setTypePassword","typeConfirmPassword","setTypeConfirmPassword","setName","confirmPassword","setConfirmPassword","setMessage","userRegister","registerUser","ProfilePage","inputFile","useRef","showSubmitButton","setShowSubmitButton","setAvatar","allOrders","setAllOrders","uploading","setUploading","errorImageUpload","setErrorImageUpload","userProfileUpdate","loadingOrdersList","errorOrdersList","userSendEmailVerfication","hasError","handleImageUpload","file","files","formData","FormData","append","fontWeight","focus","sendVerficationEmail","flexFlow","alignSelf","marginBottom","current","click","accept","ref","Table","striped","bordered","responsive","order","textAlign","totalPrice","isPaid","paidAt","isDelivered","deliveredAt","ConfirmPage","userConfirm","isLoggedIn","setIsLoggedIn","emailToken","alreadyLoggedIn","confirmUser","CheckoutStatus","step1","step2","step3","step4","ShippingPage","shippingAddress","address","setAddress","city","setCity","postalCode","setPostalCode","country","setCountry","PaymentPage","paymentMethod","setPaymentMethod","handleChange","Check","inline","checked","PlaceOrderPage","orderCreate","itemsPrice","shippingPrice","taxPrice","createOrder","CheckoutForm","setError","clientSecret","setClientSecret","stripe","useStripe","elements","useElements","getClientSecret","makePayment","confirmCardPayment","payment_method","card","getElement","CardElement","billing_details","paymentIntent","paymentMode","reload","base","invalid","OrderPage","stripePromise","loadStripe","SDKReady","setSDKReady","orderDetails","orderPay","loadingPay","successPay","orderDeliver","loadingDeliver","successDeliver","getOrderDetails","addScript","clientID","script","document","createElement","async","onload","body","appendChild","shape","layout","amount","toFixed","onSuccess","deliverOrder","PasswordResetPage","userResetPassword","resetPassword","nameFromLocalStorage","passwordToken","resetUserPassword","paddingLeft","UserListPage","userList","users","total","successDelete","userDelete","listAllUsers","handleDelete","confirm","delete","deleteUser","UserEditPage","userId","setIsAdmin","userUpdate","loadingUpdate","errorUpdate","successUpdate","newUserInfo","updateUser","Label","ProductListPage","productDelete","loadingDelete","errorDelete","productCreate","loadingCreate","successCreate","errorCreate","createdProduct","deleteProduct","category","brand","ProductEditPage","productId","setBrand","setCategory","setDescription","setImage","setPrice","setCountInStock","productUpdate","handleFileUpload","updateProduct","min","max","step","orderListAll","listAllOrders","ErrorPage","errorImg","isLocalhost","Boolean","hostname","register","navigator","URL","origin","addEventListener","swUrl","fetch","contentType","status","indexOf","serviceWorker","ready","registration","unregister","registerValidSW","catch","checkValidServiceWorker","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","ServiceWorkerWrapper","showReload","setShowReload","waitingWorker","setWaitingWorker","onSWUpdate","waiting","serviceWorkerRegistration","reloadPage","postMessage","ToastContainer","Toast","App","path","component","exact","OrderListPage","reducer","combineReducers","action","productTopRated","existingItem","find","filter","userLoginRefresh","tokenInfo","isLoading","cartItemsFromLocalStorage","userInfoFromLocalStorage","shippingAddressFromLocalStorage","tokenInfoFromLocalStoage","initialState","middleware","thunk","store","createStore","composeWithDevTools","applyMiddleware","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.248de1c4.chunk.js","sourcesContent":["export const USER_LOGIN_REQUEST = 'USER_LOGIN_REQUEST';\r\nexport const USER_LOGIN_SUCCESS = 'USER_LOGIN_SUCCESS';\r\nexport const USER_LOGIN_FAILURE = 'USER_LOGIN_FAILURE';\r\nexport const USER_LOGIN_REFRESH_REQUEST = 'USER_LOGIN_REFRESH_REQUEST';\r\nexport const USER_LOGIN_REFRESH_SUCCESS = 'USER_LOGIN_REFRESH_SUCCESS';\r\nexport const USER_LOGIN_REFRESH_FAILURE = 'USER_LOGIN_REFRESH_FAILURE';\r\nexport const USER_LOGOUT = 'USER_LOGOUT';\r\n\r\nexport const USER_REGISTER_REQUEST = 'USER_REGISTER_REQUEST';\r\nexport const USER_REGISTER_SUCCESS = 'USER_REGISTER_SUCCESS';\r\nexport const USER_REGISTER_FAILURE = 'USER_REGISTER_FAILURE';\r\n\r\nexport const USER_RESET_PASSWORD_REQUEST = 'USER_RESET_PASSWORD_REQUEST';\r\nexport const USER_RESET_PASSWORD_SUCCESS = 'USER_RESET_PASSWORD_SUCCESS';\r\nexport const USER_RESET_PASSWORD_FAILURE = 'USER_RESET_PASSWORD_FAILURE';\r\n\r\n// To send the email verification link\r\nexport const USER_EMAIL_VERIFICATION_REQUEST =\r\n\t'USER_EMAIL_VERIFICATION_REQUEST';\r\nexport const USER_EMAIL_VERIFICATION_SUCCESS =\r\n\t'USER_EMAIL_VERIFICATION_SUCCESS';\r\nexport const USER_EMAIL_VERIFICATION_FAILURE =\r\n\t'USER_EMAIL_VERIFICATION_FAILURE';\r\n\r\n// To actually verify the email token and confirm the user email\r\nexport const USER_CONFIRM_REQUEST = 'USER_CONFIRM_REQUEST';\r\nexport const USER_CONFIRM_SUCCESS = 'USER_CONFIRM_SUCCESS';\r\nexport const USER_CONFIRM_FAILURE = 'USER_CONFIRM_FAILURE';\r\n\r\nexport const USER_DETAILS_REQUEST = 'USER_DETAILS_REQUEST';\r\nexport const USER_DETAILS_SUCCESS = 'USER_DETAILS_SUCCESS';\r\nexport const USER_DETAILS_FAILURE = 'USER_DETAILS_FAILURE';\r\nexport const USER_DETAILS_RESET = 'USER_DETAILS_RESET';\r\n\r\nexport const USER_PROFILE_UPDATE_REQUEST = 'USER_PROFILE_UPDATE_REQUEST';\r\nexport const USER_PROFILE_UPDATE_SUCCESS = 'USER_PROFILE_UPDATE_SUCCESS';\r\nexport const USER_PROFILE_UPDATE_FAILURE = 'USER_PROFILE_UPDATE_FAILURE';\r\nexport const USER_PROFILE_UPDATE_RESET = 'USER_PROFILE_UPDATE_RESET';\r\n\r\nexport const USER_LIST_REQUEST = 'USER_LIST_REQUEST';\r\nexport const USER_LIST_SUCCESS = 'USER_LIST_SUCCESS';\r\nexport const USER_LIST_FAILURE = 'USER_LIST_FAILURE';\r\nexport const USER_LIST_RESET = 'USER_LIST_RESET';\r\n\r\nexport const USER_DELETE_REQUEST = 'USER_DELETE_REQUEST';\r\nexport const USER_DELETE_SUCCESS = 'USER_DELETE_SUCCESS';\r\nexport const USER_DELETE_FAILURE = 'USER_DELETE_FAILURE';\r\n\r\nexport const USER_UPDATE_REQUEST = 'USER_UPDATE_REQUEST';\r\nexport const USER_UPDATE_SUCCESS = 'USER_UPDATE_SUCCESS';\r\nexport const USER_UPDATE_FAILURE = 'USER_UPDATE_FAILURE';\r\nexport const USER_UPDATE_RESET = 'USER_UPDATE_RESET';\r\n","export const ORDER_CREATE_REQUEST = 'ORDER_CREATE_REQUEST';\r\nexport const ORDER_CREATE_SUCCESS = 'ORDER_CREATE_SUCCESS';\r\nexport const ORDER_CREATE_FAILURE = 'ORDER_CREATE_FAILURE';\r\nexport const ORDER_CREATE_RESET = 'ORDER_CREATE_RESET';\r\n\r\nexport const ORDER_DETAILS_REQUEST = 'ORDER_DETAILS_REQUEST';\r\nexport const ORDER_DETAILS_SUCCESS = 'ORDER_DETAILS_SUCCESS';\r\nexport const ORDER_DETAILS_FAILURE = 'ORDER_DETAILS_FAILURE';\r\n\r\nexport const ORDER_PAY_REQUEST = 'ORDER_PAY_REQUEST';\r\nexport const ORDER_PAY_SUCCESS = 'ORDER_PAY_SUCCESS';\r\nexport const ORDER_PAY_FAILURE = 'ORDER_PAY_FAILURE';\r\nexport const ORDER_PAY_RESET = 'ORDER_PAY_RESET';\r\n\r\nexport const ORDER_DELIVER_REQUEST = 'ORDER_DELIVER_REQUEST';\r\nexport const ORDER_DELIVER_SUCCESS = 'ORDER_DELIVER_SUCCESS';\r\nexport const ORDER_DELIVER_FAILURE = 'ORDER_DELIVER_FAILURE';\r\nexport const ORDER_DELIVER_RESET = 'ORDER_DELIVER_RESET';\r\n\r\nexport const ORDER_USER_LIST_REQUEST = 'ORDER_USER_LIST_REQUEST';\r\nexport const ORDER_USER_LIST_SUCCESS = 'ORDER_USER_LIST_SUCCESS';\r\nexport const ORDER_USER_LIST_FAILURE = 'ORDER_USER_LIST_FAILURE';\r\nexport const ORDER_USER_LIST_RESET = 'ORDER_USER_LIST_RESET';\r\n\r\nexport const ORDER_ALL_LIST_REQUEST = 'ORDER_ALL_LIST_REQUEST';\r\nexport const ORDER_ALL_LIST_SUCCESS = 'ORDER_ALL_LIST_SUCCESS';\r\nexport const ORDER_ALL_LIST_FAILURE = 'ORDER_ALL_LIST_FAILURE';\r\n","import {\r\n\tUSER_LOGIN_REQUEST,\r\n\tUSER_LOGIN_SUCCESS,\r\n\tUSER_LOGIN_FAILURE,\r\n\tUSER_LOGIN_REFRESH_REQUEST,\r\n\tUSER_LOGIN_REFRESH_SUCCESS,\r\n\tUSER_LOGIN_REFRESH_FAILURE,\r\n\tUSER_LOGOUT,\r\n\tUSER_REGISTER_REQUEST,\r\n\tUSER_REGISTER_SUCCESS,\r\n\tUSER_REGISTER_FAILURE,\r\n\tUSER_RESET_PASSWORD_REQUEST,\r\n\tUSER_RESET_PASSWORD_SUCCESS,\r\n\tUSER_RESET_PASSWORD_FAILURE,\r\n\tUSER_EMAIL_VERIFICATION_REQUEST,\r\n\tUSER_EMAIL_VERIFICATION_SUCCESS,\r\n\tUSER_EMAIL_VERIFICATION_FAILURE,\r\n\tUSER_CONFIRM_REQUEST,\r\n\tUSER_CONFIRM_SUCCESS,\r\n\tUSER_CONFIRM_FAILURE,\r\n\tUSER_DETAILS_REQUEST,\r\n\tUSER_DETAILS_SUCCESS,\r\n\tUSER_DETAILS_FAILURE,\r\n\tUSER_DETAILS_RESET,\r\n\tUSER_PROFILE_UPDATE_REQUEST,\r\n\tUSER_PROFILE_UPDATE_SUCCESS,\r\n\tUSER_PROFILE_UPDATE_FAILURE,\r\n\tUSER_LIST_REQUEST,\r\n\tUSER_LIST_SUCCESS,\r\n\tUSER_LIST_FAILURE,\r\n\tUSER_DELETE_REQUEST,\r\n\tUSER_DELETE_SUCCESS,\r\n\tUSER_DELETE_FAILURE,\r\n\tUSER_UPDATE_REQUEST,\r\n\tUSER_UPDATE_SUCCESS,\r\n\tUSER_UPDATE_FAILURE,\r\n} from '../constants/userConstants';\r\nimport {\r\n\tORDER_CREATE_RESET,\r\n\tORDER_USER_LIST_RESET,\r\n} from '../constants/orderConstants';\r\nimport axios from 'axios';\r\n\r\n// login an user, can be a social login or a normal email verified login\r\nexport const loginUser = (email, password) => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({ type: USER_LOGIN_REQUEST });\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.post(\r\n\t\t\t'/api/users/login',\r\n\t\t\t{ email, password },\r\n\t\t\tconfig\r\n\t\t);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_SUCCESS,\r\n\t\t\tpayload: { ...data, isSocialLogin: false },\r\n\t\t});\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_REFRESH_SUCCESS,\r\n\t\t\tpayload: data.refreshToken,\r\n\t\t});\r\n\t\t// store the refresh token and the rest of the user info in the local storage\r\n\t\tlocalStorage.setItem('refreshToken', data.refreshToken);\r\n\t\tlocalStorage.setItem(\r\n\t\t\t'userInfo',\r\n\t\t\tJSON.stringify({ ...data, isSocialLogin: false })\r\n\t\t);\r\n\t\t// remove the variable that helps prompt the user that email is not verified, each time they login\r\n\t\tlocalStorage.removeItem('promptEmailVerfication');\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_FAILURE,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\n// used for refreshing the access tokens when the user logs in using email and password\r\nexport const refreshLogin = (email) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: USER_LOGIN_REFRESH_REQUEST });\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\t// avoid this if social login\r\n\t\tif (userInfo.isSocialLogin) {\r\n\t\t\tdispatch({ type: USER_LOGIN_REFRESH_SUCCESS, payload: null });\r\n\t\t} else {\r\n\t\t\tconst config = {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t},\r\n\t\t\t};\r\n\r\n\t\t\tconst { data } = await axios.post(\r\n\t\t\t\t'/api/users/refresh',\r\n\t\t\t\t{\r\n\t\t\t\t\temail,\r\n\t\t\t\t\ttoken: userInfo.refreshToken,\r\n\t\t\t\t},\r\n\t\t\t\tconfig\r\n\t\t\t);\r\n\r\n\t\t\tif (data.success) {\r\n\t\t\t\tdispatch({ type: USER_LOGIN_REFRESH_SUCCESS, payload: data });\r\n\t\t\t\tconst updatedUser = {\r\n\t\t\t\t\t...userInfo,\r\n\t\t\t\t\taccessToken: data.accessToken,\r\n\t\t\t\t\trefreshToken: userInfo.refreshToken,\r\n\t\t\t\t};\r\n\t\t\t\t// update the local storage\r\n\t\t\t\tlocalStorage.setItem('userInfo', JSON.stringify(updatedUser));\r\n\t\t\t\tdispatch({ type: USER_LOGIN_SUCCESS, payload: updatedUser });\r\n\t\t\t} else if (!data.success) {\r\n\t\t\t\t// set a variable in local storage which redirects to login page, if this refresh thing fails\r\n\t\t\t\tlocalStorage.removeItem('userInfo');\r\n\t\t\t\tlocalStorage.setItem('redirectLogin', 'true'); // after refresh token also expires, redirect to login page after loggin out the user\r\n\t\t\t\tdispatch({ type: USER_LOGOUT });\r\n\t\t\t}\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_REFRESH_FAILURE,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\n// logout by removing all local storage info\r\nexport const logoutUser = () => (dispatch) => {\r\n\tlocalStorage.removeItem('userInfo');\r\n\tlocalStorage.removeItem('redirectLogin');\r\n\tlocalStorage.removeItem('cartItems');\r\n\tdispatch({ type: USER_LOGOUT });\r\n\tdispatch({ type: USER_DETAILS_RESET });\r\n\tdispatch({ type: ORDER_CREATE_RESET });\r\n\tdispatch({ type: ORDER_USER_LIST_RESET });\r\n};\r\n\r\n// register a new user with the form for name, email, password\r\nexport const registerUser = (name, email, password) => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({ type: USER_REGISTER_REQUEST });\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.post(\r\n\t\t\t'/api/users/',\r\n\t\t\t{ name, email, password },\r\n\t\t\tconfig\r\n\t\t);\r\n\r\n\t\tdispatch({ type: USER_REGISTER_SUCCESS, payload: data });\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_REGISTER_FAILURE,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\n// send an email for verification of the newly registered account\r\nexport const sendVerficationEmail = (email) => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({ type: USER_EMAIL_VERIFICATION_REQUEST });\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.post(\r\n\t\t\t'/api/users/confirm',\r\n\t\t\t{ email },\r\n\t\t\tconfig\r\n\t\t);\r\n\t\tdispatch({ type: USER_EMAIL_VERIFICATION_SUCCESS, payload: data });\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_EMAIL_VERIFICATION_FAILURE,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\n// take the email token sent from the mail, and confirm the account once the link is clicked\r\nexport const confirmUser =\r\n\t(emailToken, alreadyLoggedIn = false) =>\r\n\tasync (dispatch, getState) => {\r\n\t\ttry {\r\n\t\t\tdispatch({ type: USER_CONFIRM_REQUEST });\r\n\t\t\tconst { data } = await axios.get(\r\n\t\t\t\t`/api/users/confirm/${emailToken}`\r\n\t\t\t);\r\n\r\n\t\t\t// remove variable meant to prompt the user for email verification\r\n\t\t\tlocalStorage.removeItem('promptEmailVerfication');\r\n\t\t\tdispatch({ type: USER_CONFIRM_SUCCESS, payload: true });\r\n\r\n\t\t\tif (alreadyLoggedIn) {\r\n\t\t\t\tdispatch({ type: USER_LOGIN_SUCCESS, payload: data });\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: USER_LOGIN_REFRESH_SUCCESS,\r\n\t\t\t\t\tpayload: data.refreshToken,\r\n\t\t\t\t});\r\n\t\t\t\tlocalStorage.setItem('refreshToken', data.refreshToken);\r\n\t\t\t\tlocalStorage.setItem('userInfo', JSON.stringify(data));\r\n\t\t\t}\r\n\r\n\t\t\tlocalStorage.removeItem('promptEmailVerfication');\r\n\t\t} catch (error) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: USER_CONFIRM_FAILURE,\r\n\t\t\t\tpayload:\r\n\t\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t\t: error.message,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n// reset the user password and send one more verification email from the server\r\nexport const resetUserPassword =\r\n\t(passwordToken, password) => async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tdispatch({ type: USER_RESET_PASSWORD_REQUEST });\r\n\r\n\t\t\t// make the api call to reset the password\r\n\t\t\tconst config = {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t},\r\n\t\t\t};\r\n\r\n\t\t\tconst { data } = await axios.put(\r\n\t\t\t\t'/api/users/reset',\r\n\t\t\t\t{ passwordToken, password },\r\n\t\t\t\tconfig\r\n\t\t\t);\r\n\r\n\t\t\tdispatch({ type: USER_RESET_PASSWORD_SUCCESS, payload: data });\r\n\t\t} catch (error) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: USER_RESET_PASSWORD_FAILURE,\r\n\t\t\t\tpayload:\r\n\t\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t\t: error.message,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n// get user details for profile page\r\nexport const getUserDetails = (id) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: USER_DETAILS_REQUEST });\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tif (userInfo.isSocialLogin) {\r\n\t\t\tconst config = {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t},\r\n\t\t\t};\r\n\r\n\t\t\tlet { data } = await axios.post(\r\n\t\t\t\t'/api/users/passport/data/',\r\n\t\t\t\t{ id },\r\n\t\t\t\tconfig\r\n\t\t\t);\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: USER_DETAILS_SUCCESS,\r\n\t\t\t\tpayload: { ...data, isSocialLogin: true },\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tconst config = {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\r\n\t\t\tconst { data } = await axios.get(`/api/users/${id}`, config);\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: USER_DETAILS_SUCCESS,\r\n\t\t\t\tpayload: { ...data, isSocialLogin: false },\r\n\t\t\t});\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DETAILS_FAILURE,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\n// update details in the user profile page\r\nexport const updateUserProfile = (user) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: USER_PROFILE_UPDATE_REQUEST });\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\t// different headers are used when it is a social login, and when it is a std email login\r\n\t\tconst config = userInfo.isSocialLogin\r\n\t\t\t? {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\r\n\t\t\t\t\t},\r\n\t\t\t  }\r\n\t\t\t: {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\r\n\t\t\t\t\t},\r\n\t\t\t  };\r\n\r\n\t\tconst isSocial = userInfo.isSocialLogin;\r\n\t\tconst { data } = await axios.put('/api/users/profile', user, config);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_PROFILE_UPDATE_SUCCESS,\r\n\t\t\tpayload: { ...data, isSocialLogin: isSocial },\r\n\t\t});\r\n\r\n\t\t// login the user after updating the information\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_SUCCESS,\r\n\t\t\tpayload: { ...data, isSocialLogin: isSocial },\r\n\t\t});\r\n\r\n\t\tlocalStorage.setItem(\r\n\t\t\t'userInfo',\r\n\t\t\tJSON.stringify({ ...data, isSocialLogin: isSocial })\r\n\t\t);\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_PROFILE_UPDATE_FAILURE,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\n// fetch a list of all users, for the admin panel view\r\nexport const listAllUsers =\r\n\t(pageNumber = '') =>\r\n\tasync (dispatch, getState) => {\r\n\t\ttry {\r\n\t\t\tdispatch({ type: USER_LIST_REQUEST });\r\n\r\n\t\t\tconst {\r\n\t\t\t\tuserLogin: { userInfo },\r\n\t\t\t} = getState();\r\n\r\n\t\t\t// different headers are used when it is a social login, and when it is a std email login\r\n\t\t\tconst config = userInfo.isSocialLogin\r\n\t\t\t\t? {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t  }\r\n\t\t\t\t: {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t  };\r\n\r\n\t\t\tconst { data } = await axios.get(\r\n\t\t\t\t`/api/users?pageNumber=${pageNumber}`,\r\n\t\t\t\tconfig\r\n\t\t\t);\r\n\r\n\t\t\tdispatch({ type: USER_LIST_SUCCESS, payload: data });\r\n\t\t} catch (error) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: USER_LIST_FAILURE,\r\n\t\t\t\tpayload:\r\n\t\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t\t: error.message,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n// delete the user from the admin panel view\r\nexport const deleteUser = (id) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: USER_DELETE_REQUEST });\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\t// different headers are used when it is a social login, and when it is a std email login\r\n\t\tconst config = userInfo.isSocialLogin\r\n\t\t\t? {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\r\n\t\t\t\t\t},\r\n\t\t\t  }\r\n\t\t\t: {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\r\n\t\t\t\t\t},\r\n\t\t\t  };\r\n\r\n\t\tawait axios.delete(`/api/users/${id}`, config);\r\n\r\n\t\tdispatch({ type: USER_DELETE_SUCCESS });\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DELETE_FAILURE,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\n// update the user details\r\nexport const updateUser = (user) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: USER_UPDATE_REQUEST });\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = userInfo.isSocialLogin\r\n\t\t\t? {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\r\n\t\t\t\t\t},\r\n\t\t\t  }\r\n\t\t\t: {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\r\n\t\t\t\t\t},\r\n\t\t\t  };\r\n\r\n\t\tconst isSocial = userInfo.isSocialLogin;\r\n\t\tconst { data } = await axios.put(\r\n\t\t\t`/api/users/${user._id}`,\r\n\t\t\tuser,\r\n\t\t\tconfig\r\n\t\t);\r\n\r\n\t\tdispatch({ type: USER_UPDATE_SUCCESS });\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DETAILS_SUCCESS,\r\n\t\t\tpayload: { ...data, isSocialLogin: isSocial },\r\n\t\t});\r\n\r\n\t\tif (data.id === userInfo.id) {\r\n\t\t\t// // login the user after updating the information\r\n\t\t\tconst newUserInfo = {\r\n\t\t\t\t...userInfo,\r\n\t\t\t\t...userInfo,\r\n\t\t\t\tid: data.id,\r\n\t\t\t\tname: data.name,\r\n\t\t\t\temail: data.email,\r\n\t\t\t\tisAdmin: data.isAdmin,\r\n\t\t\t\tisConfirmed: data.isConfirmed,\r\n\t\t\t};\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: USER_LOGIN_SUCCESS,\r\n\t\t\t\tpayload: newUserInfo,\r\n\t\t\t});\r\n\r\n\t\t\tlocalStorage.setItem('userInfo', JSON.stringify(newUserInfo));\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_UPDATE_FAILURE,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n","import React, { useState } from 'react';\r\nimport { Form, InputGroup } from 'react-bootstrap';\r\n\r\nconst SearchBox = ({ history }) => {\r\n\tconst [keyword, setKeyword] = useState('');\r\n\r\n\t// search for the keyword by redirecting to homepage with param\r\n\tconst handleSearch = (e) => {\r\n\t\te.preventDefault();\r\n\t\tif (keyword.trim()) {\r\n\t\t\thistory.push(`/search/${keyword}`);\r\n\t\t} else {\r\n\t\t\thistory.push('/');\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Form onSubmit={handleSearch} className='d-flex'>\r\n\t\t\t{/* display searchbar inside navbar in large screens only */}\r\n\t\t\t<InputGroup className='mt-2'>\r\n\t\t\t\t<Form.Control\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tborder: '1px solid #2c3e50',\r\n\t\t\t\t\t\tborderRight: 'none',\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tname='keyword'\r\n\t\t\t\t\tclassName='mr-sm-2 ml-sm-4'\r\n\t\t\t\t\tonChange={(e) => setKeyword(e.target.value)}\r\n\t\t\t\t\tplaceholder='Search Products...'\r\n\t\t\t\t\tvalue={keyword}\r\n\t\t\t\t/>\r\n\t\t\t\t<InputGroup.Text\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tbackground: 'white',\r\n\t\t\t\t\t\tborder: '1px solid #2c3e50',\r\n\t\t\t\t\t\tborderLeft: 'none',\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\taria-label='search'\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tmargin: '0',\r\n\t\t\t\t\t\t\tborder: '0',\r\n\t\t\t\t\t\t\toutline: '0',\r\n\t\t\t\t\t\t\tbackground: 'transparent',\r\n\t\t\t\t\t\t\tpadding: '0',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\ttype='submit'>\r\n\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\tstyle={{ color: '#95a5a6' }}\r\n\t\t\t\t\t\t\tclassName='fas fa-search'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</InputGroup.Text>\r\n\t\t\t</InputGroup>\r\n\t\t</Form>\r\n\t);\r\n};\r\n\r\nexport default SearchBox;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Navbar, Nav, Container, NavDropdown } from 'react-bootstrap';\r\nimport { logoutUser } from '../actions/userActions';\r\nimport { Route } from 'react-router-dom';\r\nimport SearchBox from './SearchBox';\r\nimport '../styles/header.css';\r\n\r\nconst Header = () => {\r\n\tconst dispatch = useDispatch();\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst cart = useSelector((state) => state.cart);\r\n\tconst { userInfo } = userLogin;\r\n\tconst { cartItems } = cart;\r\n\r\n\tconst [show1, setShow1] = useState(false); // to close dropdown when clicking anywhere outside\r\n\tconst [show2, setShow2] = useState(false); // to close dropdown when clicking anywhere outside\r\n\tconst [count, setCount] = useState(0);\r\n\r\n\t// update count when new cart changes\r\n\tuseEffect(() => {\r\n\t\tsetCount(cartItems.reduce((acc, item) => acc + item.qty, 0));\r\n\t}, [cartItems]);\r\n\r\n\t// close the second dropdown when it is open and user clicks anywhere else\r\n\tconst handleDropdown2 = (e) => {\r\n\t\tif (show2) {\r\n\t\t\tsetShow2(false);\r\n\t\t} else {\r\n\t\t\tsetShow2(true);\r\n\t\t\tsetShow1(false);\r\n\t\t}\r\n\t};\r\n\r\n\t// close the first dropdown when it is open and user clicks anywhere else\r\n\tconst handleDropdown1 = (e) => {\r\n\t\tif (show1) {\r\n\t\t\tsetShow1(false);\r\n\t\t} else {\r\n\t\t\tsetShow1(true);\r\n\t\t\tsetShow2(false);\r\n\t\t}\r\n\t};\r\n\r\n\t// dispatch action to logout user\r\n\tconst handleLogout = () => {\r\n\t\tdispatch(logoutUser());\r\n\t\twindow.location.href = '/';\r\n\t};\r\n\r\n\t// render different navbars for large and small screens without navbar toggle\r\n\treturn (\r\n\t\t<header>\r\n\t\t\t{/* this section covers entire screen except the dropdown, to handle onclicks */}\r\n\t\t\t<section\r\n\t\t\t\tclassName='navbar-dropdown-cover'\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tdisplay:\r\n\t\t\t\t\t\twindow.innerHeight > 430 && (show1 || show2)\r\n\t\t\t\t\t\t\t? 'block'\r\n\t\t\t\t\t\t\t: 'none',\r\n\t\t\t\t\tminWidth: '100%',\r\n\t\t\t\t\theight: '100%',\r\n\t\t\t\t\tzIndex: '100',\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t}}\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tsetShow1(false);\r\n\t\t\t\t\tsetShow2(false);\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\r\n\t\t\t{/* conditionally render different navbars for the mobile sreens */}\r\n\t\t\t<Navbar bg='primary' variant='dark' expand='lg'>\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t<LinkContainer to='/'>\r\n\t\t\t\t\t\t<Navbar.Brand>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc='https://i.imgur.com/5TnrJeD.png'\r\n\t\t\t\t\t\t\t\tclassName='w-full'\r\n\t\t\t\t\t\t\t\talt='logo'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Navbar.Brand>\r\n\t\t\t\t\t</LinkContainer>\r\n\r\n\t\t\t\t\t{/* history is available only inside Route, so this is used */}\r\n\t\t\t\t\t{/* display searchbar inside navbar in large screens only */}\r\n\t\t\t\t\t<Route\r\n\t\t\t\t\t\trender={({ history }) => (\r\n\t\t\t\t\t\t\t<div className='d-none d-md-block'>\r\n\t\t\t\t\t\t\t\t<SearchBox history={history} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<Nav\r\n\t\t\t\t\t\tclassName='ms-auto nav-mobile'\r\n\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\tuserInfo\r\n\t\t\t\t\t\t\t\t? {\r\n\t\t\t\t\t\t\t\t\t\tjustifyContent: 'space-between',\r\n\t\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t\t: {\r\n\t\t\t\t\t\t\t\t\t\tjustifyContent: 'space-evenly',\r\n\t\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t{userInfo && userInfo.isAdmin && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t{/* display this only on mobile screens */}\r\n\t\t\t\t\t\t\t\t<LinkContainer\r\n\t\t\t\t\t\t\t\t\tclassName='d-block d-md-none'\r\n\t\t\t\t\t\t\t\t\tto='/admin/userlist'>\r\n\t\t\t\t\t\t\t\t\t<Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-users' />\r\n\t\t\t\t\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t<LinkContainer\r\n\t\t\t\t\t\t\t\t\tclassName='d-block d-md-none'\r\n\t\t\t\t\t\t\t\t\tto='/admin/orderlist'>\r\n\t\t\t\t\t\t\t\t\t<Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-user-shield' />\r\n\t\t\t\t\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t<LinkContainer\r\n\t\t\t\t\t\t\t\t\tclassName='d-block d-md-none'\r\n\t\t\t\t\t\t\t\t\tto='/admin/productlist'>\r\n\t\t\t\t\t\t\t\t\t<Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-shopping-bag' />\r\n\t\t\t\t\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<LinkContainer to='/cart'>\r\n\t\t\t\t\t\t\t<Nav.Link>\r\n\t\t\t\t\t\t\t\t{/* indicate cart size */}\r\n\t\t\t\t\t\t\t\t{count ? (\r\n\t\t\t\t\t\t\t\t\t<div className='nav-cart-size'>\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\t\t\tcount > 10\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? { fontSize: '0.6em' }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: { fontSize: '0.7em' }\r\n\t\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\t{count}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<i className='fas fa-shopping-cart navbar-icons' />{' '}\r\n\t\t\t\t\t\t\t\t{!(userInfo && userInfo.isAdmin) ||\r\n\t\t\t\t\t\t\t\twindow.innerWidth >= 430\r\n\t\t\t\t\t\t\t\t\t? 'Cart'\r\n\t\t\t\t\t\t\t\t\t: ''}\r\n\t\t\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t{userInfo && userInfo.isAdmin && (\r\n\t\t\t\t\t\t\t// show this only on md screens and above\r\n\t\t\t\t\t\t\t<NavDropdown\r\n\t\t\t\t\t\t\t\tclassName='d-none d-md-block'\r\n\t\t\t\t\t\t\t\ttitle='Admin'\r\n\t\t\t\t\t\t\t\tid='adminMenu'\r\n\t\t\t\t\t\t\t\tshow={show2}\r\n\t\t\t\t\t\t\t\tonClick={handleDropdown2}>\r\n\t\t\t\t\t\t\t\t<LinkContainer to='/admin/userlist'>\r\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item>Users</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t<LinkContainer to='/admin/productlist'>\r\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\tProducts\r\n\t\t\t\t\t\t\t\t\t</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t<LinkContainer to='/admin/orderlist'>\r\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item>Orders</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t</NavDropdown>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{userInfo && (\r\n\t\t\t\t\t\t\t// show this only on mobile screens\r\n\t\t\t\t\t\t\t<Nav.Link\r\n\t\t\t\t\t\t\t\tclassName='d-block d-md-none'\r\n\t\t\t\t\t\t\t\tonClick={handleLogout}>\r\n\t\t\t\t\t\t\t\t<i className='fas fa-sign-out-alt navbar-icons' />{' '}\r\n\t\t\t\t\t\t\t\t{!(userInfo && userInfo.isAdmin) && 'Logout'}\r\n\t\t\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{userInfo ? (\r\n\t\t\t\t\t\t\t<div className='nav-avatar-container'>\r\n\t\t\t\t\t\t\t\t{/* show this container only on mobile screens */}\r\n\t\t\t\t\t\t\t\t<LinkContainer\r\n\t\t\t\t\t\t\t\t\tto='/profile'\r\n\t\t\t\t\t\t\t\t\tclassName='d-block d-md-none'>\r\n\t\t\t\t\t\t\t\t\t<Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={userInfo.avatar}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='nav-avatar'\r\n\t\t\t\t\t\t\t\t\t\t\talt={userInfo.name}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tsrc={userInfo.avatar}\r\n\t\t\t\t\t\t\t\t\tclassName='nav-avatar d-none d-md-block'\r\n\t\t\t\t\t\t\t\t\talt={userInfo.name}\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t{/* show this dropdown only on large screens */}\r\n\t\t\t\t\t\t\t\t<NavDropdown\r\n\t\t\t\t\t\t\t\t\tclassName='d-none d-md-block'\r\n\t\t\t\t\t\t\t\t\ttitle={userInfo.name}\r\n\t\t\t\t\t\t\t\t\tid={userInfo.id}\r\n\t\t\t\t\t\t\t\t\tshow={show1}\r\n\t\t\t\t\t\t\t\t\tonClick={handleDropdown1}>\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to='/profile'>\r\n\t\t\t\t\t\t\t\t\t\t<NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\tProfile\r\n\t\t\t\t\t\t\t\t\t\t</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item onClick={handleLogout}>\r\n\t\t\t\t\t\t\t\t\t\tLogout\r\n\t\t\t\t\t\t\t\t\t</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t</NavDropdown>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<LinkContainer to='/login' variant='primary'>\r\n\t\t\t\t\t\t\t\t<Nav.Link>\r\n\t\t\t\t\t\t\t\t\t<i className='fas fa-user navbar-icons' />{' '}\r\n\t\t\t\t\t\t\t\t\tSign In\r\n\t\t\t\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Nav>\r\n\t\t\t\t</Container>\r\n\t\t\t</Navbar>\r\n\t\t</header>\r\n\t);\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport { Container } from \"react-bootstrap\";\r\nimport \"../styles/footer.css\";\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <Container>\r\n    \r\n        <div className=\"bg-dark-gray pt-[5%]\">\r\n          <div className=\"ml-[5%] mr-[5%]\">\r\n            <div className=\"flex flex-row gap-1\">\r\n              <div className=\"flex flex-col w-[50%]\">\r\n                <div className=\"\">\r\n                  <div>\r\n                    <p className=\"text-[30px] mb-[5%] font-head text-White\">\r\n                      About Us\r\n                    </p>\r\n                  </div>\r\n                  <hr width=\"103%\" size=\"50px\" align=\"center\" />\r\n                  <div className=\"text-left mt-[5%] pb-[6.5%] text-[15px] leading-6 font-head font-medium text-White\">\r\n                    Những người trẻ không bao giờ ngừng mơ về một thế giới tử\r\n                    tế. Nơi tâm hồn được tắm rửa và kì cọ trong những điều đẹp\r\n                    đẽ. Và cứ thế, chúng ta lớn cùng thành công!\r\n                  </div>\r\n                  <div className=\"text-left pb-[6.5%] text-[15px] leading-6 font-head font-medium text-White text-justify\">\r\n                    – 9soul –\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex flex-col w-[85%] leading-7 text-White\">\r\n                <div className=\"ml-[35%]\">\r\n                  <div className=\"pb-[7%]\">\r\n                    <a className=\"text-[30px] font-body font-semibold\" href=\"#\">\r\n                      9soul member\r\n                    </a>\r\n                  </div>\r\n                  <hr width=\"53%\" size=\"50px\" align=\"center\" />\r\n                  <div className=\"mt-[27px]\">\r\n                    <a className=\"text-[14px] font-body font-medium\" href=\"#\">\r\n                      Storytelling\r\n                    </a>\r\n                  </div>\r\n                  <div>\r\n                    <a className=\"text-[14px] font-body font-medium\" href=\"#\">\r\n                      Gifting\r\n                    </a>\r\n                  </div>\r\n                  <div>\r\n                    <a className=\"text-[14px] font-body font-medium\" href=\"#\">\r\n                      Coaching\r\n                    </a>\r\n                  </div>\r\n                  <div>\r\n                    <a className=\"text-[14px] font-body font-medium\" href=\"#\">\r\n                      Branding\r\n                    </a>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex flex-col w-[35%] leading-7 text-White\">\r\n                <div className=\"ml-[-5%]\">\r\n                  <div className=\"pb-[12%]\">\r\n                    <p className=\"text-[30px] font-body font-semibold\">\r\n                      Contact\r\n                    </p>\r\n                  </div>\r\n                  <hr width=\"87%\" size=\"50px\" align=\"center\" />\r\n                  <div className=\"mt-[30px]\">\r\n                    <p className=\"text-[14px] font-body font-medium\">\r\n                      85, Phan Kế Bính, Quận 1, Tp.HCM\r\n                    </p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-[14px] font-body font-medium\">\r\n                      0899 535 899\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"pb-[5%]\">\r\n                    <p className=\"text-[14px] font-body font-medium\">\r\n                      helllo@9soul.vn\r\n                    </p>\r\n                  </div>\r\n                  <hr width=\"87%\" size=\"50px\" align=\"center\" />\r\n                  <div className=\"pt-[5%]\">\r\n                    <a href=\"#\">Facebook</a> | <a href=\"#\">Instagram</a> |{\" \"}\r\n                    <a href=\"#\">Youtube</a>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <hr width=\"103%\" size=\"50px\" align=\"center\" />\r\n            <div className=\"flex flex-row gap-10\">\r\n              <div className=\"bg-dark-gray pt-[1%] pb-[1%] text-White\">\r\n                <p className=\"font-semibold font-[16px] font-body\">\r\n                  © Copyright 2022 & Made with by 9soul\r\n                </p>\r\n              </div>\r\n              <div className=\"bg-dark-gray pt-[1%] pb-[1.5%] text-White ml-[38%]\">\r\n                <p className=\"font-semibold font-[16px] font-body\">\r\n                  Bạn muốn thổi hồn cho thương hiệu? -{\" \"}\r\n                  <a href=\"#\">9soul Branding</a>\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"footer-copyright\">&copy;2021 Kosells</div>\r\n      \r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Rating = ({ value, text, color }) => {\r\n\treturn (\r\n\t\t// show full/half star icon depending on rating value\r\n\t\t<div className='rating'>\r\n\t\t\t{[1, 2, 3, 4, 5].map((ele, idx) => (\r\n\t\t\t\t<span key={idx}>\r\n\t\t\t\t\t<i\r\n\t\t\t\t\t\tstyle={{ color: color, fontSize: '0.9em' }}\r\n\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\tvalue >= ele\r\n\t\t\t\t\t\t\t\t? 'fas fa-star'\r\n\t\t\t\t\t\t\t\t: value >= ele - 0.5\r\n\t\t\t\t\t\t\t\t? 'fas fa-star-half-alt'\r\n\t\t\t\t\t\t\t\t: 'far fa-star'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttitle={`${value} Stars`}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</span>\r\n\t\t\t))}\r\n\t\t\t<span style={{ fontSize: '0.9em' }}>{text && text}</span>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nRating.defaultProps = {\r\n\tcolor: '#f8e825',\r\n};\r\n\r\nRating.propTypes = {\r\n\tvalue: PropTypes.number.isRequired,\r\n\ttext: PropTypes.string,\r\n\tcolor: PropTypes.string,\r\n};\r\n\r\nexport default Rating;\r\n","import React from 'react';\r\nimport Rating from './Rating';\r\nimport { Link } from 'react-router-dom';\r\nimport { Card } from 'react-bootstrap';\r\nimport '../styles/product.css';\r\n\r\nconst Product = ({ product }) => {\r\n\treturn (\r\n\t\t<Card className='mt-3 p-0'>\r\n\t\t\t<Link to={`/product/${product._id}`}>\r\n\t\t\t\t<Card.Img\r\n\t\t\t\t\tloading='lazy'\r\n\t\t\t\t\tclassName='product-image'\r\n\t\t\t\t\tsrc={product.image}\r\n\t\t\t\t\tvariant='top'\r\n\t\t\t\t\talt={product.name}\r\n\t\t\t\t/>\r\n\t\t\t</Link>\r\n\r\n\t\t\t<Card.Body>\r\n\t\t\t\t<Link\r\n\t\t\t\t\tto={`/product/${product._id}`}\r\n\t\t\t\t\tstyle={{ color: 'dimgray', textDecoration: 'none' }}>\r\n\t\t\t\t\t<Card.Title className='product-title' as='p'>\r\n\t\t\t\t\t\t<strong>{product.name}</strong>\r\n\t\t\t\t\t</Card.Title>\r\n\t\t\t\t</Link>\r\n\r\n\t\t\t\t<Card.Text as='div'>\r\n\t\t\t\t\t{product && product.rating && (\r\n\t\t\t\t\t\t<Rating\r\n\t\t\t\t\t\t\tvalue={product.rating}\r\n\t\t\t\t\t\t\ttext={`${product.numReviews} Review${\r\n\t\t\t\t\t\t\t\tproduct.numReviews > 1 ? 's' : ''\r\n\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Card.Text>\r\n\r\n\t\t\t\t<Card.Text as='h4'>\r\n\t\t\t\t\t{product.price &&\r\n\t\t\t\t\t\tproduct.price.toLocaleString('en-IN', {\r\n\t\t\t\t\t\t\tmaximumFractionDigits: 2,\r\n\t\t\t\t\t\t\tstyle: 'currency',\r\n\t\t\t\t\t\t\tcurrency: 'vnd',\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t</Card.Text>\r\n\t\t\t</Card.Body>\r\n\t\t</Card>\r\n\t);\r\n};\r\n\r\nexport default Product;\r\n","import React from 'react';\r\nimport { Pagination } from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\n\r\n// different paginate components for products, and for admin panel view\r\nconst Paginate = ({\r\n\tpages,\r\n\tpage,\r\n\tisAdmin = false,\r\n\tkeyword = '',\r\n\tforOrders = false,\r\n\tforUsers = false,\r\n}) => {\r\n\treturn (\r\n\t\tpages > 1 && (\r\n\t\t\t<Pagination>\r\n\t\t\t\t{[...Array(pages).keys()].map((ele) => (\r\n\t\t\t\t\t<LinkContainer\r\n\t\t\t\t\t\tkey={ele + 1}\r\n\t\t\t\t\t\tto={\r\n\t\t\t\t\t\t\tisAdmin\r\n\t\t\t\t\t\t\t\t? forOrders\r\n\t\t\t\t\t\t\t\t\t? `/admin/orderlist/${ele + 1}`\r\n\t\t\t\t\t\t\t\t\t: forUsers\r\n\t\t\t\t\t\t\t\t\t? `/admin/userlist/${ele + 1}`\r\n\t\t\t\t\t\t\t\t\t: `/admin/productlist/${ele + 1}`\r\n\t\t\t\t\t\t\t\t: keyword\r\n\t\t\t\t\t\t\t\t? `/search/${keyword}/page/${ele + 1}`\r\n\t\t\t\t\t\t\t\t: `/page/${ele + 1}`\r\n\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t<Pagination.Item active={ele + 1 === Number(page)}>\r\n\t\t\t\t\t\t\t{ele + 1}\r\n\t\t\t\t\t\t</Pagination.Item>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t))}\r\n\t\t\t</Pagination>\r\n\t\t)\r\n\t);\r\n};\r\n\r\nexport default Paginate;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Alert } from 'react-bootstrap';\r\n\r\nconst Message = ({ variant, duration, children, dismissible }) => {\r\n\tconst [visible, setVisible] = useState(true);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetVisible(true);\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (duration) {\r\n\t\t\tsetTimeout(() => setVisible(false), duration * 1000);\r\n\t\t}\r\n\t}, [duration]);\r\n\r\n\treturn (\r\n\t\t<Alert\r\n\t\t\tonClose={() => setVisible(false)}\r\n\t\t\tdismissible={dismissible}\r\n\t\t\tclassName='alert-custom'\r\n\t\t\tstyle={visible ? { display: 'block' } : { display: 'none' }}\r\n\t\t\tvariant={variant}>\r\n\t\t\t{children}\r\n\t\t</Alert>\r\n\t);\r\n};\r\n\r\nMessage.defaultProps = {\r\n\tvariant: 'info',\r\n\tdismissible: false,\r\n};\r\n\r\nexport default Message;\r\n","export const PRODUCT_LIST_REQUEST = 'PRODUCT_LIST_REQUEST';\r\nexport const PRODUCT_LIST_SUCCESS = 'PRODUCT_LIST_SUCCESS';\r\nexport const PRODUCT_LIST_FAILURE = 'PRODUCT_LIST_FAILURE';\r\n\r\nexport const PRODUCT_DETAILS_REQUEST = 'PRODUCT_DETAILS_REQUEST';\r\nexport const PRODUCT_DETAILS_SUCCESS = 'PRODUCT_DETAILS_SUCCESS';\r\nexport const PRODUCT_DETAILS_FAILURE = 'PRODUCT_DETAILS_FAILURE';\r\n\r\nexport const PRODUCT_DELETE_REQUEST = 'PRODUCT_DELETE_REQUEST';\r\nexport const PRODUCT_DELETE_SUCCESS = 'PRODUCT_DELETE_SUCCESS';\r\nexport const PRODUCT_DELETE_FAILURE = 'PRODUCT_DELETE_FAILURE';\r\n\r\nexport const PRODUCT_CREATE_REQUEST = 'PRODUCT_CREATE_REQUEST';\r\nexport const PRODUCT_CREATE_SUCCESS = 'PRODUCT_CREATE_SUCCESS';\r\nexport const PRODUCT_CREATE_FAILURE = 'PRODUCT_CREATE_FAILURE';\r\nexport const PRODUCT_CREATE_RESET = 'PRODUCT_CREATE_RESET';\r\n\r\nexport const PRODUCT_UPDATE_REQUEST = 'PRODUCT_UPDATE_REQUEST';\r\nexport const PRODUCT_UPDATE_SUCCESS = 'PRODUCT_UPDATE_SUCCESS';\r\nexport const PRODUCT_UPDATE_FAILURE = 'PRODUCT_UPDATE_FAILURE';\r\nexport const PRODUCT_UPDATE_RESET = 'PRODUCT_UPDATE_RESET';\r\n\r\nexport const PRODUCT_CREATE_REVIEW_REQUEST = 'PRODUCT_CREATE_REVIEW_REQUEST';\r\nexport const PRODUCT_CREATE_REVIEW_SUCCESS = 'PRODUCT_CREATE_REVIEW_SUCCESS';\r\nexport const PRODUCT_CREATE_REVIEW_FAILURE = 'PRODUCT_CREATE_REVIEW_FAILURE';\r\nexport const PRODUCT_CREATE_REVIEW_RESET = 'PRODUCT_CREATE_REVIEW_RESET';\r\n\r\nexport const PRODUCT_TOP_RATED_REQUEST = 'PRODUCT_TOP_RATED_REQUEST';\r\nexport const PRODUCT_TOP_RATED_SUCCESS = 'PRODUCT_TOP_RATED_SUCCESS';\r\nexport const PRODUCT_TOP_RATED_FAILURE = 'PRODUCT_TOP_RATED_FAILURE';\r\n","import {\r\n\tPRODUCT_DETAILS_FAILURE,\r\n\tPRODUCT_DETAILS_REQUEST,\r\n\tPRODUCT_DETAILS_SUCCESS,\r\n\tPRODUCT_LIST_FAILURE,\r\n\tPRODUCT_LIST_REQUEST,\r\n\tPRODUCT_LIST_SUCCESS,\r\n\tPRODUCT_DELETE_FAILURE,\r\n\tPRODUCT_DELETE_REQUEST,\r\n\tPRODUCT_DELETE_SUCCESS,\r\n\tPRODUCT_CREATE_REQUEST,\r\n\tPRODUCT_CREATE_SUCCESS,\r\n\tPRODUCT_CREATE_FAILURE,\r\n\tPRODUCT_UPDATE_REQUEST,\r\n\tPRODUCT_UPDATE_SUCCESS,\r\n\tPRODUCT_UPDATE_FAILURE,\r\n\tPRODUCT_CREATE_REVIEW_REQUEST,\r\n\tPRODUCT_CREATE_REVIEW_SUCCESS,\r\n\tPRODUCT_CREATE_REVIEW_FAILURE,\r\n\tPRODUCT_TOP_RATED_REQUEST,\r\n\tPRODUCT_TOP_RATED_SUCCESS,\r\n\tPRODUCT_TOP_RATED_FAILURE,\r\n} from '../constants/productConstants';\r\nimport axios from 'axios';\r\n\r\n// list orders based on keyword and page number when paginated\r\nexport const listProducts =\r\n\t(keyword = '', pageNumber = '', pageSize = '') =>\r\n\tasync (dispatch) => {\r\n\t\ttry {\r\n\t\t\tdispatch({ type: PRODUCT_LIST_REQUEST });\r\n\r\n\t\t\tconst { data } = await axios.get(\r\n\t\t\t\t`/api/products?keyword=${keyword}&pageNumber=${pageNumber}&pageSize=${pageSize}`\r\n\t\t\t);\r\n\r\n\t\t\tdispatch({ type: PRODUCT_LIST_SUCCESS, payload: data });\r\n\t\t} catch (error) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: PRODUCT_LIST_FAILURE,\r\n\t\t\t\tpayload:\r\n\t\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t\t: error.message,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n// fetch details of a particular product\r\nexport const listProductDetails = (id) => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({ type: PRODUCT_DETAILS_REQUEST });\r\n\r\n\t\tconst { data } = await axios.get(`/api/products/${id}`);\r\n\r\n\t\tdispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: data });\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_DETAILS_FAILURE,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\n// delete a particular product by taking an id\r\nexport const deleteProduct = (id) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: PRODUCT_DELETE_REQUEST });\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\t// different headers are used when it is a social login, and when it is a std email login\r\n\t\tconst config = userInfo.isSocialLogin\r\n\t\t\t? {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\r\n\t\t\t\t\t},\r\n\t\t\t  }\r\n\t\t\t: {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\r\n\t\t\t\t\t},\r\n\t\t\t  };\r\n\r\n\t\tconst { data } = await axios.delete(`/api/products/${id}`, config);\r\n\r\n\t\tdata && dispatch({ type: PRODUCT_DELETE_SUCCESS });\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_DELETE_FAILURE,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\n// create a product, when the user is an admin\r\nexport const createProduct = () => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: PRODUCT_CREATE_REQUEST });\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\t// different headers are used when it is a social login, and when it is a std email login\r\n\t\tconst config = userInfo.isSocialLogin\r\n\t\t\t? {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\r\n\t\t\t\t\t},\r\n\t\t\t  }\r\n\t\t\t: {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\r\n\t\t\t\t\t},\r\n\t\t\t  };\r\n\r\n\t\tconst { data } = await axios.post(`/api/products/`, {}, config);\r\n\r\n\t\tdispatch({ type: PRODUCT_CREATE_SUCCESS, payload: data });\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_CREATE_FAILURE,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\n// update the product details from the admin panel view\r\nexport const updateProduct = (product) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: PRODUCT_UPDATE_REQUEST });\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\t// different headers are used when it is a social login, and when it is a std email login\r\n\t\tconst config = userInfo.isSocialLogin\r\n\t\t\t? {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\r\n\t\t\t\t\t},\r\n\t\t\t  }\r\n\t\t\t: {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\r\n\t\t\t\t\t},\r\n\t\t\t  };\r\n\r\n\t\tconst { data } = await axios.put(\r\n\t\t\t`/api/products/${product._id}`,\r\n\t\t\tproduct,\r\n\t\t\tconfig\r\n\t\t);\r\n\r\n\t\tdispatch({ type: PRODUCT_UPDATE_SUCCESS, payload: data });\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_UPDATE_FAILURE,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\n// create a new product review for particular product\r\nexport const createProductReview =\r\n\t(productID, review) => async (dispatch, getState) => {\r\n\t\ttry {\r\n\t\t\tdispatch({ type: PRODUCT_CREATE_REVIEW_REQUEST });\r\n\r\n\t\t\tconst {\r\n\t\t\t\tuserLogin: { userInfo },\r\n\t\t\t} = getState();\r\n\r\n\t\t\t// different headers are used when it is a social login, and when it is a std email login\r\n\t\t\tconst config = userInfo.isSocialLogin\r\n\t\t\t\t? {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t  }\r\n\t\t\t\t: {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t  };\r\n\r\n\t\t\tawait axios.post(\r\n\t\t\t\t`/api/products/${productID}/reviews`,\r\n\t\t\t\treview,\r\n\t\t\t\tconfig\r\n\t\t\t);\r\n\r\n\t\t\tdispatch({ type: PRODUCT_CREATE_REVIEW_SUCCESS });\r\n\t\t} catch (error) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: PRODUCT_CREATE_REVIEW_FAILURE,\r\n\t\t\t\tpayload:\r\n\t\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t\t: error.message,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n// fetch the top rated products for the carousel\r\nexport const getTopRatedProducts = () => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({ type: PRODUCT_TOP_RATED_REQUEST });\r\n\r\n\t\tconst { data } = await axios.get('/api/products/top');\r\n\r\n\t\tdispatch({ type: PRODUCT_TOP_RATED_SUCCESS, payload: data });\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_TOP_RATED_FAILURE,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n","import React from 'react';\r\nimport '../styles/skeleton.css';\r\n\r\nconst BasicSkeleton = ({ type }) => {\r\n\tconst classes = `skeleton ${type}`;\r\n\r\n\treturn <div className={classes} />;\r\n};\r\n\r\nexport default BasicSkeleton;\r\n","import React from 'react';\r\n\r\nconst SkeletonShimmer = () => {\r\n\treturn (\r\n\t\t<div className='shimmer-wrapper'>\r\n\t\t\t<div className='shimmer' />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default SkeletonShimmer;\r\n","import React from 'react';\r\nimport { Helmet } from 'react-helmet-async';\r\n\r\nconst Meta = ({ title, description, keywords }) => {\r\n\treturn (\r\n\t\t<Helmet>\r\n\t\t\t<title>{title}</title>\r\n\t\t\t<meta name='description' content={description} />\r\n\t\t\t<meta name='keywords' content={keywords} />\r\n\t\t</Helmet>\r\n\t);\r\n};\r\n\r\nMeta.defaultProps = {\r\n\ttitle: 'Welcome to Kosells',\r\n\tkeywords: 'Electronics, Kosells, Ecommerce, Rajat',\r\n\tdescription: 'Buy the best products at the lowest prices',\r\n};\r\nexport default Meta;\r\n","import React from 'react';\r\nimport BasicSkeleton from './BasicSkeleton';\r\nimport SkeletonShimmer from './SkeletonShimmer';\r\n\r\nconst ProductSkeleton = () => {\r\n\treturn (\r\n\t\t<div className='skeleton-product-wrapper'>\r\n\t\t\t<BasicSkeleton type='box' />\r\n\t\t\t<BasicSkeleton type='text' />\r\n\t\t\t<BasicSkeleton type='text' />\r\n\t\t\t<SkeletonShimmer />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ProductSkeleton;\r\n","\r\nconst Introduce = () => {\r\n \r\n  return (\r\n    <section className=\"bg-new-dark-gray\">\r\n      <div className=\"flex flex-row ml-[5%] mr-[5%]\">\r\n        <div className=\"flex-row w-[50%]\">\r\n        <div className=\"mt-[3%] text-[60px] text-White \">\r\n        9soul.vn / coaching\r\n        </div>\r\n        <div className=\"mt-[1%] mb-[3%] text-[40px] text-White \">\r\n        growing up together\r\n        </div>\r\n        <hr width=\"100%\" align=\"center\" />\r\n        <div className=\"mt-[3%] mb-[3%] text-[16px] text-White font-head\">\r\n        Cảm ơn đã chọn 9soul như một trạm nạp cảm xúc của một đôi lần muốn “Thảnh thơi tìm tới” – MC’s \r\n        </div>\r\n        <hr width=\"100%\" align=\"center\" />\r\n        <div className=\"mt-[10%] mb-[5%] text-[16px] text-White font-head\">\r\n        Chúng mình tin rằng, rồi sau cùng của cuộc đời, chúng ta cũng chỉ mong có thể gói gém mấy chục năm khôn lớn lại thành một câu chuyện đáng để nghe. \r\nVà trong một khoảnh khắc định mệnh nào đó, câu chuyện ấy chính là cảm hứng.\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"ml-[17%] mt-[2%] mb-[5%]\">\r\n      <img\r\n            className=\"\"\r\n            src=\"https://i.imgur.com/BYyeYyy.png\"\r\n            alt=\"\"\r\n          />\r\n      </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Introduce;","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Product from '../components/Product';\r\nimport Paginate from '../components/Paginate';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport ProductCarousel from '../components/ProductCarousel';\r\nimport Meta from '../components/Meta';\r\nimport { listProducts } from '../actions/productActions';\r\nimport { refreshLogin, getUserDetails } from '../actions/userActions';\r\nimport Message from '../components/Message';\r\nimport SearchBox from '../components/SearchBox';\r\nimport ProductSkeleton from '../components/ProductSkeleton';\r\nimport Introduce from '../components/introduce';\r\nconst HomePage = ({ match, history }) => {\r\n\tconst keyword = match.params.keyword; // to search for products\r\n\tconst pageNumber = Number(match.params.pageNumber) || 1; // current page number in the paginated display\r\n\tconst [promptVerfication, setPromptVerification] = useState(false); // prompt user to verify email if not yet confirmed\r\n\tconst [products, setProducts] = useState(null);\r\n\tconst [productAvailable, setProductAvailable] = useState(false);\r\n\tconst dispatch = useDispatch();\r\n\r\n\t// get the products list, userinfo and user details form the redix store\r\n\tconst productList = useSelector((state) => state.productList);\r\n\tlet { loading, error, pages } = productList;\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tconst userDetails = useSelector((state) => state.userDetails);\r\n\tconst { error: userInfoError } = userDetails;\r\n\r\n\t// fetch the user details\r\n\tuseEffect(() => {\r\n\t\tuserInfo\r\n\t\t\t? userInfo.isSocialLogin\r\n\t\t\t\t? dispatch(getUserDetails(userInfo.id))\r\n\t\t\t\t: dispatch(getUserDetails('profile'))\r\n\t\t\t: dispatch(getUserDetails('profile'));\r\n\t}, [userInfo, dispatch]);\r\n\r\n\t// refresh token to get new access token if error in user details\r\n\tuseEffect(() => {\r\n\t\tif (userInfoError && userInfo && !userInfo.isSocialLogin) {\r\n\t\t\tconst user = JSON.parse(localStorage.getItem('userInfo'));\r\n\t\t\tdispatch(refreshLogin(user?.email));\r\n\t\t}\r\n\t}, [userInfoError, dispatch, userInfo]);\r\n\r\n\t// set a state variable to true or false depending on if products is avialable in the state\r\n\tuseEffect(() => {\r\n\t\tif (products) {\r\n\t\t\tproducts.length\r\n\t\t\t\t? setProductAvailable(true)\r\n\t\t\t\t: setProductAvailable(false);\r\n\t\t}\r\n\t}, [products]);\r\n\r\n\t// fetch products from redux store into local state\r\n\tuseEffect(() => {\r\n\t\tif (productList) {\r\n\t\t\tif (productList.products) setProducts([...productList.products]);\r\n\t\t}\r\n\t}, [productList]);\r\n\r\n\t// list products based on keyword and pagenumber\r\n\tuseEffect(() => {\r\n\t\tdispatch(listProducts(keyword, pageNumber));\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [dispatch, keyword, pageNumber]);\r\n\r\n\t// check if user needs to be promted about email verification on page load\r\n\tuseEffect(() => {\r\n\t\tsetPromptVerification(\r\n\t\t\tlocalStorage.getItem('promptEmailVerfication') === 'true'\r\n\t\t\t\t? true\r\n\t\t\t\t: false\r\n\t\t);\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Meta />\r\n\t\t\t<div><Introduce/></div>\r\n\t\t\t{/* display carousel only on larger screens */}\r\n\t\t\t{/* {!keyword ? (\r\n\t\t\t\twindow.innerWidth > 430 && <ProductCarousel />\r\n\t\t\t) : (\r\n\t\t\t\t<Link\r\n\t\t\t\t\tclassName='btn btn-outline btn-outline-primary my-2'\r\n\t\t\t\t\tto='/'>\r\n\t\t\t\t\tGo Back\r\n\t\t\t\t</Link>\r\n\t\t\t)} */}\r\n\t\t\t{/* display this search bar on home page on mobile screens */}\r\n\t\t\t<div className='d-block d-md-none'>\r\n\t\t\t\t<SearchBox history={history} />\r\n\t\t\t</div>\r\n\r\n\t\t\t{/* if the user needs to be prompted about email verification, show this message */}\r\n\t\t\t{promptVerfication ? (\r\n\t\t\t\t<Message dismissible variant='info' duration={10}>\r\n\t\t\t\t\tAccount Created! Please check your email to verify your\r\n\t\t\t\t\taccount and start shopping.\r\n\t\t\t\t</Message>\r\n\t\t\t) : null}\r\n\r\n\t\t\t{error ? (\r\n\t\t\t\t<Message dismissible variant='danger' duration={10}>\r\n\t\t\t\t\t{error}\r\n\t\t\t\t</Message>\r\n\t\t\t) : !loading && products ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t{products.length\r\n\t\t\t\t\t\t\t? products.map((product) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Col\r\n\t\t\t\t\t\t\t\t\t\t\tsm={12}\r\n\t\t\t\t\t\t\t\t\t\t\tmd={6}\r\n\t\t\t\t\t\t\t\t\t\t\tlg={4}\r\n\t\t\t\t\t\t\t\t\t\t\txl={3}\r\n\t\t\t\t\t\t\t\t\t\t\tkey={product._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Product product={product} />\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t: keyword &&\r\n\t\t\t\t\t\t\t  !productAvailable && (\r\n\t\t\t\t\t\t\t\t\t//   show this only if user has searched for some item and it is not available\r\n\t\t\t\t\t\t\t\t\t<Col className='text-center'>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-frown' /> No\r\n\t\t\t\t\t\t\t\t\t\t\titems found for this search query\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\tGo Back to the{' '}\r\n\t\t\t\t\t\t\t\t\t\t<Link to='/'>Home Page</Link>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t  )}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Paginate\r\n\t\t\t\t\t\tclassName='mt-auto text-center'\r\n\t\t\t\t\t\tpage={pageNumber}\r\n\t\t\t\t\t\tkeyword={keyword ? keyword : ''}\r\n\t\t\t\t\t\tpages={pages}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\tloading &&\r\n\t\t\t\tproducts &&\r\n\t\t\t\tproducts.length === 0 && (\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t{[1, 2, 3, 4].map((ele) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Col sm={12} md={6} lg={4} xl={3} key={ele}>\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<ProductSkeleton />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t)\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default HomePage;\r\n","import React, { useState } from 'react';\r\nimport { Image } from 'react-bootstrap';\r\n\r\nconst ImageMagnifier = ({\r\n\tsrc,\r\n\talt,\r\n\ttitle,\r\n\twidth,\r\n\theight,\r\n\tmagnifierHeight = 200,\r\n\tmagnifieWidth = 200,\r\n\tzoomLevel = 1.5,\r\n}) => {\r\n\tconst [[x, y], setXY] = useState([0, 0]);\r\n\tconst [[imgWidth, imgHeight], setSize] = useState([0, 0]);\r\n\tconst [showMagnifier, setShowMagnifier] = useState(false);\r\n\treturn (\r\n\t\t<div\r\n\t\t\tstyle={{\r\n\t\t\t\tposition: 'relative',\r\n\t\t\t\theight: height,\r\n\t\t\t\twidth: width,\r\n\t\t\t}}>\r\n\t\t\t<Image\r\n\t\t\t\tclassName='product-image'\r\n\t\t\t\tsrc={src}\r\n\t\t\t\tstyle={{ height: height, width: width }}\r\n\t\t\t\tfluid\r\n\t\t\t\ttitle={title}\r\n\t\t\t\tonMouseEnter={(e) => {\r\n\t\t\t\t\t// update image size and turn-on magnifier\r\n\t\t\t\t\tconst elem = e.currentTarget;\r\n\t\t\t\t\tconst { width, height } = elem.getBoundingClientRect();\r\n\t\t\t\t\tsetSize([width, height]);\r\n\t\t\t\t\tsetShowMagnifier(true);\r\n\t\t\t\t}}\r\n\t\t\t\tonMouseMove={(e) => {\r\n\t\t\t\t\t// update cursor position\r\n\t\t\t\t\tconst elem = e.currentTarget;\r\n\t\t\t\t\tconst { top, left } = elem.getBoundingClientRect();\r\n\r\n\t\t\t\t\t// calculate cursor position on the image\r\n\t\t\t\t\tconst x = e.pageX - left - window.pageXOffset;\r\n\t\t\t\t\tconst y = e.pageY - top - window.pageYOffset;\r\n\t\t\t\t\tsetXY([x, y]);\r\n\t\t\t\t}}\r\n\t\t\t\tonMouseLeave={() => {\r\n\t\t\t\t\t// close magnifier\r\n\t\t\t\t\tsetShowMagnifier(false);\r\n\t\t\t\t}}\r\n\t\t\t\talt={alt}\r\n\t\t\t/>\r\n\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tdisplay: showMagnifier ? '' : 'none',\r\n\t\t\t\t\t// display: window.innerWidth <= 468 ? 'none' : '',\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t// prevent maginier blocks the mousemove event of img\r\n\t\t\t\t\tpointerEvents: 'none',\r\n\t\t\t\t\theight: `${magnifierHeight}px`,\r\n\t\t\t\t\twidth: `${magnifieWidth}px`,\r\n\t\t\t\t\t// move element center to cursor pos\r\n\t\t\t\t\ttop: `${y - magnifierHeight / 2.5}px`,\r\n\t\t\t\t\tleft: `${x - magnifieWidth / 2.5}px`,\r\n\t\t\t\t\topacity: '1', // reduce opacity so you can verify position\r\n\t\t\t\t\tborder: '1px solid lightgray',\r\n\t\t\t\t\tbackgroundColor: 'white',\r\n\t\t\t\t\tbackgroundImage: `url('${src}')`,\r\n\t\t\t\t\tbackgroundRepeat: 'no-repeat',\r\n\t\t\t\t\tborderRadius: '50%',\r\n\r\n\t\t\t\t\t//calculate zoomed image size\r\n\t\t\t\t\tbackgroundSize: `${imgWidth * zoomLevel}px ${\r\n\t\t\t\t\t\timgHeight * zoomLevel\r\n\t\t\t\t\t}px`,\r\n\r\n\t\t\t\t\t//calculete position of zoomed image.\r\n\t\t\t\t\tbackgroundPositionX: `${\r\n\t\t\t\t\t\t-x * zoomLevel + magnifieWidth / 2\r\n\t\t\t\t\t}px`,\r\n\t\t\t\t\tbackgroundPositionY: `${\r\n\t\t\t\t\t\t-y * zoomLevel + magnifierHeight / 2\r\n\t\t\t\t\t}px`,\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ImageMagnifier;\r\n","import React from 'react';\r\nimport { Spinner } from 'react-bootstrap';\r\nimport '../styles/loader.css';\r\n\r\nconst Loader = () => {\r\n\treturn (\r\n\t\t<Spinner\r\n\t\t\tanimation='border'\r\n\t\t\trole='status'\r\n\t\t\tvariant='primary'\r\n\t\t\tclassName='loader'\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default Loader;\r\n","import {\r\n\tORDER_CREATE_REQUEST,\r\n\tORDER_CREATE_SUCCESS,\r\n\tORDER_CREATE_FAILURE,\r\n\tORDER_DETAILS_REQUEST,\r\n\tORDER_DETAILS_SUCCESS,\r\n\tORDER_DETAILS_FAILURE,\r\n\tORDER_PAY_REQUEST,\r\n\tORDER_PAY_SUCCESS,\r\n\tORDER_PAY_FAILURE,\r\n\tORDER_DELIVER_REQUEST,\r\n\tORDER_DELIVER_SUCCESS,\r\n\tORDER_DELIVER_FAILURE,\r\n\tORDER_USER_LIST_REQUEST,\r\n\tORDER_USER_LIST_SUCCESS,\r\n\tORDER_USER_LIST_FAILURE,\r\n\tORDER_ALL_LIST_REQUEST,\r\n\tORDER_ALL_LIST_SUCCESS,\r\n\tORDER_ALL_LIST_FAILURE,\r\n} from '../constants/orderConstants';\r\n\r\nimport axios from 'axios';\r\n\r\n// get all the details about the order and dispatch only of currently logged in\r\nexport const createOrder = (order) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: ORDER_CREATE_REQUEST });\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\t// different headers are used when it is a social login, and when it is a std email login\r\n\t\tconst config = userInfo.isSocialLogin\r\n\t\t\t? {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\r\n\t\t\t\t\t},\r\n\t\t\t  }\r\n\t\t\t: {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\r\n\t\t\t\t\t},\r\n\t\t\t  };\r\n\r\n\t\tconst { data } = await axios.post('/api/orders/', order, config);\r\n\r\n\t\tdispatch({ type: ORDER_CREATE_SUCCESS, payload: data });\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_CREATE_FAILURE,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\n// get details about a particular order\r\nexport const getOrderDetails = (orderID) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: ORDER_DETAILS_REQUEST });\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\t// different headers are used when it is a social login, and when it is a std email login\r\n\t\tconst config = userInfo.isSocialLogin\r\n\t\t\t? {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\r\n\t\t\t\t\t},\r\n\t\t\t  }\r\n\t\t\t: {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\r\n\t\t\t\t\t},\r\n\t\t\t  };\r\n\r\n\t\tconst { data } = await axios.get(`/api/orders/${orderID}`, config);\r\n\r\n\t\tdispatch({ type: ORDER_DETAILS_SUCCESS, payload: data });\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_DETAILS_FAILURE,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\n// update the current order to that of a paid one, and store the correct payment result\r\nexport const payOrder =\r\n\t(orderID, paymentResult) => async (dispatch, getState) => {\r\n\t\ttry {\r\n\t\t\tdispatch({ type: ORDER_PAY_REQUEST });\r\n\r\n\t\t\tconst {\r\n\t\t\t\tuserLogin: { userInfo },\r\n\t\t\t} = getState();\r\n\r\n\t\t\t// different headers are used when it is a social login, and when it is a std email login\r\n\t\t\tconst config = userInfo.isSocialLogin\r\n\t\t\t\t? {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t  }\r\n\t\t\t\t: {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t  };\r\n\r\n\t\t\tconst { data } = await axios.put(\r\n\t\t\t\t`/api/orders/${orderID}/pay`,\r\n\t\t\t\tpaymentResult,\r\n\t\t\t\tconfig\r\n\t\t\t);\r\n\r\n\t\t\tdispatch({ type: ORDER_PAY_SUCCESS, payload: data });\r\n\t\t} catch (error) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: ORDER_PAY_FAILURE,\r\n\t\t\t\tpayload:\r\n\t\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t\t: error.message,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n// Set the current order as delivered, only when logged in user is an admin\r\nexport const deliverOrder = (orderID) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: ORDER_DELIVER_REQUEST });\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = userInfo.isSocialLogin\r\n\t\t\t? {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\r\n\t\t\t\t\t},\r\n\t\t\t  }\r\n\t\t\t: {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\r\n\t\t\t\t\t},\r\n\t\t\t  };\r\n\r\n\t\tconst { data } = await axios.put(\r\n\t\t\t`/api/orders/${orderID}/deliver`,\r\n\t\t\t{},\r\n\t\t\tconfig\r\n\t\t);\r\n\r\n\t\tdispatch({ type: ORDER_DELIVER_SUCCESS, payload: data });\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_DELIVER_FAILURE,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\n// list all the orders of a particular user\r\nexport const listMyOrders = () => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: ORDER_USER_LIST_REQUEST });\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\t// different headers are used when it is a social login, and when it is a std email login\r\n\t\tconst config = userInfo.isSocialLogin\r\n\t\t\t? {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\r\n\t\t\t\t\t},\r\n\t\t\t  }\r\n\t\t\t: {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\r\n\t\t\t\t\t},\r\n\t\t\t  };\r\n\r\n\t\tconst { data } = await axios.get(`/api/orders/myorders`, config);\r\n\r\n\t\tdispatch({ type: ORDER_USER_LIST_SUCCESS, payload: data });\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_USER_LIST_FAILURE,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\n// list all orders for the admin panel view, include the pagenumber being fetched\r\nexport const listAllOrders =\r\n\t(pageNumber = '') =>\r\n\tasync (dispatch, getState) => {\r\n\t\ttry {\r\n\t\t\tdispatch({ type: ORDER_ALL_LIST_REQUEST });\r\n\r\n\t\t\tconst {\r\n\t\t\t\tuserLogin: { userInfo },\r\n\t\t\t} = getState();\r\n\r\n\t\t\t// different headers are used when it is a social login, and when it is a std email login\r\n\t\t\tconst config = userInfo.isSocialLogin\r\n\t\t\t\t? {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t  }\r\n\t\t\t\t: {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t  };\r\n\r\n\t\t\tconst { data } = await axios.get(\r\n\t\t\t\t`/api/orders?pageNumber=${pageNumber}`,\r\n\t\t\t\tconfig\r\n\t\t\t);\r\n\r\n\t\t\tdispatch({ type: ORDER_ALL_LIST_SUCCESS, payload: data });\r\n\t\t} catch (error) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: ORDER_ALL_LIST_FAILURE,\r\n\t\t\t\tpayload:\r\n\t\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t\t: error.message,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n","// there is a need to convert mongodb dates to readable date formats in various pages\r\n// this util function does that, and has a second argument to decide whether the time has to be included\r\nconst getDateString = (date, showTime = true) => {\r\n\tconst options = {\r\n\t\tyear: 'numeric',\r\n\t\tmonth: 'short',\r\n\t\tday: 'numeric',\r\n\t};\r\n\tconst timeStr = new Date(date).toLocaleTimeString('en', {\r\n\t\ttimeStyle: 'short',\r\n\t\thour12: true,\r\n\t\ttimeZone: 'IST',\r\n\t});\r\n\r\n\tlet result = '';\r\n\tif (showTime) result += `${timeStr} `;\r\n\treturn result + new Date(date).toLocaleDateString('en', options);\r\n};\r\n\r\nexport default getDateString;\r\n","/* eslint-disable array-callback-return */\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n\tRow,\r\n\tCol,\r\n\tCard,\r\n\tButton,\r\n\tListGroup,\r\n\tForm,\r\n\tFloatingLabel,\r\n} from 'react-bootstrap';\r\nimport ImageMagnifier from '../components/ImageMagnifier'; // to magnify image on hover\r\nimport Rating from '../components/Rating';\r\nimport Meta from '../components/Meta';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport {\r\n\tlistProductDetails,\r\n\tcreateProductReview,\r\n} from '../actions/productActions';\r\nimport { listMyOrders } from '../actions/orderActions';\r\nimport { refreshLogin, getUserDetails } from '../actions/userActions';\r\nimport { PRODUCT_CREATE_REVIEW_RESET } from '../constants/productConstants';\r\nimport getDateString from '../utils/getDateString';\r\nimport '../styles/product-page.css';\r\n\r\nconst ProductPage = ({ history, match }) => {\r\n\tconst [quantity, setQuantity] = useState(1);\r\n\tconst [rating, setRating] = useState(0);\r\n\tconst [review, setReview] = useState('');\r\n\tconst [allReviews, setAllReviews] = useState([]);\r\n\tconst [hasOrderedItem, setHasOrderedItem] = useState(false); // bool to check if the user has ordered this product\r\n\tconst [showReviewForm, setShowReviewForm] = useState(false); // bool to decide whether to show the review form or not\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tconst productDetails = useSelector((state) => state.productDetails);\r\n\tconst { loading, product, error } = productDetails;\r\n\r\n\tconst userDetails = useSelector((state) => state.userDetails);\r\n\tconst { error: userLoginError } = userDetails;\r\n\r\n\tconst productCreateReview = useSelector(\r\n\t\t(state) => state.productCreateReview\r\n\t);\r\n\tconst {\r\n\t\tloading: loadingCreateReview,\r\n\t\tsuccess: successCreateReview,\r\n\t\terror: errorCreateReview,\r\n\t} = productCreateReview;\r\n\r\n\tconst orderListUser = useSelector((state) => state.orderListUser);\r\n\tconst { orders } = orderListUser;\r\n\r\n\t// fetch user login info\r\n\tuseEffect(() => {\r\n\t\tuserInfo\r\n\t\t\t? userInfo.isSocialLogin\r\n\t\t\t\t? dispatch(getUserDetails(userInfo.id))\r\n\t\t\t\t: dispatch(getUserDetails('profile'))\r\n\t\t\t: dispatch(getUserDetails('profile'));\r\n\t}, [userInfo, dispatch]);\r\n\r\n\t// refresh the access tokens for accessing user details\r\n\tuseEffect(() => {\r\n\t\tif (userLoginError && userInfo && !userInfo.isSocialLogin) {\r\n\t\t\tconst user = JSON.parse(localStorage.getItem('userInfo'));\r\n\t\t\tuser && dispatch(refreshLogin(user.email));\r\n\t\t}\r\n\t}, [userLoginError, dispatch, userInfo]);\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(listMyOrders());\r\n\t}, [dispatch]);\r\n\r\n\t// add a new review, and reset the stored product review in the redux store\r\n\tuseEffect(() => {\r\n\t\tif (successCreateReview) {\r\n\t\t\twindow.alert('Review Submitted!!');\r\n\t\t\tsetRating(0);\r\n\t\t\tsetReview('');\r\n\t\t\tdispatch({ type: PRODUCT_CREATE_REVIEW_RESET });\r\n\t\t}\r\n\t\tdispatch(listProductDetails(match.params.id));\r\n\t}, [match, dispatch, successCreateReview]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (product && product.reviews && userInfo) {\r\n\t\t\tlet flag = 0; // to check if this user has already reviewed this product\r\n\t\t\tfor (let review of product.reviews) {\r\n\t\t\t\tif (review.user === userInfo.id) {\r\n\t\t\t\t\tflag = 1;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tflag ? setShowReviewForm(false) : setShowReviewForm(true);\r\n\t\t} else {\r\n\t\t\tsetShowReviewForm(true);\r\n\t\t}\r\n\t}, [product, userInfo]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (orders && orders.length) {\r\n\t\t\tlet flag = 0; // to check is this user has ordered this item\r\n\t\t\tfor (let obj of orders) {\r\n\t\t\t\tfor (let ele of obj.orderItems) {\r\n\t\t\t\t\tif (ele.product.toString() === match.params.id) {\r\n\t\t\t\t\t\tflag = 1;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tflag ? setHasOrderedItem(true) : setHasOrderedItem(false);\r\n\t\t} else {\r\n\t\t\tsetHasOrderedItem(false);\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [orders]);\r\n\r\n\t// arrange all reviews in reverse chronological order\r\n\tuseEffect(() => {\r\n\t\tif (product && product.reviews) {\r\n\t\t\tconst sortedArr = product.reviews.sort(\r\n\t\t\t\t(a, b) => new Date(b.createdAt) - new Date(a.createdAt)\r\n\t\t\t);\r\n\t\t\tsetAllReviews(sortedArr);\r\n\t\t}\r\n\t}, [product]);\r\n\r\n\tconst handleAddToCart = (e) => {\r\n\t\thistory.push(`/cart/${match.params.id}?qty=${quantity}`);\r\n\t};\r\n\r\n\tconst handleReviewSubmit = (e) => {\r\n\t\tdispatch(\r\n\t\t\tcreateProductReview(match.params.id, {\r\n\t\t\t\trating,\r\n\t\t\t\treview,\r\n\t\t\t})\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Link className='btn btn-outline-primary my-2' to='/'>\r\n\t\t\t\tGo Back\r\n\t\t\t</Link>\r\n\t\t\t{product && (!product._id || product._id !== match.params.id) ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message dismissible variant='danger' duration={10}>\r\n\t\t\t\t\t{error}\r\n\t\t\t\t</Message>\r\n\t\t\t) : product ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Meta title={`${product.name}`} />\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={6}>\r\n\t\t\t\t\t\t\t<ImageMagnifier\r\n\t\t\t\t\t\t\t\tsrc={product.image}\r\n\t\t\t\t\t\t\t\talt={product.name}\r\n\t\t\t\t\t\t\t\ttitle={product.name}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col md={3}>\r\n\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<h3>{product.name}</h3>\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t{product && product.rating && (\r\n\t\t\t\t\t\t\t\t\t\t<Rating\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={product.rating}\r\n\t\t\t\t\t\t\t\t\t\t\ttext={`${\r\n\t\t\t\t\t\t\t\t\t\t\t\tproduct.numReviews\r\n\t\t\t\t\t\t\t\t\t\t\t} Review${\r\n\t\t\t\t\t\t\t\t\t\t\t\tproduct.numReviews > 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 's'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: ''\r\n\t\t\t\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<strong>Price: </strong>\r\n\t\t\t\t\t\t\t\t\t{product.price &&\r\n\t\t\t\t\t\t\t\t\t\tproduct.price.toLocaleString('en-IN', {\r\n\t\t\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\r\n\t\t\t\t\t\t\t\t\t\t\tstyle: 'currency',\r\n\t\t\t\t\t\t\t\t\t\t\tcurrency: 'vnd',\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<strong>Description:</strong>{' '}\r\n\t\t\t\t\t\t\t\t\t{product.description}\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col md={3}>\r\n\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>Price: </strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{product.price &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tproduct.price.toLocaleString(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'en-IN',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'currency',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrency: 'vnd',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>Status: </strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{product.countInStock > 0\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'In Stock'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: 'Out of Stock'}\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t{product.countInStock > 0 && (\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<strong>Qty:</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas='select'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={quantity}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetQuantity(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* create as many options as the countInStock */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...Array(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproduct.countInStock\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t).keys(),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t].map((ele) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={ele + 1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={ele + 1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ele + 1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleAddToCart}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-block btn-lg'\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tproduct.countInStock <= 0\r\n\t\t\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tAdd To Cart\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={6}>\r\n\t\t\t\t\t\t\t<h2 className='mt-3'>Reviews</h2>\r\n\t\t\t\t\t\t\t{(!product.reviews || !product.reviews.length) && (\r\n\t\t\t\t\t\t\t\t<Message variant='secondary'>\r\n\t\t\t\t\t\t\t\t\tNo Reviews Yet\r\n\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t{/* {console.log(\r\n\t\t\t\t\t\t\t\t\tproduct.reviews.\r\n\t\t\t\t\t\t\t\t)} */}\r\n\t\t\t\t\t\t\t\t{allReviews.map((item) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup.Item key={item._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={item.avatar}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talt={item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='review-avatar'\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{item.name}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<Rating value={item.rating} />\r\n\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmargin: '0',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '1.1em',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{item.review}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<small\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '0.9em',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{getDateString(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.createdAt,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfalse\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t{hasOrderedItem && !showReviewForm && (\r\n\t\t\t\t\t\t\t\t\t<Message dismissible>\r\n\t\t\t\t\t\t\t\t\t\tYou have already reviewed this product\r\n\t\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{hasOrderedItem && showReviewForm && (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<h2>Write a Customer Review</h2>\r\n\t\t\t\t\t\t\t\t\t\t{errorCreateReview && (\r\n\t\t\t\t\t\t\t\t\t\t\t<Message\r\n\t\t\t\t\t\t\t\t\t\t\t\tdismissible\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='info'\r\n\t\t\t\t\t\t\t\t\t\t\t\tduration={10}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{errorCreateReview}\r\n\t\t\t\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{loadingCreateReview && <Loader />}\r\n\t\t\t\t\t\t\t\t\t\t<Form onSubmit={handleReviewSubmit}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Group controlId='rating'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas='select'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={rating}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetRating(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option default>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tChoose Rating\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='1'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t1 - Bad\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t2 - Poor\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='3'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t3 - Fair\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='4'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t4 - Good\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='5'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t5 - Excellent\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Group controlId='comment'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontrolId='commenttext'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel='Comment'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='my-3'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas='textarea'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Leave a comment here'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trow='3'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetReview(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={review}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='d-grid'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button type='submit'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tSubmit Review\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t''\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default ProductPage;\r\n","export const CART_ADD_ITEM = 'CART_ADD_ITEM';\r\nexport const CART_REMOVE_ITEM = 'CART_REMOVE_ITEM';\r\nexport const CART_RESET = 'CART_RESET';\r\nexport const CART_SAVE_SHIPPING_ADDRESS = 'CART_SAVE_SHIPPING_ADDRESS';\r\nexport const CART_SAVE_PAYMENT_METHOD = 'CART_SAVE_PAYMENT_METHOD';\r\n","import axios from 'axios';\r\nimport {\r\n\tCART_ADD_ITEM,\r\n\tCART_REMOVE_ITEM,\r\n\tCART_SAVE_SHIPPING_ADDRESS,\r\n\tCART_SAVE_PAYMENT_METHOD,\r\n} from '../constants/cartConstants';\r\n\r\n// get the product id and the quantity of the item to add to the cart\r\nexport const addItem = (id, qty) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tconst { data } = await axios.get(`/api/products/${id}`);\r\n\t\tdispatch({\r\n\t\t\ttype: CART_ADD_ITEM,\r\n\t\t\tpayload: {\r\n\t\t\t\tproduct: data._id,\r\n\t\t\t\tname: data.name,\r\n\t\t\t\timage: data.image,\r\n\t\t\t\tprice: data.price,\r\n\t\t\t\tcountInStock: data.countInStock,\r\n\t\t\t\tqty,\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\t// update the local storage with the new cart\r\n\t\tlocalStorage.setItem(\r\n\t\t\t'cartItems',\r\n\t\t\tJSON.stringify(getState().cart.cartItems)\r\n\t\t);\r\n\t} catch (error) {\r\n\t\tconsole.error(error);\r\n\t}\r\n};\r\n\r\n// get the product id to be removed from the cart\r\nexport const removeItem = (id) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: CART_REMOVE_ITEM,\r\n\t\t\tpayload: id,\r\n\t\t});\r\n\t\t// update the local storage with the updated cart\r\n\t\tlocalStorage.setItem(\r\n\t\t\t'cartItems',\r\n\t\t\tJSON.stringify(getState().cart.cartItems)\r\n\t\t);\r\n\t} catch (error) {\r\n\t\tconsole.log(error);\r\n\t}\r\n};\r\n\r\n// get the shipping address data and dispatch corresponding action\r\nexport const saveShippingAddress = (data) => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: CART_SAVE_SHIPPING_ADDRESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t\tlocalStorage.setItem('shippingAddress', JSON.stringify(data));\r\n\t} catch (error) {\r\n\t\tconsole.log(error);\r\n\t}\r\n};\r\n\r\n// get the option for payment and update the local storage as well\r\nexport const savePaymentMethod = (data) => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: CART_SAVE_PAYMENT_METHOD,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t\tlocalStorage.setItem('paymentMethod', JSON.stringify(data));\r\n\t} catch (error) {\r\n\t\tconsole.log(error);\r\n\t}\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n\tRow,\r\n\tCol,\r\n\tImage,\r\n\tButtonGroup,\r\n\tListGroup,\r\n\tButton,\r\n\tCard,\r\n} from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Meta from '../components/Meta';\r\nimport Message from '../components/Message';\r\nimport { refreshLogin, getUserDetails } from '../actions/userActions';\r\nimport { addItem, removeItem } from '../actions/cartActions';\r\n\r\nconst CartPage = ({ match, location, history }) => {\r\n\tconst [totalItems, setTotalItems] = useState(0);\r\n\tconst productID = match.params.id;\r\n\tconst qty = location.search ? Number(location.search.split('=')[1]) : 1; // fetch from the query string\r\n\tconst dispatch = useDispatch();\r\n\r\n\t// get cart, userInfo and userdetails from redux store\r\n\tconst cart = useSelector((state) => state.cart);\r\n\tconst { cartItems } = cart;\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tconst userDetails = useSelector((state) => state.userDetails);\r\n\tconst { error } = userDetails;\r\n\r\n\t// get user details depending on what type of login it is, dispatch with correspnding argument\r\n\tuseEffect(() => {\r\n\t\tuserInfo\r\n\t\t\t? userInfo.isSocialLogin\r\n\t\t\t\t? dispatch(getUserDetails(userInfo.id))\r\n\t\t\t\t: dispatch(getUserDetails('profile'))\r\n\t\t\t: dispatch(getUserDetails('profile'));\r\n\t}, [userInfo, dispatch]);\r\n\r\n\t// store total items to local state\r\n\tuseEffect(() => {\r\n\t\tif (cartItems) {\r\n\t\t\tsetTotalItems(cartItems.reduce((acc, item) => acc + item.qty, 0));\r\n\t\t}\r\n\t}, [cartItems]);\r\n\r\n\t// if userdetails shows error, then use refresh token to get new access tokens\r\n\tuseEffect(() => {\r\n\t\tif (error && userInfo && !userInfo.isSocialLogin) {\r\n\t\t\tconst user = JSON.parse(localStorage.getItem('userInfo'));\r\n\t\t\tuser && dispatch(refreshLogin(user.email));\r\n\t\t}\r\n\t}, [error, dispatch, userInfo]);\r\n\r\n\t// add item to cart\r\n\tuseEffect(() => {\r\n\t\tif (productID) {\r\n\t\t\tdispatch(addItem(productID, qty));\r\n\t\t}\r\n\t}, [dispatch, productID, qty]);\r\n\r\n\t// remove item from cart\r\n\tconst handleRemoveFromCart = (id) => {\r\n\t\tdispatch(removeItem(id));\r\n\t};\r\n\r\n\t// proceed to shipping address page, which is the next step in placing an order\r\n\tconst handleCheckout = (e) => {\r\n\t\thistory.push('/login?redirect=shipping');\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Row>\r\n\t\t\t<Meta title='My Cart | Kosells' />\r\n\t\t\t<Col md={8}>\r\n\t\t\t\t<h1>Shopping Cart.</h1>\r\n\t\t\t\t{!cartItems.length ? (\r\n\t\t\t\t\t<Message>\r\n\t\t\t\t\t\tYour Cart is empty. <Link to='/'>Go Back.</Link>{' '}\r\n\t\t\t\t\t</Message>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t{cartItems.map((item) => (\r\n\t\t\t\t\t\t\t<ListGroup.Item key={item.product}>\r\n\t\t\t\t\t\t\t\t<Row\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<Col md={2}>\r\n\t\t\t\t\t\t\t\t\t\t<Image\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='product-image'\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={item.image}\r\n\t\t\t\t\t\t\t\t\t\t\talt={item.name}\r\n\t\t\t\t\t\t\t\t\t\t\tfluid\r\n\t\t\t\t\t\t\t\t\t\t\trounded\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col md={4}>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={`/product/${item.product}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col\r\n\t\t\t\t\t\t\t\t\t\tmd={3}\r\n\t\t\t\t\t\t\t\t\t\tclassName='d-none d-md-flex'\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\t\t\t\t\t\tjustifyContent: 'space-evenly',\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t{item.price.toLocaleString('en-IN', {\r\n\t\t\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\r\n\t\t\t\t\t\t\t\t\t\t\tstyle: 'currency',\r\n\t\t\t\t\t\t\t\t\t\t\tcurrency: 'vnd',\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '0.7em' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-times'\r\n\t\t\t\t\t\t\t\t\t\t\t/>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t{item.qty}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t{/* display this col only for larger screens */}\r\n\t\t\t\t\t\t\t\t\t<Col\r\n\t\t\t\t\t\t\t\t\t\tmd={3}\r\n\t\t\t\t\t\t\t\t\t\tclassName='d-none d-md-flex'\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\t\t\t\t\t\tjustifyContent: 'space-between',\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t<ButtonGroup aria-label='Addtocart'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tborderRight:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'1px solid white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.qty >=\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.countInStock\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdispatch(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taddItem(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.product,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tNumber(item.qty + 1)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='primary'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-plus' />\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tborderLeft:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'1px solid white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='primary'\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={item.qty === 1}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdispatch(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taddItem(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.product,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tNumber(item.qty - 1)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-minus' />\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\thandleRemoveFromCart(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.product\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-trash' />\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t{/* display this col only on mobile screens */}\r\n\t\t\t\t\t\t\t\t\t<Col\r\n\t\t\t\t\t\t\t\t\t\tclassName='d-flex d-md-none mt-2'\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\t\t\t\t\t\tjustifyContent: 'space-between',\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='d-flex'\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '1.2em',\r\n\t\t\t\t\t\t\t\t\t\t\t\twidth: '50%',\r\n\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t{item.price.toLocaleString(\r\n\t\t\t\t\t\t\t\t\t\t\t\t'en-IN',\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'currency',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrency: 'vnd',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='ms-1'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '0.7em',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-times'\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{item.qty}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='d-flex'\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\t\t\t\t\t\t\tjustifyContent: 'space-between',\r\n\t\t\t\t\t\t\t\t\t\t\t\twidth: '50%',\r\n\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleRemoveFromCart(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.product\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-trash' />\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tborderRight:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'1px solid white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.qty >=\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.countInStock\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdispatch(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taddItem(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.product,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tNumber(item.qty + 1)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='primary'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-plus' />\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\toutline: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tborderLeft:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'1px solid white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='primary'\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={item.qty === 1}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdispatch(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taddItem(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.product,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tNumber(item.qty - 1)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-minus' />\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t)}\r\n\t\t\t</Col>\r\n\t\t\t<Col md={4} className='mt-3'>\r\n\t\t\t\t<ListGroup>\r\n\t\t\t\t\t<Card variant='flush'>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2 className='text-center'>\r\n\t\t\t\t\t\t\t\tSubtotal ({totalItems}) Item\r\n\t\t\t\t\t\t\t\t{totalItems > 1 && 's'}\r\n\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t\t\t{cartItems\r\n\t\t\t\t\t\t\t\t\t.reduce(\r\n\t\t\t\t\t\t\t\t\t\t(acc, item) =>\r\n\t\t\t\t\t\t\t\t\t\t\tacc + item.qty * item.price,\r\n\t\t\t\t\t\t\t\t\t\t0\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t.toLocaleString('en-IN', {\r\n\t\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\r\n\t\t\t\t\t\t\t\t\t\tstyle: 'currency',\r\n\t\t\t\t\t\t\t\t\t\tcurrency: 'vnd',\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</strong>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<div className='d-grid'>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\tdisabled={!cartItems.length}\r\n\t\t\t\t\t\t\t\t\tonClick={handleCheckout}>\r\n\t\t\t\t\t\t\t\t\tProceed to checkout\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</ListGroup>\r\n\t\t\t</Col>\r\n\t\t</Row>\r\n\t);\r\n};\r\n\r\nexport default CartPage;\r\n","import React from 'react';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\n\r\nconst FormContainer = ({ children }) => {\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<Row className='justify-content-md-center'>\r\n\t\t\t\t<Col xs={12} md={6}>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\nexport default FormContainer;\r\n","export default __webpack_public_path__ + \"static/media/googleLogo.0590aaf0.png\";","export default __webpack_public_path__ + \"static/media/twitterLogo.f963dcac.png\";","import React from 'react';\r\nimport { Card, Image } from 'react-bootstrap';\r\nimport googleLogo from '../assets/googleLogo.png';\r\nimport githubLogo from '../assets/githubLogo.png';\r\nimport twitterLogo from '../assets/twitterLogo.png';\r\nimport linkedinLogo from '../assets/linkedinLogo.png';\r\nimport '../styles/social-login-option.css';\r\n\r\nconst SocialLoginOptions = () => {\r\n\tconst baseURL = process.env.REACT_APP_BASE_URL;\r\n\t// display a list of 4 options and make API request to passport login on click\r\n\treturn (\r\n\t\t<div\r\n\t\t\tid='social-login'\r\n\t\t\tstyle={{\r\n\t\t\t\tmargin: '1em 0',\r\n\t\t\t\tpadding: '0',\r\n\t\t\t}}>\r\n\t\t\t<div className='social-login-container'>\r\n\t\t\t\t<div className='social-login-line' />\r\n\t\t\t\t<p className='social-login-content'>Or Connect With</p>\r\n\t\t\t\t<div className='social-login-line' />\r\n\t\t\t</div>\r\n\t\t\t<Card.Body\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tmargin: '0',\r\n\t\t\t\t\tpadding: '0',\r\n\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\tfleFlow: 'row wrap',\r\n\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\tjustifyContent: 'space-around',\r\n\t\t\t\t}}>\r\n\t\t\t\t<a href={`${baseURL}api/auth/google`}>\r\n\t\t\t\t\t<Image\r\n\t\t\t\t\t\trounded\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\twidth: '2.5em',\r\n\t\t\t\t\t\t\theight: '2.5em',\r\n\t\t\t\t\t\t\tobjectFit: 'cover',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsrc={googleLogo}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</a>\r\n\t\t\t\t<a href={`${baseURL}api/auth/github`}>\r\n\t\t\t\t\t<Image\r\n\t\t\t\t\t\trounded\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\twidth: '2.5em',\r\n\t\t\t\t\t\t\theight: '2.5em',\r\n\t\t\t\t\t\t\tobjectFit: 'cover',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsrc={githubLogo}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</a>\r\n\t\t\t\t<a href={`${baseURL}api/auth/twitter`}>\r\n\t\t\t\t\t<Image\r\n\t\t\t\t\t\trounded\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\twidth: '2.5em',\r\n\t\t\t\t\t\t\theight: '2.5em',\r\n\t\t\t\t\t\t\tobjectFit: 'contain',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsrc={twitterLogo}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</a>\r\n\t\t\t\t<a href={`${baseURL}api/auth/linkedin`}>\r\n\t\t\t\t\t<Image\r\n\t\t\t\t\t\trounded\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\twidth: '2.5em',\r\n\t\t\t\t\t\t\theight: '2.5em',\r\n\t\t\t\t\t\t\tobjectFit: 'contain',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsrc={linkedinLogo}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</a>\r\n\t\t\t</Card.Body>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default SocialLoginOptions;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEzMjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyQTQxNEFCQzk5QTExMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTMwOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTMxOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+R7ClIwAADR5JREFUeNrsnQuw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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAABKNAAASjQEphQ1dAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAvFQTFRF////AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3AHe3dPNe8AAAAPp0Uk5TAAECAwQFBgcICQoLDA0ODxAREhMU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\"","import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport {\r\n\tForm,\r\n\tButton,\r\n\tInputGroup,\r\n\tCol,\r\n\tCard,\r\n\tFloatingLabel,\r\n} from 'react-bootstrap';\r\nimport { loginUser } from '../actions/userActions';\r\nimport { USER_LOGIN_SUCCESS } from '../constants/userConstants';\r\nimport axios from 'axios';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport FormContainer from '../components/FormContainer';\r\nimport SocialLoginOptions from '../components/SocialLoginOptions';\r\nimport '../styles/login-register.css';\r\n\r\nconst LoginPage = ({ location, history }) => {\r\n\tconst [authFailedMsg, setAuthFailedMsg] = useState(''); // if user tried to login with different social account after registering with some other social account\r\n\tconst [showRedirectMsg, setShowRedirectMsg] = useState(false);\r\n\tconst [forgotPassword, setForgotPassword] = useState(false);\r\n\tconst [showLoading, setShowLoading] = useState(false); // to display loader after user submits the email to reset password\r\n\tconst [emailSent, setEmailSent] = useState(false); //to display a message that email is sent to reset password\r\n\r\n\tconst [type, setType] = useState('password');\r\n\tconst [email, setEmail] = useState('');\r\n\tconst [password, setPassword] = useState('');\r\n\tconst dispatch = useDispatch();\r\n\tconst redirect = location.search ? location.search.split('=')[1] : '';\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { loading, userInfo, error } = userLogin;\r\n\tconst storedInfo = JSON.parse(localStorage.getItem('userInfo'));\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!location.search.includes('success') && userInfo)\r\n\t\t\thistory.push(redirect);\r\n\t}, [history, redirect, location, userInfo]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (location.search.includes('login=failed')) {\r\n\t\t\tconst errorCodeQuery = location.search.split('&')[1];\r\n\t\t\tconst errorCode = errorCodeQuery.split('=')[1];\r\n\t\t\tswitch (errorCode) {\r\n\t\t\t\tcase '0':\r\n\t\t\t\t\tsetAuthFailedMsg(\r\n\t\t\t\t\t\t'It looks like you had registered using a Google Account'\r\n\t\t\t\t\t);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase '1':\r\n\t\t\t\t\tsetAuthFailedMsg(\r\n\t\t\t\t\t\t'It looks like you had registered using a Github Account'\r\n\t\t\t\t\t);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase '2':\r\n\t\t\t\t\tsetAuthFailedMsg(\r\n\t\t\t\t\t\t'It looks like you had registered using a Twitter Account'\r\n\t\t\t\t\t);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase '3':\r\n\t\t\t\t\tsetAuthFailedMsg(\r\n\t\t\t\t\t\t'It looks like you had registered using a LinkedIn Account'\r\n\t\t\t\t\t);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t}, [location.search]);\r\n\r\n\t// if redirected to login page after refresh token expired, show a message\r\n\tuseEffect(() => {\r\n\t\tconst flag = localStorage.getItem('redirectLogin');\r\n\t\tif (flag && flag === 'true') {\r\n\t\t\tsetShowRedirectMsg(true);\r\n\t\t} else {\r\n\t\t\tsetShowRedirectMsg(false);\r\n\t\t}\r\n\t}, []);\r\n\r\n\t// if the passport social login is successful, get the user's data and store in redux store\r\n\tuseEffect(() => {\r\n\t\t// check for url params\r\n\t\tif (window.location.search.includes('success')) {\r\n\t\t\tconst queries = window.location.search.split('&');\r\n\t\t\tconst isSuccess = queries[0].split('=')[1] === 'success';\r\n\t\t\tconst id = queries[1].split('=')[1];\r\n\r\n\t\t\t// if successful login\r\n\t\t\tif (isSuccess) {\r\n\t\t\t\t// get user data and dispatch login success\r\n\t\t\t\taxios\r\n\t\t\t\t\t.post('/api/users/passport/data', {\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(({ data }) => {\r\n\t\t\t\t\t\tconst {\r\n\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\temail,\r\n\t\t\t\t\t\t\tname,\r\n\t\t\t\t\t\t\tisAdmin,\r\n\t\t\t\t\t\t\tisConfirmed,\r\n\t\t\t\t\t\t\tavatar,\r\n\t\t\t\t\t\t} = data;\r\n\t\t\t\t\t\tconst userData = {\r\n\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\temail,\r\n\t\t\t\t\t\t\tname,\r\n\t\t\t\t\t\t\tisAdmin,\r\n\t\t\t\t\t\t\tisConfirmed,\r\n\t\t\t\t\t\t\tavatar,\r\n\t\t\t\t\t\t\tisSocialLogin: true,\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t// login user in frontend\r\n\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\ttype: USER_LOGIN_SUCCESS,\r\n\t\t\t\t\t\t\tpayload: userData,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// update the local storage\r\n\t\t\t\t\t\tlocalStorage.setItem(\r\n\t\t\t\t\t\t\t'userInfo',\r\n\t\t\t\t\t\t\tJSON.stringify(userData)\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t// remove variable that was meant to promt email verification if it is a social login\r\n\t\t\t\t\t\tlocalStorage.removeItem('promptEmailVerfication');\r\n\t\t\t\t\t\thistory.push('/shipping'); // move to shipping page by default\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}, [dispatch, history, redirect]);\r\n\r\n\tuseEffect(() => {\r\n\t\t// if redirected from confirmation page, fill email and let user fill the password field\r\n\t\tif (\r\n\t\t\tstoredInfo &&\r\n\t\t\tstoredInfo.email &&\r\n\t\t\tlocalStorage.getItem('fillEmailOnLoginPage') === 'true'\r\n\t\t) {\r\n\t\t\tlocalStorage.removeItem('fillEmailOnLoginPage');\r\n\t\t\tsetEmail(storedInfo.email);\r\n\t\t}\r\n\t}, [storedInfo]);\r\n\r\n\t// to show/hide the password field content\r\n\tconst showHide = (e) => {\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\t\tsetType(type === 'password' ? 'text' : 'password');\r\n\t};\r\n\r\n\t// login user from email and password\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(loginUser(email, password));\r\n\t};\r\n\r\n\t// to send a mail for resetting password if forgotted\r\n\tconst handleEmailSubmit = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tsetShowLoading(true);\r\n\r\n\t\t// send the mail to the registered user\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.post(\r\n\t\t\t'/api/users/reset',\r\n\t\t\t{ email },\r\n\t\t\tconfig\r\n\t\t);\r\n\r\n\t\tif (data) {\r\n\t\t\tsetShowLoading(false);\r\n\t\t\tsetEmailSent(true);\r\n\t\t\t// store the name in localstorage\r\n\t\t\tlocalStorage.setItem('EcommerceUserName', data.name); // store the user name, so that we can use it in the profile page to ask them to confirm email\r\n\t\t}\r\n\t};\r\n\r\n\t// there are 2 sorts of forms to be shown, one when resetting password, and other when normal login\r\n\tif (!forgotPassword) {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<FormContainer>\r\n\t\t\t\t\t{/* if passport login has failed because user logged in with differrent social account, shoe the error msg */}\r\n\t\t\t\t\t{authFailedMsg && (\r\n\t\t\t\t\t\t<Message variant='danger' dismissible>\r\n\t\t\t\t\t\t\t{authFailedMsg}\r\n\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div className='form-inner-container'>\r\n\t\t\t\t\t\t<div className='form-heading'>\r\n\t\t\t\t\t\t\t<h1\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tbackground: 'ghostwhite',\r\n\t\t\t\t\t\t\t\t\tboxShadow:\r\n\t\t\t\t\t\t\t\t\t\t'0px 0px 9px 0px rgba(0, 0, 0, 0.2)',\r\n\t\t\t\t\t\t\t\t\tWebkitBoxShadow:\r\n\t\t\t\t\t\t\t\t\t\t'0px 0px 9px 0px rgba(0, 0, 0, 0.2)',\r\n\t\t\t\t\t\t\t\t\tMozBoxShadow:\r\n\t\t\t\t\t\t\t\t\t\t'0px 0px 9px 0px rgba(0, 0, 0, 0.2)',\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tSign In\r\n\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t<h1 onClick={() => history.push('/register')}>\r\n\t\t\t\t\t\t\t\tSign Up\r\n\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{error && (\r\n\t\t\t\t\t\t\t<Message dismissible variant='danger' duration={10}>\r\n\t\t\t\t\t\t\t\t{error}\r\n\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{/* the message when refresh token has expired */}\r\n\t\t\t\t\t\t{showRedirectMsg && (\r\n\t\t\t\t\t\t\t<Message dismissible variant='info' duration={10}>\r\n\t\t\t\t\t\t\t\tYour session has expired. Please login again.\r\n\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t<Loader />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<Form onSubmit={handleSubmit}>\r\n\t\t\t\t\t\t\t\t\t<Form.Group controlId='email'>\r\n\t\t\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\t\t\tcontrolId='emailinput'\r\n\t\t\t\t\t\t\t\t\t\t\tlabel='Email address'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Enter Email Address'\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetEmail(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\t\t\t\tcontrolId='passwordinput'\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel='Password'\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype={type}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Enter your password'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderRight: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetPassword(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='input-group-append'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputGroup.Text\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={showHide}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '1rem',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmarginLeft:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'-0.5em',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'transparent',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderLeft: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{type === 'text' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye-slash' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputGroup.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t\t\t\t</InputGroup>\r\n\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t<Col\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\tvariant='link'\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tmarginTop: '-1em',\r\n\t\t\t\t\t\t\t\t\t\t\t\tpadding: '0',\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetForgotPassword(true)\r\n\t\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\tForgot Password?\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='ms-auto'\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tpadding: '0.5em 1em',\r\n\t\t\t\t\t\t\t\t\t\t\t\twidth: '8rem',\r\n\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\tLogin\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t<SocialLoginOptions />\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</FormContainer>\r\n\t\t\t</>\r\n\t\t);\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<FormContainer>\r\n\t\t\t\t\t<div className='form-inner-container'>\r\n\t\t\t\t\t\t<div className='form-heading'>\r\n\t\t\t\t\t\t\t<h1\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tbackground: 'ghostwhite',\r\n\t\t\t\t\t\t\t\t\tboxShadow:\r\n\t\t\t\t\t\t\t\t\t\t'0px -1px 5px 0px rgba(0, 0, 0, 0.2)',\r\n\t\t\t\t\t\t\t\t\tWebkitBoxShadow:\r\n\t\t\t\t\t\t\t\t\t\t'0px -1px 5px 0px rgba(0, 0, 0, 0.2)',\r\n\t\t\t\t\t\t\t\t\tMozBoxShadow:\r\n\t\t\t\t\t\t\t\t\t\t'0px -1px 5px 0px rgba(0, 0, 0, 0.2)',\r\n\t\t\t\t\t\t\t\t\tcursor: 'default',\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tReset Password\r\n\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{showLoading ? (\r\n\t\t\t\t\t\t\t<Loader />\r\n\t\t\t\t\t\t) : emailSent ? (\r\n\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t<Card.Body className='pl-0'>\r\n\t\t\t\t\t\t\t\t\t<Card.Title>Email Sent</Card.Title>\r\n\t\t\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t\t\tPlease use the link sent to your email\r\n\t\t\t\t\t\t\t\t\t\tand reset your password right away!\r\n\t\t\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Form onSubmit={handleEmailSubmit}>\r\n\t\t\t\t\t\t\t\t<Form.Group controlId='email'>\r\n\t\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\t\tcontrolId='emailinput'\r\n\t\t\t\t\t\t\t\t\t\tlabel='Email address'\r\n\t\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Enter Email Address'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetEmail(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Col\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\tvariant='link'\r\n\t\t\t\t\t\t\t\t\t\tclassName='remember-password'\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tmarginTop: '-1em',\r\n\t\t\t\t\t\t\t\t\t\t\tpadding: '0',\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\tsetForgotPassword(false)\r\n\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\tI remember my password\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\t\t\tclassName='ms-auto'\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tpadding: '0.5em 1em',\r\n\t\t\t\t\t\t\t\t\t\t\twidth: '8rem',\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<SocialLoginOptions />\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</FormContainer>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n};\r\n\r\nexport default LoginPage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport {\r\n\tForm,\r\n\tButton,\r\n\tInputGroup,\r\n\tFloatingLabel,\r\n\tRow,\r\n\tCol,\r\n} from 'react-bootstrap';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport FormContainer from '../components/FormContainer';\r\nimport { registerUser } from '../actions/userActions';\r\nimport '../styles/login-register.css';\r\n\r\nconst RegisterPage = ({ location, history }) => {\r\n\tconst [typePassword, setTypePassword] = useState('password');\r\n\tconst [typeConfirmPassword, setTypeConfirmPassword] = useState('password');\r\n\r\n\tconst [name, setName] = useState('');\r\n\tconst [email, setEmail] = useState('');\r\n\tconst [password, setPassword] = useState('');\r\n\tconst [confirmPassword, setConfirmPassword] = useState('');\r\n\tconst [message, setMessage] = useState(null);\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst redirect = location.search ? location.search.split('=')[1] : '';\r\n\tconst userRegister = useSelector((state) => state.userRegister);\r\n\tconst { loading, userInfo, error } = userRegister;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userInfo) {\r\n\t\t\tlocalStorage.setItem('promptEmailVerfication', 'true');\r\n\t\t\thistory.push(redirect);\r\n\t\t}\r\n\t}, [history, redirect, userInfo]);\r\n\r\n\tconst showHidePassword = (e) => {\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\t\tsetTypePassword(typePassword === 'password' ? 'text' : 'password');\r\n\t};\r\n\tconst showHideConfirmPassword = (e) => {\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\t\tsetTypeConfirmPassword(\r\n\t\t\ttypeConfirmPassword === 'password' ? 'text' : 'password'\r\n\t\t);\r\n\t};\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tif (password !== confirmPassword) {\r\n\t\t\tsetMessage('Passwords do not match. Please retry.');\r\n\t\t} else {\r\n\t\t\tdispatch(registerUser(name, email, password));\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<FormContainer>\r\n\t\t\t<div className='form-inner-container'>\r\n\t\t\t\t<div className='form-heading'>\r\n\t\t\t\t\t<h1 onClick={() => history.push('/login')}>Sign In</h1>\r\n\t\t\t\t\t<h1\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tbackground: 'ghostwhite',\r\n\t\t\t\t\t\t\tboxShadow: '0px 0px 9px 0px rgba(0, 0, 0, 0.2)',\r\n\t\t\t\t\t\t\tWebkitBoxShadow:\r\n\t\t\t\t\t\t\t\t'0px 0px 9px 0px rgba(0, 0, 0, 0.2)',\r\n\t\t\t\t\t\t\tMozBoxShadow: '0px 0px 9px 0px rgba(0, 0, 0, 0.2)',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonClick={() => history.push('/register')}>\r\n\t\t\t\t\t\tSign Up\r\n\t\t\t\t\t</h1>\r\n\t\t\t\t</div>\r\n\t\t\t\t{message && (\r\n\t\t\t\t\t<Message dismissible variant='warning' duration={10}>\r\n\t\t\t\t\t\t{message}\r\n\t\t\t\t\t</Message>\r\n\t\t\t\t)}\r\n\t\t\t\t{error && (\r\n\t\t\t\t\t<Message dismissible variant='danger' duration={10}>\r\n\t\t\t\t\t\t{error}\r\n\t\t\t\t\t</Message>\r\n\t\t\t\t)}\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Form onSubmit={handleSubmit}>\r\n\t\t\t\t\t\t<Form.Group controlId='name' className='mb-2'>\r\n\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\tcontrolId='nameinput'\r\n\t\t\t\t\t\t\t\tlabel='Name'\r\n\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\tplaceholder='Enter Name'\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t<Form.Group controlId='email' className='my-2'>\r\n\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\tcontrolId='emailinput'\r\n\t\t\t\t\t\t\t\tlabel='Email Address'\r\n\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\tplaceholder='Enter Email Address'\r\n\t\t\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\tcontrolId='passwordinput'\r\n\t\t\t\t\t\t\t\t\tlabel='Password'\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\ttype={typePassword}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder='Enter your password'\r\n\t\t\t\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tborderRight: 'none',\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\tsetPassword(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<div className='input-group-append'>\r\n\t\t\t\t\t\t\t\t\t\t<InputGroup.Text\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={showHidePassword}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '1rem',\r\n\t\t\t\t\t\t\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\t\tmarginLeft: '-0.5em',\r\n\t\t\t\t\t\t\t\t\t\t\t\tbackground: 'transparent',\r\n\t\t\t\t\t\t\t\t\t\t\t\tborderLeft: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t{typePassword === 'text' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye-slash' />\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye' />\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</InputGroup.Text>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t</InputGroup>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\tcontrolId='confirmpasswordinput'\r\n\t\t\t\t\t\t\t\t\tlabel='Confirm password'\r\n\t\t\t\t\t\t\t\t\tstyle={{ display: 'flex', width: '100%' }}\r\n\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\ttype={typeConfirmPassword}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder='Confirm your password'\r\n\t\t\t\t\t\t\t\t\t\tvalue={confirmPassword}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tborderRight: 'none',\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\tsetConfirmPassword(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<div className='input-group-append'>\r\n\t\t\t\t\t\t\t\t\t\t<InputGroup.Text\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={showHideConfirmPassword}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '1rem',\r\n\t\t\t\t\t\t\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\t\tmarginLeft: '-0.5em',\r\n\t\t\t\t\t\t\t\t\t\t\t\tbackground: 'transparent',\r\n\t\t\t\t\t\t\t\t\t\t\t\tborderLeft: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t{typeConfirmPassword === 'text' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye-slash' />\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye' />\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</InputGroup.Text>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t</InputGroup>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\t\tclassName='ms-auto'\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tpadding: '0.5em 1em',\r\n\t\t\t\t\t\t\t\t\t\twidth: '8rem',\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\tRegister\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</FormContainer>\r\n\t);\r\n};\r\n\r\nexport default RegisterPage;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n\tForm,\r\n\tButton,\r\n\tRow,\r\n\tInputGroup,\r\n\tCol,\r\n\tCard,\r\n\tTable,\r\n\tImage,\r\n\tFloatingLabel,\r\n} from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport {\r\n\tsendVerficationEmail,\r\n\tgetUserDetails,\r\n\tupdateUserProfile,\r\n\trefreshLogin,\r\n} from '../actions/userActions';\r\nimport { listMyOrders } from '../actions/orderActions';\r\nimport { USER_PROFILE_UPDATE_RESET } from '../constants/userConstants';\r\nimport Meta from '../components/Meta';\r\nimport axios from 'axios';\r\nimport getDateString from '../utils/getDateString';\r\nimport '../styles/profile-page.css';\r\n\r\nconst ProfilePage = ({ history }) => {\r\n\tconst inputFile = useRef(null);\r\n\tconst [showSubmitButton, setShowSubmitButton] = useState(false); // sisable the submit button unless some user detail is changed by user\r\n\tconst [typePassword, setTypePassword] = useState('password');\r\n\tconst [typeConfirmPassword, setTypeConfirmPassword] = useState('password');\r\n\r\n\tconst [name, setName] = useState('');\r\n\tconst [email, setEmail] = useState('');\r\n\tconst [avatar, setAvatar] = useState('');\r\n\tconst [password, setPassword] = useState('');\r\n\tconst [confirmPassword, setConfirmPassword] = useState('');\r\n\tconst [message, setMessage] = useState(null);\r\n\tconst [allOrders, setAllOrders] = useState([]);\r\n\r\n\tconst [uploading, setUploading] = useState(false);\r\n\tconst [errorImageUpload, setErrorImageUpload] = useState('');\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst userDetails = useSelector((state) => state.userDetails);\r\n\tconst { loading, user, error } = userDetails;\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tconst userProfileUpdate = useSelector((state) => state.userProfileUpdate);\r\n\tconst { success } = userProfileUpdate;\r\n\r\n\tconst orderListUser = useSelector((state) => state.orderListUser);\r\n\tconst {\r\n\t\tloading: loadingOrdersList,\r\n\t\torders,\r\n\t\terror: errorOrdersList,\r\n\t} = orderListUser;\r\n\r\n\t// check whether verification email has to be sent\r\n\tconst userSendEmailVerfication = useSelector(\r\n\t\t(state) => state.userSendEmailVerfication\r\n\t);\r\n\tconst { emailSent, hasError } = userSendEmailVerfication;\r\n\r\n\t// refresh access token for user details error\r\n\tuseEffect(() => {\r\n\t\tif (error && userInfo && !userInfo.isSocialLogin) {\r\n\t\t\tconst user = JSON.parse(localStorage.getItem('userInfo'));\r\n\t\t\tuser && dispatch(refreshLogin(user.email));\r\n\t\t}\r\n\t}, [error, dispatch, userInfo]);\r\n\r\n\t// set orders to local state\r\n\tuseEffect(() => {\r\n\t\tif (orders && orders.length) {\r\n\t\t\tsetAllOrders([...orders]);\r\n\t\t}\r\n\t}, [orders]);\r\n\r\n\t// check if any of the input fields value is changed, only then show the submit button\r\n\tuseEffect(() => {\r\n\t\tif (userInfo) {\r\n\t\t\tif (name && userInfo.name !== name) setShowSubmitButton(true);\r\n\t\t\telse if (email && userInfo.email !== email)\r\n\t\t\t\tsetShowSubmitButton(true);\r\n\t\t\telse if (password || confirmPassword) setShowSubmitButton(true);\r\n\t\t\telse setShowSubmitButton(false);\r\n\t\t}\r\n\t}, [name, email, password, confirmPassword, userInfo]);\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(listMyOrders());\r\n\t}, [dispatch]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!userInfo) {\r\n\t\t\thistory.push('/login');\r\n\t\t} else {\r\n\t\t\t// if user is null, first fetch it and then set its details to the local state\r\n\t\t\tif (!user || !user.name || success) {\r\n\t\t\t\tdispatch(listMyOrders());\r\n\t\t\t\tdispatch({ type: USER_PROFILE_UPDATE_RESET });\r\n\t\t\t\tuserInfo\r\n\t\t\t\t\t? userInfo.isSocialLogin\r\n\t\t\t\t\t\t? dispatch(getUserDetails(userInfo.id))\r\n\t\t\t\t\t\t: dispatch(getUserDetails('profile'))\r\n\t\t\t\t\t: dispatch(getUserDetails('profile'));\r\n\t\t\t\tif (success) {\r\n\t\t\t\t\tuserInfo.isSocialLogin\r\n\t\t\t\t\t\t? dispatch(getUserDetails(userInfo.id))\r\n\t\t\t\t\t\t: dispatch(getUserDetails('profile'));\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tsetName(user.name);\r\n\t\t\t\tsetEmail(user.email);\r\n\t\t\t\tsetAvatar(user.avatar);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [history, userInfo, user, dispatch, success, loadingOrdersList]);\r\n\r\n\tconst showHidePassword = (e) => {\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\t\tsetTypePassword(typePassword === 'password' ? 'text' : 'password');\r\n\t};\r\n\r\n\tconst showHideConfirmPassword = (e) => {\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\t\tsetTypeConfirmPassword(\r\n\t\t\ttypeConfirmPassword === 'password' ? 'text' : 'password'\r\n\t\t);\r\n\t};\r\n\r\n\t// handle file upload to aws bucket\r\n\tconst handleImageUpload = async (e) => {\r\n\t\tconst file = e.target.files[0];\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('image', file);\r\n\t\tsetUploading(true);\r\n\t\ttry {\r\n\t\t\tconst config = {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t},\r\n\t\t\t};\r\n\r\n\t\t\tconst { data } = await axios.post('/api/upload', formData, config);\r\n\t\t\tsetAvatar(data);\r\n\t\t\tdispatch(\r\n\t\t\t\tupdateUserProfile({\r\n\t\t\t\t\tid: user.id,\r\n\t\t\t\t\tavatar: data,\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t\tsetUploading(false);\r\n\t\t} catch (error) {\r\n\t\t\tsetErrorImageUpload('Please choose a valid image');\r\n\t\t\tsetUploading(false);\r\n\t\t}\r\n\t};\r\n\r\n\t// handle image overlay div's click to upload new file\r\n\tconst handleImageClick = () => {\r\n\t\tinputFile.current.click();\r\n\t};\r\n\r\n\t// update user details\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tif (password !== confirmPassword) {\r\n\t\t\tsetMessage('Passwords do not match. Please retry.');\r\n\t\t} else {\r\n\t\t\tdispatch(\r\n\t\t\t\tupdateUserProfile({\r\n\t\t\t\t\tid: user.id,\r\n\t\t\t\t\tname,\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tavatar,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t\tconfirmPassword,\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Row className='mt-2'>\r\n\t\t\t<Meta title='My Profile | Kosells' />\r\n\t\t\t{userInfo && !userInfo.isConfirmed ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{emailSent && (\r\n\t\t\t\t\t\t<Message variant='success' dismissible>\r\n\t\t\t\t\t\t\tA verification link has been sent your mail!\r\n\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{hasError && (\r\n\t\t\t\t\t\t<Message dismissible variant='danger'>\r\n\t\t\t\t\t\t\t{hasError}\r\n\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<Card style={{ margin: '0' }} className='mb-3'>\r\n\t\t\t\t\t\t<Card.Body className='ps-0 '>\r\n\t\t\t\t\t\t\t<Card.Title style={{ fontWeight: 'bold' }}>\r\n\t\t\t\t\t\t\t\tAccount Not Verified\r\n\t\t\t\t\t\t\t</Card.Title>\r\n\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\t{`${userInfo.name}, `} your account is not yet\r\n\t\t\t\t\t\t\t\tverfied. Please{' '}\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tvariant='link'\r\n\t\t\t\t\t\t\t\t\tclassName='p-0'\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tfontSize: '0.9em',\r\n\t\t\t\t\t\t\t\t\t\tmargin: '0 0 0.1em 0',\r\n\t\t\t\t\t\t\t\t\t\tfocus: 'none',\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\tdispatch(\r\n\t\t\t\t\t\t\t\t\t\t\tsendVerficationEmail(userInfo.email)\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\tclick here\r\n\t\t\t\t\t\t\t\t</Button>{' '}\r\n\t\t\t\t\t\t\t\tto send a verfication email.\r\n\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</>\r\n\t\t\t) : null}\r\n\t\t\t<Col\r\n\t\t\t\tmd={3}\r\n\t\t\t\tstyle={\r\n\t\t\t\t\tuserInfo && !userInfo.isConfirmed\r\n\t\t\t\t\t\t? {\r\n\t\t\t\t\t\t\t\topacity: '0.5',\r\n\t\t\t\t\t\t\t\tpointerEvents: 'none',\r\n\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t: {\r\n\t\t\t\t\t\t\t\topacity: '1',\r\n\t\t\t\t\t\t\t\tpointerEvents: '',\r\n\t\t\t\t\t\t  }\r\n\t\t\t\t}>\r\n\t\t\t\t<h2 className='text-center'>My Profile</h2>\r\n\t\t\t\t{message && (\r\n\t\t\t\t\t<Message dismissible variant='warning' duration={8}>\r\n\t\t\t\t\t\t{message}\r\n\t\t\t\t\t</Message>\r\n\t\t\t\t)}\r\n\t\t\t\t{error && error !== 'Not authorised. Token failed' && (\r\n\t\t\t\t\t<Message dismissible variant='danger' duration={10}>\r\n\t\t\t\t\t\t{error}\r\n\t\t\t\t\t</Message>\r\n\t\t\t\t)}\r\n\t\t\t\t{success && (\r\n\t\t\t\t\t<Message dismissible variant='success' duration={8}>\r\n\t\t\t\t\t\tProfile Updated!\r\n\t\t\t\t\t</Message>\r\n\t\t\t\t)}\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div style={{ display: 'flex', flexFlow: 'column nowrap' }}>\r\n\t\t\t\t\t\t{errorImageUpload && (\r\n\t\t\t\t\t\t\t<Message dismissible variant='danger' duration={10}>\r\n\t\t\t\t\t\t\t\t{errorImageUpload}\r\n\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{uploading ? (\r\n\t\t\t\t\t\t\t<Loader />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName='profile-page-image'\r\n\t\t\t\t\t\t\t\tstyle={{ alignSelf: 'center' }}>\r\n\t\t\t\t\t\t\t\t<Image\r\n\t\t\t\t\t\t\t\t\tsrc={avatar}\r\n\t\t\t\t\t\t\t\t\talt={name}\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\theight: '5em',\r\n\t\t\t\t\t\t\t\t\t\twidth: '5em',\r\n\t\t\t\t\t\t\t\t\t\tmarginBottom: '1em',\r\n\t\t\t\t\t\t\t\t\t\tborder: '1px solid #ced4da',\r\n\t\t\t\t\t\t\t\t\t\tborderRadius: '50%',\r\n\t\t\t\t\t\t\t\t\t\tcursor: 'pointer',\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName='image-overlay'\r\n\t\t\t\t\t\t\t\t\tonClick={handleImageClick}>\r\n\t\t\t\t\t\t\t\t\tClick to upload image\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{/* for image upload */}\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='file'\r\n\t\t\t\t\t\t\taccept=\"image/*\"\r\n\t\t\t\t\t\t\tid='file'\r\n\t\t\t\t\t\t\tref={inputFile}\r\n\t\t\t\t\t\t\tonChange={handleImageUpload}\r\n\t\t\t\t\t\t\tstyle={{ display: 'none' }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Form onSubmit={handleSubmit}>\r\n\t\t\t\t\t\t\t<Form.Group controlId='name'>\r\n\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\tcontrolId='nameinput'\r\n\t\t\t\t\t\t\t\t\tlabel='Name'\r\n\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\tplaceholder='Enter Name'\r\n\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\tsetName(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<Form.Group\r\n\t\t\t\t\t\t\t\tcontrolId='email'\r\n\t\t\t\t\t\t\t\tclassName='my-2'\r\n\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\tuserInfo && userInfo.isSocialLogin\r\n\t\t\t\t\t\t\t\t\t\t? {\r\n\t\t\t\t\t\t\t\t\t\t\t\tpointerEvents: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t\topacity: '0.8',\r\n\t\t\t\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t\t\t\t: {}\r\n\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\tcontrolId='emailinput'\r\n\t\t\t\t\t\t\t\t\tlabel='Email'\r\n\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\tplaceholder='Enter Email Address'\r\n\t\t\t\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\tsetEmail(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t{userInfo && !userInfo.isSocialLogin && (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t<InputGroup className='d-block'>\r\n\t\t\t\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\t\t\t\tcontrolId='passwordinput'\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel='Password'\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ display: 'flex' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype={typePassword}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Enter your password'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderRight: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetPassword(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='input-group-append'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputGroup.Text\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowHidePassword\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '1rem',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmarginLeft:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'-0.5em',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'transparent',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderLeft: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{typePassword ===\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'text' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye-slash' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputGroup.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t\t\t\t</InputGroup>\r\n\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t<InputGroup className='d-block'>\r\n\t\t\t\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\t\t\t\tcontrolId='confirmpasswordinput'\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel='Confirm Password'\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ display: 'flex' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype={typeConfirmPassword}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Confirm password'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={confirmPassword}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderRight: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetConfirmPassword(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='input-group-append'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputGroup.Text\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowHideConfirmPassword\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '1rem',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmarginLeft:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'-0.5em',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'transparent',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderLeft: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{typeConfirmPassword ===\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'text' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye-slash' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputGroup.Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t\t\t\t</InputGroup>\r\n\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<div className='d-grid mb-3'>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\t\tdisabled={!showSubmitButton}\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tpadding: '0.5em 1em',\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\tUpdate Profile\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</Col>\r\n\t\t\t{/* display orders */}\r\n\t\t\t<Col\r\n\t\t\t\tmd={9}\r\n\t\t\t\tstyle={\r\n\t\t\t\t\tuserInfo && !userInfo.isConfirmed\r\n\t\t\t\t\t\t? {\r\n\t\t\t\t\t\t\t\topacity: '0.5',\r\n\t\t\t\t\t\t\t\tpointerEvents: 'none',\r\n\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t: {\r\n\t\t\t\t\t\t\t\topacity: '1',\r\n\t\t\t\t\t\t\t\tpointerEvents: '',\r\n\t\t\t\t\t\t  }\r\n\t\t\t\t}>\r\n\t\t\t\t{allOrders.length ? (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<h2 className='text-center'>My Orders</h2>\r\n\t\t\t\t\t\t{loadingOrdersList ? (\r\n\t\t\t\t\t\t\t<Loader />\r\n\t\t\t\t\t\t) : errorOrdersList ? (\r\n\t\t\t\t\t\t\t<Message dismissible variant='danger' duration={10}>\r\n\t\t\t\t\t\t\t\t{errorOrdersList}\r\n\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Table\r\n\t\t\t\t\t\t\t\tstriped\r\n\t\t\t\t\t\t\t\tbordered\r\n\t\t\t\t\t\t\t\tresponsive\r\n\t\t\t\t\t\t\t\tclassName='table-sm text-center'>\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th>DATE</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>TOTAL</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>PAID</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>DELIVERED</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>ACTION</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{orders.map((order, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t<tr\r\n\t\t\t\t\t\t\t\t\t\t\tkey={idx}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\ttextAlign: 'center',\r\n\t\t\t\t\t\t\t\t\t\t\t\tpadding: '0',\r\n\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{getDateString(order.createdAt)}\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{order.totalPrice.toLocaleString(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'en-IN',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'currency',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrency: 'vnd',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{order.isPaid ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tgetDateString(order.paidAt)\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-times'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'red',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{order.isDelivered ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tgetDateString(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\torder.deliveredAt\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-times'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'red',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LinkContainer\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tto={`/order/${order._id}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='link'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-sm'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ margin: '0' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tDetails\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Card style={{ border: 'none', margin: '0 auto' }}>\r\n\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t<Card.Title>No Orders Yet!</Card.Title>\r\n\t\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t\tDetails about all your orders will show up here.{' '}\r\n\t\t\t\t\t\t\t\t<Link to='/'>Continue Shopping</Link>\r\n\t\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t)}\r\n\t\t\t</Col>\r\n\t\t</Row>\r\n\t);\r\n};\r\n\r\nexport default ProfilePage;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { Card } from 'react-bootstrap';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport { confirmUser } from '../actions/userActions';\r\nimport Meta from '../components/Meta';\r\n\r\nconst ConfirmPage = ({ match, history }) => {\r\n\tconst dispatch = useDispatch();\r\n\tconst userConfirm = useSelector((state) => state.userConfirm); // get the userInfo to check if user is confirmed or not\r\n\tconst { loading, error, isConfirmed } = userConfirm;\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\tconst [isLoggedIn, setIsLoggedIn] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userInfo) {\r\n\t\t\tsetIsLoggedIn(true);\r\n\t\t} else {\r\n\t\t\tsetIsLoggedIn(false);\r\n\t\t}\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\t// confirm user once the email token is available\r\n\t\tdispatch(confirmUser(match.params.token, isLoggedIn));\r\n\t}, [dispatch, match, isLoggedIn]);\r\n\r\n\tif (loading || (!isConfirmed && !error)) {\r\n\t\treturn <Loader />;\r\n\t} else if (error) {\r\n\t\t// redirect to login page after a 10 seconds\r\n\t\tsetTimeout(() => {\r\n\t\t\thistory.push('/login');\r\n\t\t}, 10000);\r\n\t\treturn (\r\n\t\t\t<Message dismissible variant='danger' duration={10}>\r\n\t\t\t\tVerfication Failed. Please try to login again.\r\n\t\t\t</Message>\r\n\t\t);\r\n\t} else if (isConfirmed) {\r\n\t\t// set a variable in local storage to fill email aftrer redirecting to login page after email confirmation\r\n\t\tlocalStorage.setItem('fillEmailOnLoginPage', 'true');\r\n\t\treturn (\r\n\t\t\t<Card style={{ border: 'none', margin: '0 auto' }}>\r\n\t\t\t\t<Meta title='Confirm Password | Kosells' />\r\n\t\t\t\t<Card.Body>\r\n\t\t\t\t\t<Card.Title>Account Confirmed</Card.Title>\r\n\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t{setIsLoggedIn\r\n\t\t\t\t\t\t\t? 'Your account has been successfully verified! Go on and shop for the best deals of the day!'\r\n\t\t\t\t\t\t\t: `Your account has been successfully verified! Please\r\n\t\t\t\t\t\tlogin and start exploring the best deals on all your\r\n\t\t\t\t\t\tfavorite products.`}\r\n\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t{!setIsLoggedIn ? <Link to='/login'>Login</Link> : null}\r\n\t\t\t\t</Card.Body>\r\n\t\t\t</Card>\r\n\t\t);\r\n\t}\r\n};\r\n\r\nexport default ConfirmPage;\r\n","import React from 'react';\r\nimport { Nav } from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport '../styles/check-status.css';\r\n\r\n// there are 4 steps in the checkout process\r\n// step 1 is logging in\r\n// step 2 is shipping address input\r\n// step 3 is selecting payment option\r\n// step 4 is placing the order and seeing payment button\r\nconst CheckoutStatus = ({ step1, step2, step3, step4 }) => {\r\n\treturn (\r\n\t\t<Nav className='status-bar'>\r\n\t\t\t<div className='status-checkpoint'>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName='circle'\r\n\t\t\t\t\tstyle={\r\n\t\t\t\t\t\tstep1 ? { background: '#2c3e50' } : { background: '' }\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t{step1 ? (\r\n\t\t\t\t\t<LinkContainer to='/login'>\r\n\t\t\t\t\t\t<Nav.Link>Sign In</Nav.Link>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Nav.Link disabled>Sign In</Nav.Link>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<div className='connection' />\r\n\t\t\t<div className='status-checkpoint'>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName='circle'\r\n\t\t\t\t\tstyle={\r\n\t\t\t\t\t\tstep1 && step2\r\n\t\t\t\t\t\t\t? { background: '#2c3e50' }\r\n\t\t\t\t\t\t\t: { background: '' }\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t{step2 ? (\r\n\t\t\t\t\t<LinkContainer to='/shipping'>\r\n\t\t\t\t\t\t<Nav.Link>Shipping</Nav.Link>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Nav.Link disabled>Shipping</Nav.Link>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<div className='connection' />\r\n\r\n\t\t\t<div className='status-checkpoint'>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName='circle'\r\n\t\t\t\t\tstyle={\r\n\t\t\t\t\t\tstep1 && step2 && step3\r\n\t\t\t\t\t\t\t? { background: '#2c3e50' }\r\n\t\t\t\t\t\t\t: { background: '' }\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t{step3 ? (\r\n\t\t\t\t\t<LinkContainer to='/payment'>\r\n\t\t\t\t\t\t<Nav.Link>Payment</Nav.Link>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Nav.Link disabled>Payment</Nav.Link>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<div className='connection' />\r\n\r\n\t\t\t<div className='status-checkpoint'>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName='circle'\r\n\t\t\t\t\tstyle={\r\n\t\t\t\t\t\tstep1 && step2 && step3 && step4\r\n\t\t\t\t\t\t\t? { background: '#2c3e50' }\r\n\t\t\t\t\t\t\t: { background: '' }\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t{step4 ? (\r\n\t\t\t\t\t<LinkContainer to='/placeorder'>\r\n\t\t\t\t\t\t<Nav.Link>Place Order</Nav.Link>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Nav.Link disabled>Place Order</Nav.Link>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</Nav>\r\n\t);\r\n};\r\n\r\nexport default CheckoutStatus;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Form, Button, FloatingLabel } from 'react-bootstrap';\r\nimport FormContainer from '../components/FormContainer';\r\nimport CheckoutStatus from '../components/CheckoutStatus';\r\nimport { saveShippingAddress } from '../actions/cartActions';\r\nimport { refreshLogin, getUserDetails } from '../actions/userActions';\r\n\r\nconst ShippingPage = ({ history }) => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst cart = useSelector((state) => state.cart);\r\n\tconst { cartItems, shippingAddress } = cart;\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tconst userDetails = useSelector((state) => state.userDetails);\r\n\tconst { error } = userDetails;\r\n\r\n\tconst [address, setAddress] = useState(shippingAddress.address);\r\n\tconst [city, setCity] = useState(shippingAddress.city);\r\n\tconst [postalCode, setPostalCode] = useState(shippingAddress.postalCode);\r\n\tconst [country, setCountry] = useState(shippingAddress.country);\r\n\r\n\t// fetch user details from the redux store\r\n\tuseEffect(() => {\r\n\t\tuserInfo\r\n\t\t\t? userInfo.isSocialLogin\r\n\t\t\t\t? dispatch(getUserDetails(userInfo.id))\r\n\t\t\t\t: dispatch(getUserDetails('profile'))\r\n\t\t\t: dispatch(getUserDetails('profile'));\r\n\t}, [userInfo, dispatch]);\r\n\r\n\t// update access token to a new ine using the refresh tokens\r\n\tuseEffect(() => {\r\n\t\tif (error && userInfo && !userInfo.isSocialLogin) {\r\n\t\t\tconst user = JSON.parse(localStorage.getItem('userInfo'));\r\n\t\t\tuser && dispatch(refreshLogin(user.email));\r\n\t\t}\r\n\t}, [error, dispatch, userInfo]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!(cartItems.length && userInfo)) {\r\n\t\t\thistory.push('/');\r\n\t\t}\r\n\t}, [cartItems, history, userInfo]);\r\n\r\n\t// save shipping address and move to payment screen\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(\r\n\t\t\tsaveShippingAddress({\r\n\t\t\t\taddress,\r\n\t\t\t\tcity,\r\n\t\t\t\tpostalCode,\r\n\t\t\t\tcountry,\r\n\t\t\t})\r\n\t\t);\r\n\t\thistory.push('/payment');\r\n\t};\r\n\r\n\treturn (\r\n\t\t<FormContainer>\r\n\t\t\t<CheckoutStatus step1 step2 />\r\n\t\t\t<h1>Shipping Address</h1>\r\n\t\t\t<Form onSubmit={handleSubmit}>\r\n\t\t\t\t<Form.Group controlId='address'>\r\n\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\tcontrolId='addressinput'\r\n\t\t\t\t\t\tlabel='Address'\r\n\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\tplaceholder='Enter address'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tvalue={address}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={(e) => setAddress(e.target.value)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group controlId='city'>\r\n\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\tcontrolId='cityinput'\r\n\t\t\t\t\t\tlabel='City'\r\n\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\tplaceholder='Enter City'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tvalue={city}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={(e) => setCity(e.target.value)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group controlId='postalCode'>\r\n\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\tcontrolId='postalcodeinput'\r\n\t\t\t\t\t\tlabel='Postal Code'\r\n\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\tplaceholder='Enter Postal Code'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tvalue={postalCode}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={(e) => setPostalCode(e.target.value)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group controlId='country'>\r\n\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\tcontrolId='countryinput'\r\n\t\t\t\t\t\tlabel='Country'\r\n\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\tplaceholder='Enter Country'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tvalue={country}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={(e) => setCountry(e.target.value)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<div className='d-flex'>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\tclassName='ms-auto'\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tpadding: '0.5em 1em',\r\n\t\t\t\t\t\t\twidth: '8rem',\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\tContinue\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</Form>\r\n\t\t</FormContainer>\r\n\t);\r\n};\r\n\r\nexport default ShippingPage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Form, Button, Col } from 'react-bootstrap';\r\nimport FormContainer from '../components/FormContainer';\r\nimport CheckoutStatus from '../components/CheckoutStatus';\r\nimport { savePaymentMethod } from '../actions/cartActions';\r\nimport { refreshLogin, getUserDetails } from '../actions/userActions';\r\n\r\nconst PaymentPage = ({ history }) => {\r\n\tconst dispatch = useDispatch();\r\n\tconst cart = useSelector((state) => state.cart);\r\n\tconst { shippingAddress } = cart;\r\n\r\n\tconst [paymentMethod, setPaymentMethod] = useState('Credit/Debit Card'); // default option is the stripe one, but users might not understand 'stripe'\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tconst userDetails = useSelector((state) => state.userDetails);\r\n\tconst { error } = userDetails;\r\n\r\n\t// fetch user details\r\n\tuseEffect(() => {\r\n\t\tuserInfo\r\n\t\t\t? userInfo.isSocialLogin\r\n\t\t\t\t? dispatch(getUserDetails(userInfo.id))\r\n\t\t\t\t: dispatch(getUserDetails('profile'))\r\n\t\t\t: dispatch(getUserDetails('profile'));\r\n\t}, [userInfo, dispatch]);\r\n\r\n\t// refresh the access tokens when user details throws an error\r\n\tuseEffect(() => {\r\n\t\tif (error && userInfo && !userInfo.isSocialLogin) {\r\n\t\t\tconst user = JSON.parse(localStorage.getItem('userInfo'));\r\n\t\t\tuser && dispatch(refreshLogin(user.email));\r\n\t\t}\r\n\t}, [error, dispatch, userInfo]);\r\n\r\n\t// if shipping address is empty, redirect\r\n\tuseEffect(() => {\r\n\t\tif (!shippingAddress) {\r\n\t\t\thistory.push('/shipping');\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, []);\r\n\r\n\tconst handleChange = (e) => {\r\n\t\tsetPaymentMethod(e.target.value);\r\n\t};\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(savePaymentMethod(paymentMethod));\r\n\t\thistory.push('/placeorder');\r\n\t};\r\n\r\n\treturn (\r\n\t\t<FormContainer>\r\n\t\t\t{/* three steps are done in the checkout process */}\r\n\t\t\t<CheckoutStatus step1 step2 step3 />\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\tflexFlow: 'column nowrap',\r\n\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t}}>\r\n\t\t\t\t<h1>Payment Method</h1>\r\n\t\t\t\t<Form onSubmit={handleSubmit}>\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Check\r\n\t\t\t\t\t\t\t\tinline\r\n\t\t\t\t\t\t\t\ttype='radio'\r\n\t\t\t\t\t\t\t\tlabel='Credit/Debit Card'\r\n\t\t\t\t\t\t\t\tid='Credit/Debit Card'\r\n\t\t\t\t\t\t\t\tname='paymentMethod'\r\n\t\t\t\t\t\t\t\tvalue='Credit/Debit Card'\r\n\t\t\t\t\t\t\t\tchecked={paymentMethod === 'Credit/Debit Card'}\r\n\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Form.Check\r\n\t\t\t\t\t\t\t\tinline\r\n\t\t\t\t\t\t\t\ttype='radio'\r\n\t\t\t\t\t\t\t\tlabel='PayPal Account'\r\n\t\t\t\t\t\t\t\tid='PayPal'\r\n\t\t\t\t\t\t\t\tname='paymentMethod'\r\n\t\t\t\t\t\t\t\tvalue='PayPal'\r\n\t\t\t\t\t\t\t\tchecked={paymentMethod === 'PayPal'}\r\n\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<div className='d-grid'>\r\n\t\t\t\t\t\t<Button type='submit' className='my-3' size='lg'>\r\n\t\t\t\t\t\t\tContinue\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t</FormContainer>\r\n\t);\r\n};\r\n\r\nexport default PaymentPage;\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Button, Row, Col, ListGroup, Image, Card } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport CheckoutStatus from '../components/CheckoutStatus';\r\nimport Message from '../components/Message';\r\nimport Loader from '../components/Loader';\r\nimport { createOrder } from '../actions/orderActions';\r\nimport { CART_RESET } from '../constants/cartConstants';\r\nimport { refreshLogin, getUserDetails } from '../actions/userActions';\r\n\r\nconst PlaceOrderPage = ({ history }) => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst cart = useSelector((state) => state.cart);\r\n\tconst { cartItems, shippingAddress, paymentMethod } = cart;\r\n\r\n\tconst orderCreate = useSelector((state) => state.orderCreate);\r\n\tconst { order, loading, success, error } = orderCreate;\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tconst userDetails = useSelector((state) => state.userDetails);\r\n\tconst { error: userLoginError } = userDetails;\r\n\r\n\t// fetch the userinfo from reducx store\r\n\tuseEffect(() => {\r\n\t\tuserInfo\r\n\t\t\t? userInfo.isSocialLogin\r\n\t\t\t\t? dispatch(getUserDetails(userInfo.id))\r\n\t\t\t\t: dispatch(getUserDetails('profile'))\r\n\t\t\t: dispatch(getUserDetails('profile'));\r\n\t}, [userInfo, dispatch]);\r\n\r\n\t// refresh access token when user detail throws error\r\n\tuseEffect(() => {\r\n\t\tif (userLoginError && userInfo && !userInfo.isSocialLogin) {\r\n\t\t\tconst user = JSON.parse(localStorage.getItem('userInfo'));\r\n\t\t\tuser && dispatch(refreshLogin(user.email));\r\n\t\t}\r\n\t}, [userLoginError, dispatch, userInfo]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (success) {\r\n\t\t\tlocalStorage.removeItem('cartItems');\r\n\t\t\tdispatch({ type: CART_RESET, payload: shippingAddress }); // remove items from cart once paid, but keep the shipping address in store\r\n\t\t\thistory.push(`/order/${order._id}`);\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [success, history]);\r\n\r\n\t// All prices, tax is randomly  assigned\r\n\tcart.itemsPrice = cartItems.reduce(\r\n\t\t(acc, item) => acc + item.price * item.qty,\r\n\t\t0\r\n\t);\r\n\r\n\tcart.shippingPrice = cart.itemsPrice > 8000 ? 500 : 300;\r\n\tcart.taxPrice = 0.18 * cart.itemsPrice;\r\n\tcart.totalPrice = cart.itemsPrice + cart.taxPrice + cart.shippingPrice;\r\n\r\n\tconst handleOrder = (e) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(\r\n\t\t\tcreateOrder({\r\n\t\t\t\torderItems: cartItems,\r\n\t\t\t\tshippingAddress,\r\n\t\t\t\tpaymentMethod,\r\n\t\t\t\titemsPrice: cart.itemsPrice,\r\n\t\t\t\tshippingPrice: cart.shippingPrice,\r\n\t\t\t\ttaxPrice: cart.taxPrice,\r\n\t\t\t\ttotalPrice: cart.totalPrice,\r\n\t\t\t})\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{/* last step in the ckecout process */}\r\n\t\t\t<CheckoutStatus step1 step2 step3 step4 />\r\n\t\t\t<Row>\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Col md={8}>\r\n\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<h2>Shipping</h2>\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t<strong>Address: </strong>{' '}\r\n\t\t\t\t\t\t\t\t\t\t{shippingAddress.address},{' '}\r\n\t\t\t\t\t\t\t\t\t\t{shippingAddress.city}-\r\n\t\t\t\t\t\t\t\t\t\t{shippingAddress.postalCode},{' '}\r\n\t\t\t\t\t\t\t\t\t\t{shippingAddress.country}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<h2>Payment Method</h2>\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t<strong>Method: </strong>{' '}\r\n\t\t\t\t\t\t\t\t\t\t{paymentMethod}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<h2>Cart Items</h2>\r\n\t\t\t\t\t\t\t\t\t{cartItems.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t\t\t\t{cartItems.map((item, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item key={idx}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col md={2}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Image\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='product-image'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={item.image}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfluid\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trounded\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tto={`/product/${item.product}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col md={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.qty} x{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.price} ={' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.qty *\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.price\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toLocaleString(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'en-IN',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'currency',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrency:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'vnd',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Message>Your cart is empty</Message>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col md={4}>\r\n\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item className='text-center'>\r\n\t\t\t\t\t\t\t\t\t\t<h2 className='text-center'>\r\n\t\t\t\t\t\t\t\t\t\t\tOrder Summary\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>Subtotal</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{Number(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcart.itemsPrice\r\n\t\t\t\t\t\t\t\t\t\t\t\t).toLocaleString('en-IN', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'currency',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrency: 'vnd',\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>Shipping</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{Number(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcart.shippingPrice\r\n\t\t\t\t\t\t\t\t\t\t\t\t).toLocaleString('en-IN', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'currency',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrency: 'vnd',\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>Tax</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{Number(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcart.taxPrice\r\n\t\t\t\t\t\t\t\t\t\t\t\t).toLocaleString('en-IN', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'currency',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrency: 'vnd',\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>Total</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{Number(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcart.totalPrice\r\n\t\t\t\t\t\t\t\t\t\t\t\t).toLocaleString('en-IN', {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'currency',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrency: 'vnd',\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t{error && (\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<Message\r\n\t\t\t\t\t\t\t\t\t\t\t\tdismissible\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='danger'\r\n\t\t\t\t\t\t\t\t\t\t\t\tduration={10}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{error}\r\n\t\t\t\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item className='d-grid gap-2'>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={!cartItems.length}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleOrder}>\r\n\t\t\t\t\t\t\t\t\t\t\tPlace Order\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</Row>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default PlaceOrderPage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport { payOrder } from '../actions/orderActions';\r\nimport { savePaymentMethod } from '../actions/cartActions';\r\nimport { CardElement, useStripe, useElements } from '@stripe/react-stripe-js'; // for stripe CC component\r\nimport Message from '../components/Message';\r\n\r\nconst CheckoutForm = ({ price, orderID }) => {\r\n\tconst [error, setError] = useState(''); // from the stripe component itself\r\n\tconst dispatch = useDispatch();\r\n\tconst [clientSecret, setClientSecret] = useState(''); // from the payment intent sent from server\r\n\tconst stripe = useStripe();\r\n\tconst elements = useElements();\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\t// STEP 1: create a payment intent and getting the secret\r\n\tuseEffect(() => {\r\n\t\tconst getClientSecret = async () => {\r\n\t\t\tconst { data } = await axios.post(\r\n\t\t\t\t'/api/orders/stripe-payment',\r\n\t\t\t\t{ price, email: userInfo.email },\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\tsetClientSecret(data.clientSecret);\r\n\t\t};\r\n\r\n\t\tif (userInfo && price) getClientSecret();\r\n\t}, [price, userInfo]);\r\n\r\n\t// STEP 2: make the payment after filling the form properly\r\n\tconst makePayment = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tif (!stripe || !elements) {\r\n\t\t\t// Stripe.js has not yet loaded.\r\n\t\t\t// Make  sure to disable form submission until Stripe.js has loaded.\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (clientSecret) {\r\n\t\t\tconst payload = await stripe.confirmCardPayment(clientSecret, {\r\n\t\t\t\tpayment_method: {\r\n\t\t\t\t\tcard: elements.getElement(CardElement),\r\n\t\t\t\t\tbilling_details: {\r\n\t\t\t\t\t\tname: userInfo.name,\r\n\t\t\t\t\t\temail: userInfo.email,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\t// console.log(payload.error);\r\n\t\t\tif (!payload.error) {\r\n\t\t\t\tdispatch(savePaymentMethod('Stripe'));\r\n\t\t\t\tdispatch(\r\n\t\t\t\t\tpayOrder(orderID, {\r\n\t\t\t\t\t\t...payload.paymentIntent,\r\n\t\t\t\t\t\tpaymentMode: 'stripe',\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tsetError(payload.error.message);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\twindow.location.reload();\r\n\t\t}\r\n\t};\r\n\r\n\t// render a checkout form for filling details about credit or debit cards\r\n\treturn (\r\n\t\t<Form id='payment-form' onSubmit={makePayment}>\r\n\t\t\t{error && (\r\n\t\t\t\t<Message dismissible variant='danger'>\r\n\t\t\t\t\t{error}\r\n\t\t\t\t</Message>\r\n\t\t\t)}\r\n\t\t\t<Form.Group\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tmargin: '1em 0',\r\n\t\t\t\t\tfontSize: '1em',\r\n\t\t\t\t}}>\r\n\t\t\t\t<CardElement\r\n\t\t\t\t\toptions={{\r\n\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\tbase: {\r\n\t\t\t\t\t\t\t\tfontSize: '16px',\r\n\t\t\t\t\t\t\t\tcolor: '#424770',\r\n\t\t\t\t\t\t\t\t'::placeholder': {\r\n\t\t\t\t\t\t\t\t\tcolor: '#aab7c4',\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tinvalid: {\r\n\t\t\t\t\t\t\t\tcolor: '#9e2146',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tid='card-element'\r\n\t\t\t\t/>\r\n\t\t\t</Form.Group>\r\n\t\t\t<div className='d-grid'>\r\n\t\t\t\t<Button disabled={!stripe} size='lg' type='submit'>\r\n\t\t\t\t\tPay Now\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t</Form>\r\n\t);\r\n};\r\n\r\nexport default CheckoutForm;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Row, Col, ListGroup, Image, Card, Button } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { PayPalButton } from 'react-paypal-button-v2'; // for paypal payments\r\nimport axios from 'axios';\r\nimport Message from '../components/Message';\r\nimport Loader from '../components/Loader';\r\nimport {\r\n\tgetOrderDetails,\r\n\tpayOrder,\r\n\tdeliverOrder,\r\n} from '../actions/orderActions';\r\nimport {\r\n\tORDER_PAY_RESET,\r\n\tORDER_DELIVER_RESET,\r\n} from '../constants/orderConstants';\r\nimport { savePaymentMethod } from '../actions/cartActions';\r\nimport { Elements } from '@stripe/react-stripe-js';\r\nimport { loadStripe } from '@stripe/stripe-js';\r\nimport { refreshLogin } from '../actions/userActions';\r\nimport CheckoutForm from '../components/CheckoutForm'; //stripe checkout form\r\nimport getDateString from '../utils/getDateString';\r\n\r\nconst OrderPage = ({ match, history }) => {\r\n\t// load stripe\r\n\tconst stripePromise = loadStripe(\r\n\t\tprocess.env.REACT_APP_STRIPE_PUBLISHABLE_KEY\r\n\t);\r\n\t// for paypal payment\r\n\tconst [SDKReady, setSDKReady] = useState(false);\r\n\tconst dispatch = useDispatch();\r\n\tconst orderID = match.params.id;\r\n\r\n\tconst orderDetails = useSelector((state) => state.orderDetails);\r\n\tconst { loading, order, error } = orderDetails;\r\n\r\n\tconst orderPay = useSelector((state) => state.orderPay);\r\n\tconst { loading: loadingPay, success: successPay } = orderPay;\r\n\r\n\tconst orderDeliver = useSelector((state) => state.orderDeliver);\r\n\tconst { loading: loadingDeliver, success: successDeliver } = orderDeliver;\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tconst userDetails = useSelector((state) => state.userDetails);\r\n\tconst { error: userLoginError } = userDetails;\r\n\r\n\t// get new access tokens using the refresh token, is user details throws an error\r\n\tuseEffect(() => {\r\n\t\tif (userLoginError && userInfo && !userInfo.isSocialLogin) {\r\n\t\t\tconst user = JSON.parse(localStorage.getItem('userInfo'));\r\n\t\t\tuser && dispatch(refreshLogin(user.email));\r\n\t\t}\r\n\t}, [userLoginError, dispatch, userInfo]);\r\n\r\n\t// set order to paid or delivered, and fetch updated orders\r\n\tuseEffect(() => {\r\n\t\tif (!order || order._id !== orderID || successPay || successDeliver) {\r\n\t\t\tif (successPay) dispatch({ type: ORDER_PAY_RESET });\r\n\t\t\tif (successDeliver) dispatch({ type: ORDER_DELIVER_RESET });\r\n\t\t\tdispatch(getOrderDetails(orderID));\r\n\t\t}\r\n\t}, [order, orderID, dispatch, successPay, successDeliver]);\r\n\r\n\t// add the script required for paypal payments dynamically, to avoid possible attacks\r\n\tuseEffect(() => {\r\n\t\tconst addScript = async () => {\r\n\t\t\tconst config = userInfo.isSocialLogin\r\n\t\t\t\t? {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `SocialLogin ${userInfo.id}`,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t  }\r\n\t\t\t\t: {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `Bearer ${userInfo.accessToken}`,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t  };\r\n\t\t\tconst { data: clientID } = await axios.get(\r\n\t\t\t\t'/api/config/paypal',\r\n\t\t\t\tconfig\r\n\t\t\t);\r\n\t\t\t// add the script\r\n\t\t\tconst script = document.createElement('script');\r\n\t\t\tscript.async = true;\r\n\t\t\tscript.type = 'text/javascript';\r\n\t\t\tscript.src = `https://www.paypal.com/sdk/js?client-id=${clientID}&currency=USD&disable-funding=credit,card`;\r\n\t\t\tscript.onload = () => setSDKReady(true);\r\n\t\t\tdocument.body.appendChild(script);\r\n\t\t};\r\n\t\tif (!userInfo) history.push('/login'); // if not loggein in\r\n\t\tif (!SDKReady) addScript();\r\n\t}, [userInfo, SDKReady, history]);\r\n\r\n\t// save the payment mthod as paypal\r\n\tconst successPaymentHandler = (paymentResult) => {\r\n\t\tdispatch(savePaymentMethod('PayPal'));\r\n\t\tdispatch(\r\n\t\t\tpayOrder(orderID, { ...paymentResult, paymentMode: 'paypal' })\r\n\t\t);\r\n\t};\r\n\r\n\t// set order as delivered\r\n\tconst successDeliveryHandler = () => {\r\n\t\tdispatch(deliverOrder(orderID));\r\n\t};\r\n\r\n\treturn loading ? (\r\n\t\t<Loader />\r\n\t) : error ? (\r\n\t\t<Message dismissible variant='danger' duration={10}>\r\n\t\t\t{error}\r\n\t\t</Message>\r\n\t) : (\r\n\t\t<>\r\n\t\t\t<h2>Order {orderID}</h2>\r\n\t\t\t<Row>\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Col md={8}>\r\n\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<h2>Shipping</h2>\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t<strong>Name: </strong>\r\n\t\t\t\t\t\t\t\t\t\t{order.user.name}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t<strong>Email: </strong>\r\n\t\t\t\t\t\t\t\t\t\t<a href={`mailto:${order.user.email}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t{order.user.email}\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t<strong>Address: </strong>{' '}\r\n\t\t\t\t\t\t\t\t\t\t{order.shippingAddress.address},{' '}\r\n\t\t\t\t\t\t\t\t\t\t{order.shippingAddress.city}-\r\n\t\t\t\t\t\t\t\t\t\t{order.shippingAddress.postalCode},{' '}\r\n\t\t\t\t\t\t\t\t\t\t{order.shippingAddress.country}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t{order.isDelivered ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Message variant='success'>\r\n\t\t\t\t\t\t\t\t\t\t\t\tDelivered at:{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{getDateString(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\torder.deliveredAt\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Message variant='danger'>\r\n\t\t\t\t\t\t\t\t\t\t\t\tNot Delivered\r\n\t\t\t\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<h2>Payment Method</h2>\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t<strong>Method: </strong>{' '}\r\n\t\t\t\t\t\t\t\t\t\t{order.paymentMethod}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t{order.isPaid ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Message variant='success'>\r\n\t\t\t\t\t\t\t\t\t\t\t\tPaid at:{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{getDateString(order.paidAt)}\r\n\t\t\t\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Message variant='danger'>\r\n\t\t\t\t\t\t\t\t\t\t\t\tNot Paid\r\n\t\t\t\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<h2>Cart Items</h2>\r\n\t\t\t\t\t\t\t\t\t{order.orderItems.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackground: 'red',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}></div>\r\n\t\t\t\t\t\t\t\t\t\t\t{order.orderItems.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t(item, idx) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item key={idx}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col md={2}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Image\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='product-image'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.image\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.name\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfluid\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trounded\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tto={`/product/${item.product}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col md={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.qty} x{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.price} ={' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.qty *\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.price\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toLocaleString(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'en-IN',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'currency',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrency:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'vnd',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Message>No order</Message>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col md={4}>\r\n\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<h2 className='text-center'>\r\n\t\t\t\t\t\t\t\t\t\t\tOrder Summary\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t{error && (\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<Message\r\n\t\t\t\t\t\t\t\t\t\t\t\tdismissible\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='danger'\r\n\t\t\t\t\t\t\t\t\t\t\t\tduration={10}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{error}\r\n\t\t\t\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>Subtotal</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{order.itemsPrice.toLocaleString(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'en-IN',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'currency',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrency: 'vnd',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>Shipping</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{order.shippingPrice.toLocaleString(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'en-IN',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'currency',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrency: 'vnd',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>Tax</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{order.taxPrice.toLocaleString(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'en-IN',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'currency',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrency: 'vnd',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>Total</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{order.totalPrice.toLocaleString(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'en-IN',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'currency',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrency: 'vnd',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t{/* show paypal button or the stripe checkout form */}\r\n\t\t\t\t\t\t\t\t\t{!order.isPaid && (\r\n\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t{order.paymentMethod ===\r\n\t\t\t\t\t\t\t\t\t\t\t'PayPal' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{loadingPay && <Loader />}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{!SDKReady ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Loader />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PayPalButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshape: 'rect',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'gold',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: 'vertical',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: 'pay',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrency='USD'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// converting vnd to USD, as paypal cannot support vnd\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tamount={Number(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\torder.totalPrice /\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t72\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toFixed(2)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSuccess={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuccessPaymentHandler\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{loadingPay && <Loader />}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Elements\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstripe={stripePromise}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* price in paisa */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckoutForm\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprice={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\torder.totalPrice *\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t100\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\torderID={orderID}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Elements>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t{/* show this only to admins, after payment is done */}\r\n\t\t\t\t\t\t\t\t\t{userInfo &&\r\n\t\t\t\t\t\t\t\t\t\tuserInfo.isAdmin &&\r\n\t\t\t\t\t\t\t\t\t\torder.isPaid &&\r\n\t\t\t\t\t\t\t\t\t\t!order.isDelivered && (\r\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{loadingDeliver && <Loader />}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='d-grid'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='info'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuccessDeliveryHandler\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tMark as Delivered\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</Row>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default OrderPage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Form, Button, InputGroup, FloatingLabel } from 'react-bootstrap';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport FormContainer from '../components/FormContainer';\r\nimport { resetUserPassword } from '../actions/userActions';\r\n\r\nconst PasswordResetPage = ({ match, history }) => {\r\n\tconst [name, setName] = useState('');\r\n\tconst [typePassword, setTypePassword] = useState('password');\r\n\tconst [typeConfirmPassword, setTypeConfirmPassword] = useState('password');\r\n\tconst [message, setMessage] = useState(null);\r\n\tconst [confirmPassword, setConfirmPassword] = useState('');\r\n\tconst [password, setPassword] = useState('');\r\n\tconst dispatch = useDispatch();\r\n\tconst userResetPassword = useSelector((state) => state.userResetPassword);\r\n\tconst { loading, resetPassword, error } = userResetPassword;\r\n\r\n\t// get the name stored in the local storage and ask that user to reset password\r\n\tuseEffect(() => {\r\n\t\tconst nameFromLocalStorage = localStorage.getItem('EcommerceUserName');\r\n\t\tif (nameFromLocalStorage) {\r\n\t\t\tsetName(nameFromLocalStorage);\r\n\t\t}\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (resetPassword) {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\thistory.push('/login');\r\n\t\t\t}, 10000);\r\n\t\t}\r\n\t}, [history, resetPassword]);\r\n\r\n\tconst showHidePassword = (e) => {\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\t\tsetTypePassword(typePassword === 'password' ? 'text' : 'password');\r\n\t};\r\n\tconst showHideConfirmPassword = (e) => {\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\t\tsetTypeConfirmPassword(\r\n\t\t\ttypeConfirmPassword === 'password' ? 'text' : 'password'\r\n\t\t);\r\n\t};\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tif (password !== confirmPassword) {\r\n\t\t\tsetMessage('Passwords do not match. Please retry.');\r\n\t\t} else {\r\n\t\t\tdispatch(resetUserPassword(match.params.token, password));\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<FormContainer>\r\n\t\t\t<h1>{name ? `${name}, reset password` : 'Reset Password'}</h1>\r\n\t\t\t{message && (\r\n\t\t\t\t<Message dismissible duration={8} variant='warning'>\r\n\t\t\t\t\t{message}\r\n\t\t\t\t</Message>\r\n\t\t\t)}\r\n\t\t\t{resetPassword && (\r\n\t\t\t\t<Message dismissible variant='success' duration={8}>\r\n\t\t\t\t\tPassword Changed Successfully.\r\n\t\t\t\t</Message>\r\n\t\t\t)}\r\n\t\t\t{error && (\r\n\t\t\t\t<Message dismissible variant='danger'>\r\n\t\t\t\t\t{error}\r\n\t\t\t\t</Message>\r\n\t\t\t)}\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : (\r\n\t\t\t\t<Form onSubmit={handleSubmit} style={{ width: '33em' }}>\r\n\t\t\t\t\t<Form.Group className='mb-2'>\r\n\t\t\t\t\t\t<InputGroup style={{ width: '100%' }}>\r\n\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\tcontrolId='passwordinput'\r\n\t\t\t\t\t\t\t\tlabel='Password'\r\n\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\ttype={typePassword}\r\n\t\t\t\t\t\t\t\t\tplaceholder='Enter your password'\r\n\t\t\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tborderRight: 'none',\r\n\t\t\t\t\t\t\t\t\t\twidth: '205%',\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\tsetPassword(e.target.value)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t<div className='input-group-append'>\r\n\t\t\t\t\t\t\t\t<InputGroup.Text\r\n\t\t\t\t\t\t\t\t\tonClick={showHidePassword}\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tpaddingLeft: '1em',\r\n\t\t\t\t\t\t\t\t\t\tfontSize: '1rem',\r\n\t\t\t\t\t\t\t\t\t\twidth: '17.5%',\r\n\t\t\t\t\t\t\t\t\t\theight: '78%',\r\n\t\t\t\t\t\t\t\t\t\tmarginLeft: '15rem',\r\n\t\t\t\t\t\t\t\t\t\tbackground: 'transparent',\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t{typePassword === 'text' ? (\r\n\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye-slash' />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye' />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</InputGroup.Text>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</InputGroup>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Form.Group className='my-2'>\r\n\t\t\t\t\t\t<InputGroup style={{ width: '100%' }}>\r\n\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\tcontrolId='confirmpasswordinput'\r\n\t\t\t\t\t\t\t\tlabel='Confirm password'\r\n\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\ttype={typeConfirmPassword}\r\n\t\t\t\t\t\t\t\t\tplaceholder='Confirm your password'\r\n\t\t\t\t\t\t\t\t\tvalue={confirmPassword}\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tborderRight: 'none',\r\n\t\t\t\t\t\t\t\t\t\twidth: '205%',\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\tsetConfirmPassword(e.target.value)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t<div className='input-group-append'>\r\n\t\t\t\t\t\t\t\t<InputGroup.Text\r\n\t\t\t\t\t\t\t\t\tonClick={showHideConfirmPassword}\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tpaddingLeft: '1em',\r\n\t\t\t\t\t\t\t\t\t\tfontSize: '1rem',\r\n\t\t\t\t\t\t\t\t\t\twidth: '17.5%',\r\n\t\t\t\t\t\t\t\t\t\theight: '78%',\r\n\t\t\t\t\t\t\t\t\t\tmarginLeft: '15rem',\r\n\t\t\t\t\t\t\t\t\t\tbackground: 'transparent',\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t{typeConfirmPassword === 'text' ? (\r\n\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye-slash' />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<i className='far fa-eye' />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</InputGroup.Text>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</InputGroup>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tpadding: '0.5em 1em',\r\n\t\t\t\t\t\t\twidth: '8rem',\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form>\r\n\t\t\t)}\r\n\t\t</FormContainer>\r\n\t);\r\n};\r\n\r\nexport default PasswordResetPage;\r\n","import React, { useEffect } from 'react';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Table, Button } from 'react-bootstrap';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport { listAllUsers, deleteUser, refreshLogin } from '../actions/userActions';\r\nimport Paginate from '../components/Paginate';\r\n\r\nconst UserListPage = ({ match, history }) => {\r\n\tconst pageNumber = match.params.pageNumber || 1; // to fetch various pages of orders\r\n\tconst dispatch = useDispatch();\r\n\tconst userList = useSelector((state) => state.userList);\r\n\tconst { loading, users, error, page, pages, total } = userList;\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tconst userDelete = useSelector((state) => state.userDelete);\r\n\tconst { success: successDelete } = userDelete;\r\n\r\n\tconst userDetails = useSelector((state) => state.userDetails);\r\n\tconst { error: userLoginError } = userDetails;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userLoginError && userInfo && !userInfo.isSocialLogin) {\r\n\t\t\tconst user = JSON.parse(localStorage.getItem('userInfo'));\r\n\t\t\tuser && dispatch(refreshLogin(user.email));\r\n\t\t}\r\n\t}, [userLoginError, dispatch, userInfo]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userInfo && userInfo.isAdmin) dispatch(listAllUsers(pageNumber));\r\n\t\telse history.push('/login');\r\n\t}, [dispatch, history, userInfo, successDelete, pageNumber]);\r\n\r\n\tconst handleDelete = (id) => {\r\n\t\tif (window.confirm('Are you sure you wanna delete user?'))\r\n\t\t\tdispatch(deleteUser(id));\r\n\t};\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<h1>Users ({`${total || 0}`})</h1>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message dismissible variant='danger' duration={10}>\r\n\t\t\t\t\t{error}\r\n\t\t\t\t</Message>\r\n\t\t\t) : (\r\n\t\t\t\t<Table\r\n\t\t\t\t\tstriped\r\n\t\t\t\t\tbordered\r\n\t\t\t\t\tresponsive\r\n\t\t\t\t\tclassName='table-sm text-center'>\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t<th>NAME</th>\r\n\t\t\t\t\t\t\t<th>EMAIL</th>\r\n\t\t\t\t\t\t\t<th>CONFIRMED</th>\r\n\t\t\t\t\t\t\t<th>ADMIN</th>\r\n\t\t\t\t\t\t\t<th>ACTION</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{users &&\r\n\t\t\t\t\t\t\tusers.map((user) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<tr key={user._id}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{user._id}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{user.name}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t<a href={`mailto:${user.email}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{user.email}\r\n\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t{user.isConfirmed ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-check'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: 'green' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-times'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: 'red' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t{user.isAdmin ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-check'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: 'green' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-times'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: 'red' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<td\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\t\t\t\t\t\t\tjustifyContent: 'space-around',\r\n\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t<LinkContainer\r\n\t\t\t\t\t\t\t\t\t\t\t\tto={`/admin/user/${user._id}/edit`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='link'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-sm'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-edit' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-sm'\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='danger'\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleDelete(user._id)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-trash' />\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</Table>\r\n\t\t\t)}\r\n\t\t\t<Paginate\r\n\t\t\t\tpages={pages}\r\n\t\t\t\tpage={page}\r\n\t\t\t\tisAdmin={true}\r\n\t\t\t\tforUsers={true}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default UserListPage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Form, Button, InputGroup } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport Meta from '../components/Meta';\r\nimport FormContainer from '../components/FormContainer';\r\nimport {\r\n\tgetUserDetails,\r\n\tupdateUser,\r\n\trefreshLogin,\r\n} from '../actions/userActions';\r\nimport { USER_UPDATE_RESET } from '../constants/userConstants';\r\n\r\nconst UserEditPage = ({ match, history }) => {\r\n\tconst userId = match.params.id;\r\n\tconst [name, setName] = useState('');\r\n\tconst [email, setEmail] = useState('');\r\n\tconst [isAdmin, setIsAdmin] = useState(false);\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst userDetails = useSelector((state) => state.userDetails);\r\n\tconst { loading, user, error } = userDetails;\r\n\r\n\tconst userUpdate = useSelector((state) => state.userUpdate);\r\n\tconst {\r\n\t\tloading: loadingUpdate,\r\n\t\terror: errorUpdate,\r\n\t\tsuccess: successUpdate,\r\n\t} = userUpdate;\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\t// get new access tokens\r\n\tuseEffect(() => {\r\n\t\tif (error && userInfo && !userInfo.isSocialLogin) {\r\n\t\t\tconst user = JSON.parse(localStorage.getItem('userInfo'));\r\n\t\t\tuser && dispatch(refreshLogin(user.email));\r\n\t\t}\r\n\t}, [error, dispatch, userInfo]);\r\n\r\n\t// update user details from the admin panel view\r\n\tuseEffect(() => {\r\n\t\tif (successUpdate) {\r\n\t\t\tdispatch({ type: USER_UPDATE_RESET });\r\n\t\t\thistory.push('/admin/userlist');\r\n\t\t} else {\r\n\t\t\tif (!user || !user.name || user._id !== userId) {\r\n\t\t\t\tdispatch(getUserDetails(userId));\r\n\t\t\t} else {\r\n\t\t\t\tsetName(user.name);\r\n\t\t\t\tsetEmail(user.email);\r\n\t\t\t\tsetIsAdmin(user.isAdmin);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [user, dispatch, userId, successUpdate, history]);\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(updateUser({ _id: userId, name, email, isAdmin }));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Link to='/admin/userlist'>\r\n\t\t\t\t<Button variant='outline-primary' className='my-3'>\r\n\t\t\t\t\tGo Back\r\n\t\t\t\t</Button>\r\n\t\t\t</Link>\r\n\t\t\t<FormContainer>\r\n\t\t\t\t{user && <Meta title={`Edit ${user.name} | Kosells`} />}\r\n\t\t\t\t<h1>Edit User</h1>\r\n\t\t\t\t{loadingUpdate ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : errorUpdate ? (\r\n\t\t\t\t\t<Message dismissible variant='danger' duration={10}>\r\n\t\t\t\t\t\t{errorUpdate}\r\n\t\t\t\t\t</Message>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t<Loader />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Form onSubmit={handleSubmit}>\r\n\t\t\t\t\t\t\t\t{error && (\r\n\t\t\t\t\t\t\t\t\t<Message\r\n\t\t\t\t\t\t\t\t\t\tdismissible\r\n\t\t\t\t\t\t\t\t\t\tvariant='danger'\r\n\t\t\t\t\t\t\t\t\t\tduration={10}>\r\n\t\t\t\t\t\t\t\t\t\t{error}\r\n\t\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t<Form.Group controlId='name' className='mb-2'>\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Name</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\tplaceholder='Enter Name'\r\n\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\tsetName(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Group controlId='email' className='my-2'>\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Email Address</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\tplaceholder='Enter Email Address'\r\n\t\t\t\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\tsetEmail(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Group\r\n\t\t\t\t\t\t\t\t\tcontrolId='isAdmin'\r\n\t\t\t\t\t\t\t\t\tclassName='my-2'>\r\n\t\t\t\t\t\t\t\t\t<InputGroup>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Check\r\n\t\t\t\t\t\t\t\t\t\t\ttype='checkbox'\r\n\t\t\t\t\t\t\t\t\t\t\tlabel='Is Admin'\r\n\t\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ borderRight: 'none' }}\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={isAdmin}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetIsAdmin(e.target.checked)\r\n\t\t\t\t\t\t\t\t\t\t\t}></Form.Check>\r\n\t\t\t\t\t\t\t\t\t</InputGroup>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\t\tvariant='dark'\r\n\t\t\t\t\t\t\t\t\tclassName='my-1'>\r\n\t\t\t\t\t\t\t\t\tEdit\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</FormContainer>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default UserEditPage;\r\n","import React, { useEffect } from 'react';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Table, Button, Row, Col } from 'react-bootstrap';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport {\r\n\tlistProducts,\r\n\tdeleteProduct,\r\n\tcreateProduct,\r\n} from '../actions/productActions';\r\nimport { PRODUCT_CREATE_RESET } from '../constants/productConstants';\r\nimport Paginate from '../components/Paginate';\r\nimport { refreshLogin, getUserDetails } from '../actions/userActions';\r\n\r\nconst ProductListPage = ({ history, match }) => {\r\n\tconst pageNumber = match.params.pageNumber || 1;\r\n\tconst dispatch = useDispatch();\r\n\tconst productList = useSelector((state) => state.productList);\r\n\tconst { loading, products, error, pages, page } = productList;\r\n\r\n\tconst productDelete = useSelector((state) => state.productDelete);\r\n\tconst {\r\n\t\tloading: loadingDelete,\r\n\t\tsuccess: successDelete,\r\n\t\terror: errorDelete,\r\n\t} = productDelete;\r\n\r\n\tconst productCreate = useSelector((state) => state.productCreate);\r\n\tconst {\r\n\t\tloading: loadingCreate,\r\n\t\tsuccess: successCreate,\r\n\t\terror: errorCreate,\r\n\t\tproduct: createdProduct,\r\n\t} = productCreate;\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tconst userDetails = useSelector((state) => state.userDetails);\r\n\tconst { error: userLoginError } = userDetails;\r\n\r\n\t// fetch user login info\r\n\tuseEffect(() => {\r\n\t\tuserInfo\r\n\t\t\t? userInfo.isSocialLogin\r\n\t\t\t\t? dispatch(getUserDetails(userInfo.id))\r\n\t\t\t\t: dispatch(getUserDetails('profile'))\r\n\t\t\t: dispatch(getUserDetails('profile'));\r\n\t}, [userInfo, dispatch]);\r\n\r\n\t// refresh token for expired access tokens\r\n\tuseEffect(() => {\r\n\t\tif (userLoginError && userInfo && !userInfo.isSocialLogin) {\r\n\t\t\tconst user = JSON.parse(localStorage.getItem('userInfo'));\r\n\t\t\tuser && dispatch(refreshLogin(user.email));\r\n\t\t}\r\n\t}, [userLoginError, dispatch, userInfo]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!userInfo.isAdmin) history.push('/login');\r\n\t\tdispatch({ type: PRODUCT_CREATE_RESET }); //reset the new product detail\r\n\t\tif (successCreate)\r\n\t\t\thistory.push(`/admin/product/${createdProduct._id}/edit`);\r\n\t\telse dispatch(listProducts('', pageNumber, 10)); // 3rd parameter is the no of products to be listed per page\r\n\t}, [\r\n\t\tdispatch,\r\n\t\thistory,\r\n\t\tuserInfo,\r\n\t\tsuccessDelete,\r\n\t\tsuccessCreate,\r\n\t\tcreatedProduct,\r\n\t\tpageNumber,\r\n\t]);\r\n\r\n\t// delete product after confirming\r\n\tconst handleDelete = (id) => {\r\n\t\tif (window.confirm('Are you sure you wanna delete this product?'))\r\n\t\t\tdispatch(deleteProduct(id));\r\n\t};\r\n\t// create a new dummy product\r\n\tconst handleCreateProduct = () => {\r\n\t\tdispatch(createProduct());\r\n\t};\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Row className='align-items-center'>\r\n\t\t\t\t<Col>\r\n\t\t\t\t\t<h1>Products</h1>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col style={{ display: 'flex', justifyContent: 'flex-end' }}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName='my-3'\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tpadding: '0.5em 1em',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonClick={handleCreateProduct}>\r\n\t\t\t\t\t\t<i className='fas fa-plus' /> Create Product\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t\t{errorDelete && (\r\n\t\t\t\t<Message dismissible variant='danger' duration={10}>\r\n\t\t\t\t\t{errorDelete}\r\n\t\t\t\t</Message>\r\n\t\t\t)}\r\n\t\t\t{errorCreate && (\r\n\t\t\t\t<Message dismissible variant='danger' duration={10}>\r\n\t\t\t\t\t{errorCreate}\r\n\t\t\t\t</Message>\r\n\t\t\t)}\r\n\t\t\t{loading || loadingCreate || loadingDelete ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message dismissible variant='danger' duration={10}>\r\n\t\t\t\t\t{error}\r\n\t\t\t\t</Message>\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Table\r\n\t\t\t\t\t\tstriped\r\n\t\t\t\t\t\tbordered\r\n\t\t\t\t\t\tresponsive\r\n\t\t\t\t\t\tclassName='table-sm text-center'>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t<th>NAME</th>\r\n\t\t\t\t\t\t\t\t<th>PRICE</th>\r\n\t\t\t\t\t\t\t\t<th>CATEGORY</th>\r\n\t\t\t\t\t\t\t\t<th>BRAND</th>\r\n\t\t\t\t\t\t\t\t<th>ACTION</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{products &&\r\n\t\t\t\t\t\t\t\tproducts.map((product) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<tr key={product._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{product._id}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{product.name}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{product.price &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tproduct.price.toLocaleString(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'en-IN',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'currency',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrency: 'vnd',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{product.category}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{product.brand}</td>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<td\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tjustifyContent:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'space-around',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LinkContainer\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tto={`/admin/product/${product._id}/edit`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='link'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-sm'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-edit' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-sm'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleDelete(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproduct._id\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='danger'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '0.9em',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpadding: '0',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-trash'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t\t<Paginate pages={pages} page={page} isAdmin={true} />\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default ProductListPage;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Form, Button, Image, FloatingLabel, Row, Col } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { listProductDetails, updateProduct } from '../actions/productActions';\r\nimport { PRODUCT_UPDATE_RESET } from '../constants/productConstants';\r\nimport axios from 'axios';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport { refreshLogin, getUserDetails } from '../actions/userActions';\r\n\r\nimport FormContainer from '../components/FormContainer';\r\n\r\nconst ProductEditPage = ({ match, history }) => {\r\n\t// all variable for stroing product details\r\n\tconst productId = match.params.id;\r\n\tconst [name, setName] = useState('');\r\n\tconst [brand, setBrand] = useState('');\r\n\tconst [category, setCategory] = useState('');\r\n\tconst [description, setDescription] = useState('');\r\n\tconst [image, setImage] = useState('');\r\n\tconst [price, setPrice] = useState(0.0);\r\n\tconst [countInStock, setCountInStock] = useState(0);\r\n\r\n\t// to upload product image\r\n\tconst [uploading, setUploading] = useState(false);\r\n\tconst [errorImageUpload, setErrorImageUpload] = useState('');\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst productDetails = useSelector((state) => state.productDetails);\r\n\tconst { loading, product, error } = productDetails;\r\n\r\n\tconst productUpdate = useSelector((state) => state.productUpdate);\r\n\tconst {\r\n\t\tloading: loadingUpdate,\r\n\t\tsuccess: successUpdate,\r\n\t\terror: errorUpdate,\r\n\t} = productUpdate;\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tconst userDetails = useSelector((state) => state.userDetails);\r\n\tconst { error: userLoginError } = userDetails;\r\n\r\n\t// fetch user login details\r\n\tuseEffect(() => {\r\n\t\tuserInfo\r\n\t\t\t? userInfo.isSocialLogin\r\n\t\t\t\t? dispatch(getUserDetails(userInfo.id))\r\n\t\t\t\t: dispatch(getUserDetails('profile'))\r\n\t\t\t: dispatch(getUserDetails('profile'));\r\n\t}, [userInfo, dispatch]);\r\n\r\n\t// fetch new access tokens if user details fail, using the refresh token\r\n\tuseEffect(() => {\r\n\t\tif (userLoginError && userInfo && !userInfo.isSocialLogin) {\r\n\t\t\tconst user = JSON.parse(localStorage.getItem('userInfo'));\r\n\t\t\tuser && dispatch(refreshLogin(user.email));\r\n\t\t}\r\n\t}, [userLoginError, dispatch, userInfo]);\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(listProductDetails(productId));\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, []);\r\n\r\n\t// update the product details in state\r\n\tuseEffect(() => {\r\n\t\tif (successUpdate) {\r\n\t\t\tdispatch({ type: PRODUCT_UPDATE_RESET });\r\n\t\t\thistory.push('/admin/productlist');\r\n\t\t} else {\r\n\t\t\tif (!product || product._id !== productId) {\r\n\t\t\t\tdispatch(listProductDetails(productId));\r\n\t\t\t} else {\r\n\t\t\t\tsetName(product.name);\r\n\t\t\t\tsetPrice(product.price);\r\n\t\t\t\tsetImage(product.image);\r\n\t\t\t\tsetBrand(product.brand);\r\n\t\t\t\tsetCategory(product.category);\r\n\t\t\t\tsetDescription(product.description);\r\n\t\t\t\tsetCountInStock(product.countInStock);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [product, dispatch, productId, history, successUpdate]);\r\n\r\n\t// submit the product details\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(\r\n\t\t\tupdateProduct({\r\n\t\t\t\t_id: productId,\r\n\t\t\t\tname,\r\n\t\t\t\tbrand,\r\n\t\t\t\tprice,\r\n\t\t\t\tcategory,\r\n\t\t\t\tdescription,\r\n\t\t\t\tcountInStock,\r\n\t\t\t\timage,\r\n\t\t\t})\r\n\t\t);\r\n\t};\r\n\r\n\t// for image input, use a ref\r\n\tconst inputFile = useRef(null);\r\n\r\n\t// click the above ref, to handle the overlay div above the product image\r\n\tconst handleImageClick = () => {\r\n\t\tinputFile.current.click();\r\n\t};\r\n\r\n\t// submit file to aws bucket, get the url\r\n\tconst handleFileUpload = async (e) => {\r\n\t\tconst file = e.target.files[0];\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('image', file);\r\n\t\tsetUploading(true);\r\n\t\ttry {\r\n\t\t\tconst config = {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t},\r\n\t\t\t};\r\n\r\n\t\t\tconst { data } = await axios.post('/api/upload', formData, config);\r\n\t\t\tsetImage(data);\r\n\t\t\tsetUploading(false);\r\n\t\t} catch (error) {\r\n\t\t\tsetErrorImageUpload('Please choose a valid image');\r\n\t\t\tsetUploading(false);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Link to='/admin/productlist'>\r\n\t\t\t\t<Button variant='outline-primary' className='mt-3'>\r\n\t\t\t\t\tGo Back\r\n\t\t\t\t</Button>\r\n\t\t\t</Link>\r\n\t\t\t<FormContainer style={{ marginTop: '-2em' }}>\r\n\t\t\t\t<h1>Edit Product</h1>\r\n\t\t\t\t{loadingUpdate ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : errorUpdate ? (\r\n\t\t\t\t\t<Message dismissible variant='danger' duration={10}>\r\n\t\t\t\t\t\t{errorUpdate}\r\n\t\t\t\t\t</Message>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t<Loader />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Form onSubmit={handleSubmit}>\r\n\t\t\t\t\t\t\t\t{error && (\r\n\t\t\t\t\t\t\t\t\t<Message\r\n\t\t\t\t\t\t\t\t\t\tdismissible\r\n\t\t\t\t\t\t\t\t\t\tvariant='danger'\r\n\t\t\t\t\t\t\t\t\t\tduration={10}>\r\n\t\t\t\t\t\t\t\t\t\t{error}\r\n\t\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<Form.Group controlId='name'>\r\n\t\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\t\tcontrolId='nameinput'\r\n\t\t\t\t\t\t\t\t\t\tlabel='Name'\r\n\t\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Enter Name'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetName(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Group controlId='price'>\r\n\t\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\t\tcontrolId='priceinput'\r\n\t\t\t\t\t\t\t\t\t\tlabel='Price'\r\n\t\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Enter price'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={price}\r\n\t\t\t\t\t\t\t\t\t\t\tmin='0'\r\n\t\t\t\t\t\t\t\t\t\t\tmax='1000'\r\n\t\t\t\t\t\t\t\t\t\t\tstep='0.1'\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetPrice(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t{errorImageUpload && (\r\n\t\t\t\t\t\t\t\t\t<Message\r\n\t\t\t\t\t\t\t\t\t\tdismissible\r\n\t\t\t\t\t\t\t\t\t\tvariant='danger'\r\n\t\t\t\t\t\t\t\t\t\tduration={10}>\r\n\t\t\t\t\t\t\t\t\t\t{errorImageUpload}\r\n\t\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{uploading ? (\r\n\t\t\t\t\t\t\t\t\t<div>Uploading...</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Form.Group controlId='image'>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col md={9}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontrolId='imageinput'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel='Image URL'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Enter image URL'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={image}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetImage(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col md={3}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taccept='image/*'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='file'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid='file'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tref={inputFile}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFileUpload}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ display: 'none' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='profile-page-image'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talignSelf: 'center',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Image\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={image}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle='Click to input file'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborder: '1px solid #ced4da',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmarginBottom: '1em',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcursor: 'pointer',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderRadius:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'0.25rem',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='image-overlay-product'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleImageClick\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tClick to upload image\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<Form.Group controlId='brand'>\r\n\t\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\t\tcontrolId='brandinput'\r\n\t\t\t\t\t\t\t\t\t\tlabel='Brand'\r\n\t\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Enter brand'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={brand}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetBrand(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Group controlId='category'>\r\n\t\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\t\tcontrolId='categoryinput'\r\n\t\t\t\t\t\t\t\t\t\tlabel='Category'\r\n\t\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Enter category'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={category}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetCategory(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Group controlId='description'>\r\n\t\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\t\tcontrolId='descinput'\r\n\t\t\t\t\t\t\t\t\t\tlabel='Description'\r\n\t\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Enter description URL'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetDescription(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Group controlId='countInStock'>\r\n\t\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\t\tcontrolId='countinstockinput'\r\n\t\t\t\t\t\t\t\t\t\tlabel='CountInStock'\r\n\t\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Enter Count In Stock'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t\t\t\t\tmin='0'\r\n\t\t\t\t\t\t\t\t\t\t\tmax='1000'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={countInStock}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetCountInStock(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<div className='d-flex'>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\t\t\tclassName='my-1 ms-auto'>\r\n\t\t\t\t\t\t\t\t\t\tUpdate Product\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</FormContainer>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default ProductEditPage;\r\n","import React, { useEffect } from 'react';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Table, Button, Row, Col } from 'react-bootstrap';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport Paginate from '../components/Paginate';\r\nimport { refreshLogin } from '../actions/userActions';\r\nimport { listAllOrders } from '../actions/orderActions';\r\nimport getDateString from '../utils/getDateString';\r\n\r\nconst ProductListPage = ({ history, match }) => {\r\n\tconst pageNumber = match.params.pageNumber || 1; // to fetch various pages of orders\r\n\tconst dispatch = useDispatch();\r\n\tconst orderListAll = useSelector((state) => state.orderListAll); // to avoid blank screen display\r\n\tconst { loading, orders, error, page, pages, total } = orderListAll;\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tconst userDetails = useSelector((state) => state.userDetails);\r\n\tconst { error: userLoginError } = userDetails;\r\n\r\n\t// refresh access tokens aif user details are failed\r\n\tuseEffect(() => {\r\n\t\tif (userLoginError && userInfo && !userInfo.isSocialLogin) {\r\n\t\t\tconst user = JSON.parse(localStorage.getItem('userInfo'));\r\n\t\t\tuser && dispatch(refreshLogin(user.email));\r\n\t\t}\r\n\t}, [userLoginError, dispatch, userInfo]);\r\n\r\n\t// get all orders by pagenumber\r\n\tuseEffect(() => {\r\n\t\tif (userInfo && userInfo.isAdmin) dispatch(listAllOrders(pageNumber));\r\n\t\telse history.push('/login');\r\n\t}, [dispatch, history, userInfo, pageNumber]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Row className='align-items-center'>\r\n\t\t\t\t<Col>\r\n\t\t\t\t\t<h1>All Orders ({`${total || 0}`})</h1>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message dismissible variant='danger' duration={10}>\r\n\t\t\t\t\t{error}\r\n\t\t\t\t</Message>\r\n\t\t\t) : (\r\n\t\t\t\t<Table\r\n\t\t\t\t\tstriped\r\n\t\t\t\t\tbordered\r\n\t\t\t\t\tresponsive\r\n\t\t\t\t\tclassName='table-sm text-center'>\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t<th>USER</th>\r\n\t\t\t\t\t\t\t<th>TOTAL</th>\r\n\t\t\t\t\t\t\t<th>DATE</th>\r\n\t\t\t\t\t\t\t<th>PAID</th>\r\n\t\t\t\t\t\t\t<th>DELIVERED</th>\r\n\t\t\t\t\t\t\t<th>ACTION</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{orders &&\r\n\t\t\t\t\t\t\torders.map((order) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<tr key={order._id}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{order._id}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{order.user && order.user.name}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t{order.totalPrice.toLocaleString(\r\n\t\t\t\t\t\t\t\t\t\t\t\t'en-IN',\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaximumFractionDigits: 2,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: 'currency',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrency: 'vnd',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t{getDateString(order.createdAt)}\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t{order.isPaid ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\tgetDateString(order.paidAt)\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-times'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'red',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t{order.isDelivered ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\tgetDateString(order.deliveredAt)\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='fas fa-times'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'red',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\t\t\t\t\t\t\tjustifyContent: 'space-around',\r\n\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t<LinkContainer\r\n\t\t\t\t\t\t\t\t\t\t\t\tto={`/order/${order._id}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant='link'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-sm'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tView Details\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</Table>\r\n\t\t\t)}\r\n\t\t\t<Paginate\r\n\t\t\t\tpages={pages}\r\n\t\t\t\tpage={page}\r\n\t\t\t\tisAdmin={true}\r\n\t\t\t\tforOrders={true}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default ProductListPage;\r\n","export default __webpack_public_path__ + \"static/media/404Error.0ed04e00.png\";","import React from 'react';\r\nimport errorImg from '../assets/404Error.png';\r\nimport { Link } from 'react-router-dom';\r\nimport '../styles/error-page.css';\r\n\r\n// 404 page\r\nconst ErrorPage = () => {\r\n\treturn (\r\n\t\t<div className='text-center'>\r\n\t\t\t<img className='error-img' alt='error' src={errorImg} />\r\n\t\t\t<p className='mb-0 mt-3 text-error'>\r\n\t\t\t\t<i className='far fa-frown' /> Looks like this page does not\r\n\t\t\t\texist.\r\n\t\t\t</p>\r\n\t\t\t<p className='mt-0 text-error'>\r\n\t\t\t\tGo Back to the <Link to='/'>Home Page</Link>\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ErrorPage;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://cra.link/PWA\r\n\r\nconst isLocalhost = Boolean(\r\n\twindow.location.hostname === 'localhost' ||\r\n\t\t// [::1] is the IPv6 localhost address.\r\n\t\twindow.location.hostname === '[::1]' ||\r\n\t\t// 127.0.0.0/8 are considered localhost for IPv4.\r\n\t\twindow.location.hostname.match(\r\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n\t\t)\r\n);\r\n\r\nexport function register(config) {\r\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n\t\t// The URL constructor is available in all browsers that support SW.\r\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n\t\tif (publicUrl.origin !== window.location.origin) {\r\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\r\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\r\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('load', () => {\r\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n\t\t\tif (isLocalhost) {\r\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\r\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\r\n\r\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\r\n\t\t\t\t// service worker/PWA documentation.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\r\n\t\t\t\t\t\t\t'worker. To learn more, visit https://cra.link/PWA'\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// Is not localhost. Just register service worker\r\n\t\t\t\tregisterValidSW(swUrl, config);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n\tnavigator.serviceWorker\r\n\t\t.register(swUrl)\r\n\t\t.then((registration) => {\r\n\t\t\tregistration.onupdatefound = () => {\r\n\t\t\t\tconst installingWorker = registration.installing;\r\n\t\t\t\tif (installingWorker == null) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tinstallingWorker.onstatechange = () => {\r\n\t\t\t\t\tif (installingWorker.state === 'installed') {\r\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\r\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\r\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\r\n\t\t\t\t\t\t\t// content until all client tabs are closed.\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\r\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See https://cra.link/PWA.'\r\n\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\r\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// At this point, everything has been precached.\r\n\t\t\t\t\t\t\t// It's the perfect time to display a\r\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\r\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\r\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t};\r\n\t\t})\r\n\t\t.catch((error) => {\r\n\t\t\tconsole.error('Error during service worker registration:', error);\r\n\t\t});\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n\t// Check if the service worker can be found. If it can't reload the page.\r\n\tfetch(swUrl, {\r\n\t\theaders: { 'Service-Worker': 'script' },\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\r\n\t\t\tconst contentType = response.headers.get('content-type');\r\n\t\t\tif (\r\n\t\t\t\tresponse.status === 404 ||\r\n\t\t\t\t(contentType != null &&\r\n\t\t\t\t\tcontentType.indexOf('javascript') === -1)\r\n\t\t\t) {\r\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\r\n\t\t\t\tnavigator.serviceWorker.ready.then((registration) => {\r\n\t\t\t\t\tregistration.unregister().then(() => {\r\n\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// Service worker found. Proceed as normal.\r\n\t\t\t\tregisterValidSW(swUrl, config);\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(() => {\r\n\t\t\tconsole.log(\r\n\t\t\t\t'No internet connection found. App is running in offline mode.'\r\n\t\t\t);\r\n\t\t});\r\n}\r\n\r\nexport function unregister() {\r\n\tif ('serviceWorker' in navigator) {\r\n\t\tnavigator.serviceWorker.ready\r\n\t\t\t.then((registration) => {\r\n\t\t\t\tregistration.unregister();\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.error(error.message);\r\n\t\t\t});\r\n\t}\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { ToastContainer, Toast } from 'react-bootstrap';\r\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\r\nimport './styles/update-toast.css';\r\n\r\nconst ServiceWorkerWrapper = () => {\r\n\tconst [showReload, setShowReload] = useState(false);\r\n\tconst [waitingWorker, setWaitingWorker] = useState(null);\r\n\r\n\tconst onSWUpdate = (registration) => {\r\n\t\tsetShowReload(true);\r\n\t\tsetWaitingWorker(registration.waiting);\r\n\t};\r\n\r\n\t// register the service worker on page load\r\n\tuseEffect(() => {\r\n\t\tserviceWorkerRegistration.register({ onUpdate: onSWUpdate });\r\n\t}, []);\r\n\r\n\t// skip waiting and install new updates on page reload\r\n\tconst reloadPage = () => {\r\n\t\twaitingWorker?.postMessage({ type: 'SKIP_WAITING' });\r\n\t\tsetShowReload(false);\r\n\t\twindow.location.reload(true);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<ToastContainer className='update-toast' onClick={reloadPage}>\r\n\t\t\t<Toast show={showReload} onClose={reloadPage} bg='dark'>\r\n\t\t\t\t<Toast.Header>\r\n\t\t\t\t\t<strong className='me-auto text-black'>\r\n\t\t\t\t\t\tNew Version Available\r\n\t\t\t\t\t</strong>\r\n\t\t\t\t</Toast.Header>\r\n\t\t\t\t<Toast.Body className='text-white'>\r\n\t\t\t\t\tReload to see whats new!\r\n\t\t\t\t</Toast.Body>\r\n\t\t\t</Toast>\r\n\t\t</ToastContainer>\r\n\t);\r\n};\r\n\r\nexport default ServiceWorkerWrapper;\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport { Container } from 'react-bootstrap';\r\nimport Header from './components/Header';\r\nimport Footer from './components/Footer';\r\n\r\nimport HomePage from './pages/HomePage';\r\nimport ProductPage from './pages/ProductPage';\r\nimport CartPage from './pages/CartPage';\r\nimport LoginPage from './pages/LoginPage';\r\nimport RegisterPage from './pages/RegisterPage';\r\nimport ProfilePage from './pages/ProfilePage';\r\nimport ConfirmPage from './pages/ConfirmPage';\r\nimport ShippingPage from './pages/ShippingPage';\r\nimport PaymentPage from './pages/PaymentPage';\r\nimport PlaceOrderPage from './pages/PlaceOrderPage';\r\nimport OrderPage from './pages/OrderPage';\r\nimport PasswordResetPage from './pages/PasswordResetPage';\r\nimport UserListPage from './pages/UserListPage';\r\nimport UserEditPage from './pages/UserEditPage';\r\nimport ProductListPage from './pages/ProductListPage';\r\nimport ProductEditPage from './pages/ProductEditPage';\r\nimport OrderListPage from './pages/OrderListPage';\r\nimport ErrorPage from './pages/ErrorPage';\r\n\r\n// for showing the 'new update available' banner and to register the service worker\r\nimport ServiceWorkerWrapper from './ServiceWorkerWrapper';\r\n\r\nconst App = () => {\r\n\treturn (\r\n\t\t<Router>\r\n\t\t\t<Header />\r\n\t\t\t<ServiceWorkerWrapper />\r\n\r\n\t\t\t<main className='py-2'>\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route path='/' component={HomePage} exact />\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\tpath='/search/:keyword'\r\n\t\t\t\t\t\t\tcomponent={HomePage}\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\tpath='/page/:pageNumber'\r\n\t\t\t\t\t\t\tcomponent={HomePage}\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\tpath='/search/:keyword/page/:pageNumber'\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tcomponent={HomePage}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route path='/login' component={LoginPage} />\r\n\t\t\t\t\t\t<Route path='/register' component={RegisterPage} />\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\tpath='/user/password/reset/:token'\r\n\t\t\t\t\t\t\tcomponent={PasswordResetPage}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route path='/profile' component={ProfilePage} />\r\n\t\t\t\t\t\t<Route path='/product/:id' component={ProductPage} />\r\n\t\t\t\t\t\t<Route path='/cart/:id?' component={CartPage} />\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\tpath='/user/confirm/:token'\r\n\t\t\t\t\t\t\tcomponent={ConfirmPage}\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route path='/shipping' component={ShippingPage} />\r\n\t\t\t\t\t\t<Route path='/payment' component={PaymentPage} />\r\n\t\t\t\t\t\t<Route path='/placeorder' component={PlaceOrderPage} />\r\n\t\t\t\t\t\t<Route path='/order/:id' component={OrderPage} />\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\tpath='/admin/userlist'\r\n\t\t\t\t\t\t\tcomponent={UserListPage}\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\tpath='/admin/userlist/:pageNumber'\r\n\t\t\t\t\t\t\tcomponent={UserListPage}\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\tpath='/admin/user/:id/edit'\r\n\t\t\t\t\t\t\tcomponent={UserEditPage}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\tpath='/admin/productlist'\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tcomponent={ProductListPage}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\tpath='/admin/productlist/:pageNumber'\r\n\t\t\t\t\t\t\tcomponent={ProductListPage}\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\tpath='/admin/product/:id/edit'\r\n\t\t\t\t\t\t\tcomponent={ProductEditPage}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\tpath='/admin/orderlist'\r\n\t\t\t\t\t\t\tcomponent={OrderListPage}\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\tpath='/admin/orderlist/:pageNumber'\r\n\t\t\t\t\t\t\tcomponent={OrderListPage}\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route component={ErrorPage} />\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</Container>\r\n\t\t\t</main>\r\n\t\t\t<Footer />\r\n\t\t</Router>\r\n\t);\r\n};\r\n\r\nexport default App;\r\n","import { createStore, applyMiddleware, combineReducers } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n\r\nimport {\r\n\tproductListReducer,\r\n\tproductDetailsReducer,\r\n\tproductDeleteReducer,\r\n\tproductCreateReducer,\r\n\tproductCreateReviewReducer,\r\n\tproductUpdateReducer,\r\n\tproductTopRatedReducer,\r\n} from './reducers/productReducers';\r\n\r\nimport { cartReducer } from './reducers/cartReducers';\r\n\r\nimport {\r\n\tuserLoginReducer,\r\n\tuserLoginRefreshReducer,\r\n\tuserRegisterReducer,\r\n\tuserSendEmailVerficationReducer,\r\n\tuserConfirmReducer,\r\n\tuserResetPasswordReducer,\r\n\tuserDetailsReducer,\r\n\tuserProfileUpdateReducer,\r\n\tuserListReducer,\r\n\tuserDeleteReducer,\r\n\tuserUpdateReducer,\r\n} from './reducers/userReducers';\r\n\r\nimport {\r\n\torderCreateReducer,\r\n\torderDetailsReducer,\r\n\torderPayReducer,\r\n\torderDeliverReducer,\r\n\torderListUserReducer,\r\n\torderListAllReducer,\r\n} from './reducers/orderReducers';\r\n\r\n// combine all the above reducers to the store\r\nconst reducer = combineReducers({\r\n\tproductList: productListReducer,\r\n\tproductDetails: productDetailsReducer,\r\n\tproductDelete: productDeleteReducer,\r\n\tproductCreate: productCreateReducer,\r\n\tproductCreateReview: productCreateReviewReducer,\r\n\tproductUpdate: productUpdateReducer,\r\n\tproductTopRated: productTopRatedReducer,\r\n\tcart: cartReducer,\r\n\tuserLogin: userLoginReducer,\r\n\tuserLoginRefresh: userLoginRefreshReducer,\r\n\tuserRegister: userRegisterReducer,\r\n\tuserSendEmailVerfication: userSendEmailVerficationReducer,\r\n\tuserConfirm: userConfirmReducer,\r\n\tuserResetPassword: userResetPasswordReducer,\r\n\tuserDetails: userDetailsReducer,\r\n\tuserProfileUpdate: userProfileUpdateReducer,\r\n\tuserList: userListReducer,\r\n\tuserDelete: userDeleteReducer,\r\n\tuserUpdate: userUpdateReducer,\r\n\torderCreate: orderCreateReducer,\r\n\torderDetails: orderDetailsReducer,\r\n\torderPay: orderPayReducer,\r\n\torderDeliver: orderDeliverReducer,\r\n\torderListUser: orderListUserReducer,\r\n\torderListAll: orderListAllReducer,\r\n});\r\n\r\n// get a few cart items from the local storage\r\nconst cartItemsFromLocalStorage = localStorage.getItem('cartItems')\r\n\t? JSON.parse(localStorage.getItem('cartItems'))\r\n\t: [];\r\n\r\n// get the user info from local storage\r\nconst userInfoFromLocalStorage = localStorage.getItem('userInfo')\r\n\t? JSON.parse(localStorage.getItem('userInfo'))\r\n\t: null;\r\n\r\n// get the shipping address from local storage\r\nconst shippingAddressFromLocalStorage = localStorage.getItem('shippingAddress')\r\n\t? JSON.parse(localStorage.getItem('shippingAddress'))\r\n\t: {};\r\n\r\n// get refresh token from the local storage\r\nconst tokenInfoFromLocalStoage = localStorage.getItem('refreshToken')\r\n\t? localStorage.getItem('refreshToken')\r\n\t: null;\r\n\r\n// set the initial state based on above local storage values\r\nconst initialState = {\r\n\tcart: {\r\n\t\tcartItems: [...cartItemsFromLocalStorage],\r\n\t\tshippingAddress: shippingAddressFromLocalStorage,\r\n\t},\r\n\tuserLogin: {\r\n\t\tuserInfo: userInfoFromLocalStorage,\r\n\t},\r\n\tuserLoginRefresh: {\r\n\t\ttokenInfo: tokenInfoFromLocalStoage,\r\n\t},\r\n};\r\n\r\n// user redux thunk for making async calls\r\nconst middleware = [thunk];\r\n\r\n// create the redux store\r\nconst store = createStore(\r\n\treducer,\r\n\tinitialState,\r\n\tcomposeWithDevTools(applyMiddleware(...middleware))\r\n);\r\n\r\nexport default store;\r\n","import {\r\n\tPRODUCT_LIST_REQUEST,\r\n\tPRODUCT_LIST_SUCCESS,\r\n\tPRODUCT_LIST_FAILURE,\r\n\tPRODUCT_DETAILS_FAILURE,\r\n\tPRODUCT_DETAILS_REQUEST,\r\n\tPRODUCT_DETAILS_SUCCESS,\r\n\tPRODUCT_DELETE_FAILURE,\r\n\tPRODUCT_DELETE_REQUEST,\r\n\tPRODUCT_DELETE_SUCCESS,\r\n\tPRODUCT_CREATE_SUCCESS,\r\n\tPRODUCT_CREATE_FAILURE,\r\n\tPRODUCT_CREATE_REQUEST,\r\n\tPRODUCT_CREATE_RESET,\r\n\tPRODUCT_UPDATE_SUCCESS,\r\n\tPRODUCT_UPDATE_FAILURE,\r\n\tPRODUCT_UPDATE_REQUEST,\r\n\tPRODUCT_UPDATE_RESET,\r\n\tPRODUCT_CREATE_REVIEW_SUCCESS,\r\n\tPRODUCT_CREATE_REVIEW_FAILURE,\r\n\tPRODUCT_CREATE_REVIEW_REQUEST,\r\n\tPRODUCT_CREATE_REVIEW_RESET,\r\n\tPRODUCT_TOP_RATED_SUCCESS,\r\n\tPRODUCT_TOP_RATED_FAILURE,\r\n\tPRODUCT_TOP_RATED_REQUEST,\r\n} from '../constants/productConstants';\r\n\r\n// list products based on keyword and paginated page number\r\nexport const productListReducer = (state = { products: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_LIST_REQUEST:\r\n\t\t\treturn { loading: true, products: [] };\r\n\r\n\t\tcase PRODUCT_LIST_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tproducts: action.payload.products,\r\n\t\t\t\tpage: action.payload.page,\r\n\t\t\t\tpages: action.payload.pages,\r\n\t\t\t};\r\n\r\n\t\tcase PRODUCT_LIST_FAILURE:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\r\n\t\tdefault:\r\n\t\t\treturn { state };\r\n\t}\r\n};\r\n\r\n// details about a particular product\r\nexport const productDetailsReducer = (\r\n\tstate = { product: { reviews: [] } },\r\n\taction\r\n) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_DETAILS_REQUEST:\r\n\t\t\treturn { loading: true, ...state };\r\n\t\tcase PRODUCT_DETAILS_SUCCESS:\r\n\t\t\treturn { loading: false, product: action.payload };\r\n\t\tcase PRODUCT_DETAILS_FAILURE:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n\r\nexport const productDeleteReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_DELETE_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase PRODUCT_DELETE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true };\r\n\t\tcase PRODUCT_DELETE_FAILURE:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n\r\nexport const productCreateReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_CREATE_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase PRODUCT_CREATE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true, product: action.payload };\r\n\t\tcase PRODUCT_CREATE_FAILURE:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase PRODUCT_CREATE_RESET:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n\r\nexport const productCreateReviewReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_CREATE_REVIEW_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase PRODUCT_CREATE_REVIEW_SUCCESS:\r\n\t\t\treturn { loading: false, success: true };\r\n\t\tcase PRODUCT_CREATE_REVIEW_FAILURE:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase PRODUCT_CREATE_REVIEW_RESET:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n\r\nexport const productUpdateReducer = (state = { product: {} }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_UPDATE_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase PRODUCT_UPDATE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true, product: action.payload };\r\n\t\tcase PRODUCT_UPDATE_FAILURE:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase PRODUCT_UPDATE_RESET:\r\n\t\t\treturn { product: {} };\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n\r\n// fetching top rated products\r\nexport const productTopRatedReducer = (state = { products: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_TOP_RATED_REQUEST:\r\n\t\t\treturn { loading: true, products: [] };\r\n\t\tcase PRODUCT_TOP_RATED_SUCCESS:\r\n\t\t\treturn { loading: false, products: action.payload };\r\n\t\tcase PRODUCT_TOP_RATED_FAILURE:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n","import {\r\n\tCART_ADD_ITEM,\r\n\tCART_REMOVE_ITEM,\r\n\tCART_SAVE_SHIPPING_ADDRESS,\r\n\tCART_SAVE_PAYMENT_METHOD,\r\n\tCART_RESET,\r\n} from '../constants/cartConstants';\r\n\r\nexport const cartReducer = (\r\n\tstate = { cartItems: [], shippingAddress: {} },\r\n\taction\r\n) => {\r\n\tswitch (action.type) {\r\n\t\tcase CART_ADD_ITEM:\r\n\t\t\tconst item = action.payload;\r\n\r\n\t\t\t// check if the item exists in the cart\r\n\t\t\tconst existingItem = state.cartItems.find(\r\n\t\t\t\t(ele) => ele.product === item.product\r\n\t\t\t);\r\n\t\t\tif (existingItem) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tcartItems: state.cartItems.map((ele) =>\r\n\t\t\t\t\t\tele.product === existingItem.product ? item : ele\r\n\t\t\t\t\t),\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tcartItems: [...state.cartItems, item],\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\tcase CART_REMOVE_ITEM:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcartItems: state.cartItems.filter(\r\n\t\t\t\t\t(ele) => ele.product !== action.payload\r\n\t\t\t\t),\r\n\t\t\t};\r\n\t\tcase CART_SAVE_SHIPPING_ADDRESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tshippingAddress: action.payload,\r\n\t\t\t};\r\n\t\tcase CART_SAVE_PAYMENT_METHOD:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpaymentMethod: action.payload,\r\n\t\t\t};\r\n\t\tcase CART_RESET: {\r\n\t\t\treturn {\r\n\t\t\t\tcartItems: [],\r\n\t\t\t\tshippingAddress: action.payload,\r\n\t\t\t};\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n","import {\r\n\tUSER_LOGIN_FAILURE,\r\n\tUSER_LOGIN_REQUEST,\r\n\tUSER_LOGIN_SUCCESS,\r\n\tUSER_LOGOUT,\r\n\tUSER_REGISTER_FAILURE,\r\n\tUSER_REGISTER_SUCCESS,\r\n\tUSER_REGISTER_REQUEST,\r\n\tUSER_RESET_PASSWORD_FAILURE,\r\n\tUSER_RESET_PASSWORD_SUCCESS,\r\n\tUSER_RESET_PASSWORD_REQUEST,\r\n\tUSER_EMAIL_VERIFICATION_REQUEST,\r\n\tUSER_EMAIL_VERIFICATION_SUCCESS,\r\n\tUSER_EMAIL_VERIFICATION_FAILURE,\r\n\tUSER_CONFIRM_REQUEST,\r\n\tUSER_CONFIRM_SUCCESS,\r\n\tUSER_CONFIRM_FAILURE,\r\n\tUSER_DETAILS_FAILURE,\r\n\tUSER_DETAILS_SUCCESS,\r\n\tUSER_DETAILS_REQUEST,\r\n\tUSER_DETAILS_RESET,\r\n\tUSER_PROFILE_UPDATE_REQUEST,\r\n\tUSER_PROFILE_UPDATE_SUCCESS,\r\n\tUSER_PROFILE_UPDATE_FAILURE,\r\n\tUSER_PROFILE_UPDATE_RESET,\r\n\tUSER_LOGIN_REFRESH_REQUEST,\r\n\tUSER_LOGIN_REFRESH_SUCCESS,\r\n\tUSER_LOGIN_REFRESH_FAILURE,\r\n\tUSER_LIST_REQUEST,\r\n\tUSER_LIST_SUCCESS,\r\n\tUSER_LIST_FAILURE,\r\n\tUSER_LIST_RESET,\r\n\tUSER_DELETE_REQUEST,\r\n\tUSER_DELETE_SUCCESS,\r\n\tUSER_DELETE_FAILURE,\r\n\tUSER_UPDATE_REQUEST,\r\n\tUSER_UPDATE_SUCCESS,\r\n\tUSER_UPDATE_FAILURE,\r\n\tUSER_UPDATE_RESET,\r\n} from '../constants/userConstants';\r\n\r\nexport const userLoginReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_LOGIN_REQUEST:\r\n\t\t\treturn { ...state, loading: true };\r\n\t\tcase USER_LOGIN_SUCCESS:\r\n\t\t\treturn { loading: false, userInfo: action.payload };\r\n\t\tcase USER_LOGIN_FAILURE:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase USER_LOGOUT:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n\r\n// use refresh token to obtain new access token for the logged in user\r\nexport const userLoginRefreshReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_LOGIN_REFRESH_REQUEST:\r\n\t\t\treturn { ...state, loading: true };\r\n\t\tcase USER_LOGIN_REFRESH_SUCCESS:\r\n\t\t\treturn { loading: false, tokenInfo: action.payload };\r\n\t\tcase USER_LOGIN_REFRESH_FAILURE:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n\r\n// sending an email for account verification\r\nexport const userSendEmailVerficationReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_EMAIL_VERIFICATION_REQUEST:\r\n\t\t\treturn { isLoading: true };\r\n\t\tcase USER_EMAIL_VERIFICATION_SUCCESS:\r\n\t\t\treturn { isLoading: true, emailSent: action.payload };\r\n\t\tcase USER_EMAIL_VERIFICATION_FAILURE:\r\n\t\t\treturn { isLoading: true, hasError: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n\r\n// update user account to confirmed\r\nexport const userConfirmReducer = (state = { isConfirmed: false }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_CONFIRM_REQUEST:\r\n\t\t\treturn { ...state, loading: true };\r\n\t\tcase USER_CONFIRM_SUCCESS:\r\n\t\t\treturn { loading: false, isConfirmed: action.payload };\r\n\t\tcase USER_CONFIRM_FAILURE:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n\r\n// reset the user password\r\nexport const userResetPasswordReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_RESET_PASSWORD_REQUEST:\r\n\t\t\treturn { ...state, loading: true };\r\n\t\tcase USER_RESET_PASSWORD_SUCCESS:\r\n\t\t\treturn { loading: false, resetPassword: action.payload };\r\n\t\tcase USER_RESET_PASSWORD_FAILURE:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tdefault: {\r\n\t\t\treturn { ...state };\r\n\t\t}\r\n\t}\r\n};\r\n\r\n// register user using email and password\r\nexport const userRegisterReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_REGISTER_REQUEST:\r\n\t\t\treturn { ...state, loading: true };\r\n\t\tcase USER_REGISTER_SUCCESS:\r\n\t\t\treturn { loading: false, userInfo: action.payload };\r\n\t\tcase USER_REGISTER_FAILURE:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n\r\n// fetch user details\r\nexport const userDetailsReducer = (state = { user: {} }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_DETAILS_REQUEST:\r\n\t\t\treturn { ...state, loading: true };\r\n\t\tcase USER_DETAILS_SUCCESS:\r\n\t\t\treturn { loading: false, user: action.payload };\r\n\t\tcase USER_DETAILS_FAILURE:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase USER_DETAILS_RESET:\r\n\t\t\treturn { user: {} };\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n\r\n// update user profile, not in admin view\r\nexport const userProfileUpdateReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_PROFILE_UPDATE_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase USER_PROFILE_UPDATE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true, userInfo: action.payload };\r\n\t\tcase USER_PROFILE_UPDATE_FAILURE:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase USER_PROFILE_UPDATE_RESET:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n\r\n// list all users for the admin view\r\nexport const userListReducer = (state = { users: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_LIST_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase USER_LIST_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tusers: action.payload.users,\r\n\t\t\t\tpage: action.payload.page,\r\n\t\t\t\tpages: action.payload.pages,\r\n\t\t\t\ttotal: action.payload.total,\r\n\t\t\t};\r\n\t\tcase USER_LIST_FAILURE:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase USER_LIST_RESET:\r\n\t\t\treturn { users: [] };\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n\r\nexport const userDeleteReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_DELETE_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase USER_DELETE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true };\r\n\t\tcase USER_DELETE_FAILURE:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n\r\n// update user from the admin panel view\r\nexport const userUpdateReducer = (state = { user: {} }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_UPDATE_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase USER_UPDATE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true };\r\n\t\tcase USER_UPDATE_FAILURE:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase USER_UPDATE_RESET:\r\n\t\t\treturn { user: {} };\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n","import {\r\n\tORDER_CREATE_REQUEST,\r\n\tORDER_CREATE_SUCCESS,\r\n\tORDER_CREATE_FAILURE,\r\n\tORDER_CREATE_RESET,\r\n\tORDER_DETAILS_REQUEST,\r\n\tORDER_DETAILS_SUCCESS,\r\n\tORDER_DETAILS_FAILURE,\r\n\tORDER_PAY_REQUEST,\r\n\tORDER_PAY_SUCCESS,\r\n\tORDER_PAY_FAILURE,\r\n\tORDER_PAY_RESET,\r\n\tORDER_DELIVER_REQUEST,\r\n\tORDER_DELIVER_SUCCESS,\r\n\tORDER_DELIVER_FAILURE,\r\n\tORDER_DELIVER_RESET,\r\n\tORDER_USER_LIST_REQUEST,\r\n\tORDER_USER_LIST_SUCCESS,\r\n\tORDER_USER_LIST_FAILURE,\r\n\tORDER_USER_LIST_RESET,\r\n\tORDER_ALL_LIST_REQUEST,\r\n\tORDER_ALL_LIST_SUCCESS,\r\n\tORDER_ALL_LIST_FAILURE,\r\n} from '../constants/orderConstants';\r\n\r\n// create an order\r\nexport const orderCreateReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_CREATE_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase ORDER_CREATE_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tsuccess: true,\r\n\t\t\t\torder: action.payload,\r\n\t\t\t};\r\n\t\tcase ORDER_CREATE_FAILURE:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t};\r\n\t\tcase ORDER_CREATE_RESET:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n\r\n// get order details\r\nexport const orderDetailsReducer = (\r\n\tstate = { loading: true, orderItems: [], shippingAddress: {} },\r\n\taction\r\n) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_DETAILS_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase ORDER_DETAILS_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\torder: action.payload,\r\n\t\t\t};\r\n\t\tcase ORDER_DETAILS_FAILURE:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n\r\n// update order payment options\r\nexport const orderPayReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_PAY_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase ORDER_PAY_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tsuccess: true,\r\n\t\t\t};\r\n\t\tcase ORDER_PAY_FAILURE:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t};\r\n\t\tcase ORDER_PAY_RESET:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n\r\n// update order to be delivered or not\r\nexport const orderDeliverReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_DELIVER_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase ORDER_DELIVER_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tsuccess: true,\r\n\t\t\t};\r\n\t\tcase ORDER_DELIVER_FAILURE:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t};\r\n\t\tcase ORDER_DELIVER_RESET:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n\r\n// reducer to list orders of the particular user\r\nexport const orderListUserReducer = (state = { orders: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_USER_LIST_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase ORDER_USER_LIST_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\torders: action.payload,\r\n\t\t\t};\r\n\t\tcase ORDER_USER_LIST_FAILURE:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t};\r\n\t\tcase ORDER_USER_LIST_RESET:\r\n\t\t\treturn { orders: [] };\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n\r\n// reducer to list all orders for the admin panel view\r\nexport const orderListAllReducer = (state = { orders: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_ALL_LIST_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase ORDER_ALL_LIST_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\torders: action.payload.orders,\r\n\t\t\t\tpage: action.payload.page,\r\n\t\t\t\tpages: action.payload.pages,\r\n\t\t\t\ttotal: action.payload.total,\r\n\t\t\t};\r\n\t\tcase ORDER_ALL_LIST_FAILURE:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn { ...state };\r\n\t}\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport App from './App';\r\nimport store from './store';\r\nimport { HelmetProvider } from 'react-helmet-async';\r\nimport './bootstrap.min.css';\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n\t<Provider store={store}>\r\n\t\t<React.StrictMode>\r\n\t\t\t<HelmetProvider>\r\n\t\t\t\t<App />\r\n\t\t\t</HelmetProvider>\r\n\t\t</React.StrictMode>\r\n\t</Provider>,\r\n\tdocument.getElementById('root')\r\n);\r\n"],"sourceRoot":""}